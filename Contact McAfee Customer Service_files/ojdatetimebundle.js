/**
 * @license
 * Copyright (c) 2014, 2023, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
define("ojs/ojoratimezone",["exports"],function(e){"use strict";
/**
   * @license
   * This is a forked version of moment-timezone.js
   * The MIT License (MIT)
   * Copyright (c) 2014 Tim Wood
   * https://github.com/moment/moment-timezone/blob/develop/LICENSE
   * @ignore
   */const t=function(){var e,t={},i=/^Etc\/GMT/i,n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX";function r(e,t){for(var i="",r=Math.abs(e),a=Math.floor(r),o=function(e,t){for(var i=".",r="";t>0;){t-=1,e*=60;var a=Math.floor(e+1e-6);i+=n[a],e-=a,a&&(r+=i,i="")}return r}(r-a,Math.min(t,10));a>0;)i=n[a%60]+i,a=Math.floor(a/60);return e<0&&(i="-"+i),i&&o?i+o:(o||"-"!==i)&&(i||o)||"0"}function a(e){return e>96?e-87:e>64?e-29:e-48}function o(e){var t=0,i=e.split("."),n=i[0],r=i[1]||"",o=1,s=0,l=1;for(45===e.charCodeAt(0)&&(t=1,l=-1);t<n.length;t++)s=60*s+a(n.charCodeAt(t));for(t=0;t<r.length;t++)o/=60,s+=a(r.charCodeAt(t))*o;return s*l}function s(e){for(var t=0;t<e.length;t++)e[t]=o(e[t])}function l(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=e[t[n]];return i}function c(e,t){var i=t.split("|"),n=i[1].split(" "),r=i[2].split(""),a=i[3].split(" ");return s(n),s(r),s(a),function(e,t){for(var i=0;i<t;i++)e[i]=Math.round((e[i-1]||0)+6e4*e[i]);e[t-1]=1/0}(a,r.length),{name:e,abbrs:l(i[0].split(" "),r),offsets:l(n,r),untils:a}}function u(){var e=new Error("The input time does not exist because it falls during the transition to daylight saving time.");throw e.errorInfo={errorCode:"nonExistingTime"},e}function d(e,t){var n=t.zones[e];if(i.test(e)){var a=e.replace(i,"").split(":"),o=60*parseInt(a[0],10),s=0;if(isNaN(o))return;if(2===a.length&&(s=parseInt(a[1],10),isNaN(s)))return;if((o+=o>=0?s:-s)<-840||o>720)return;o=r(o,1),n=e.replace("/etc//i","").toUpperCase()+"|"+o+"|0|"}void 0!==n&&this._set(c(e,n))}function h(e){return(e||"").toLowerCase().replace(/\//g,"_")}function p(e,i){var n=h(e);return void 0===t[n]&&function(e,i){var n=new d(e,i),r=h(n.name);t[r]=n}(e,i),t[h(e)]||null}function _(){return{getZone:function(e,t){var i=t.supplemental.timeZoneData;void 0===i&&function(){var e=new Error("TimeZone data is missing. Please call require 'ojs/ojtimezonedata' in order to load the TimeZone data.");throw e.errorInfo={errorCode:"missingTimeZoneData"},e}();var n=p(e,i);if(!n){var r=i.links[e];r&&(n=p(r,i))}return n||function(e){var t=new Error("invalid timeZone ID: "+e),i={errorCode:"invalidTimeZoneID",parameterMap:{timeZoneID:e}};throw t.errorInfo=i,t}(e),n}}}return d.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets},parse:function(e,t,i,n){for(var r=this.offsets,a=this.untils,o=a.length-1,s=0;s<o;s++){var l=r[s],c=r[s+1],d=a[s],h=d-6e4*l,p=h-36e5;if(e>=h&&e<h+36e5&&l>c){if(!0!==n)return s+1;u()}if(e>=p&&e<h&&l<c)return t?s:s+1;if(e<d-6e4*l)return!1===i?t?l<c?s:s+1:l<c?s+1:s:s}return o},abbr:function(e){return this.abbrs[e]},ofset:function(e){var t=this.offsets.length;return 0===t?0:e>=0&&e<t?parseInt(this.offsets[e],10):parseInt(this.offsets[t-1],10)},len:function(){return this.offsets.length}},{getInstance:function(){return e||(e=_()),e}}}();e.OraTimeZone=t,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojconverter-preferences",["exports"],function(e){"use strict";let t={};e.getDateTimePreferences=()=>t,e.setDateTimePreferences=e=>{t=Object.freeze(e)},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojconverter-nativedatetime",["exports","ojs/ojlogger","ojs/ojconfig","ojs/ojlocaledata","ojs/ojconverterutils-i18n","ojs/ojtranslation","ojs/ojcore-base","ojs/ojcalendarutils","ojs/ojoratimezone","ojs/ojconverter-preferences"],function(e,t,i,n,r,a,o,s,l,c){"use strict";o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;class u{}u._YEAR_AND_DATE_REGEXP=/(\d{1,4})\D+?(\d{1,4})/g,u._YMD_REGEXP=/(\d{1,4})\D+?(\d{1,4})\D+?(\d{1,4})/g,u._TIME_REGEXP=/(\d{1,2})(?:\D(\d{1,2}))?(?:\D(\d{1,2}))?(?:\D(\d{1,3}))?/g,u._TIME_FORMAT_REGEXP=/h|H|K|k/g,u._YEAR_REGEXP=/y{1,4}/,u._MONTH_REGEXP=/M{1,5}/,u._DAY_REGEXP=/d{1,2}/,u._WEEK_DAY_REGEXP=/E{1,5}/,u._HOUR_REGEXP=/h{1,2}|k{1,2}/i,u._MINUTE_REGEXP=/m{1,2}/,u._SECOND_REGEXP=/s{1,2}/,u._FRACTIONAL_SECOND_REGEXP=/S{1,3}/,u._AMPM_REGEXP=/a{1,2}/,u._WORD_REGEXP="(\\D+?\\s*)",u._ESCAPE_REGEXP=/([\^$.*+?|\[\](){}])/g,u._TOKEN_REGEXP=/ccccc|cccc|ccc|cc|c|EEEEE|EEEE|EEE|EE|E|dd|d|MMMMM|MMMM|MMM|MM|M|LLLLL|LLLL|LLL|LL|L|yyyy|yy|y|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|aa|a|SSS|SS|S|zzzz|zzz|zz|z|v|ZZZ|ZZ|Z|XXX|XX|X|VV|GGGGG|GGGG|GGG|GG|G/g,u._ZULU="zulu",u._LOCAL="local",u._AUTO="auto",u._INVARIANT="invariant",u._OFFSET="offset",u._ALNUM_REGEXP="(\\D+|\\d\\d?\\D|\\d\\d?|\\D+\\d\\d?)",u._NON_DIGIT_REGEXP="(\\D+|\\D+\\d\\d?)",u._NON_DIGIT_OPT_REGEXP="(\\D*)",u._STR_REGEXP="(.+?)",u._TWO_DIGITS_REGEXP="(\\d\\d?)",u._THREE_DIGITS_REGEXP="(\\d{1,3})",u._FOUR_DIGITS_REGEXP="(\\d{1,4})",u._SLASH_REGEXP="(\\/)",u._PROPERTIES_MAP={MMM:{token:"months",style:"format",mLen:"abbreviated",matchIndex:0,key:"month",value:"short",regExp:u._ALNUM_REGEXP},MMMM:{token:"months",style:"format",mLen:"wide",matchIndex:0,key:"month",value:"long",regExp:u._ALNUM_REGEXP},MMMMM:{token:"months",style:"format",mLen:"narrow",matchIndex:0,key:"month",value:"narrow",regExp:u._ALNUM_REGEXP},LLL:{token:"months",style:"stand-alone",mLen:"abbreviated",matchIndex:1,key:"month",value:"short",regExp:u._ALNUM_REGEXP},LLLL:{token:"months",style:"stand-alone",mLen:"wide",matchIndex:1,key:"month",value:"long",regExp:u._ALNUM_REGEXP},LLLLL:{token:"months",style:"stand-alone",mLen:"narrow",matchIndex:1,key:"month",value:"narrow",regExp:u._ALNUM_REGEXP},E:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:u._NON_DIGIT_REGEXP},EE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:u._NON_DIGIT_REGEXP},EEE:{token:"days",style:"format",dLen:"abbreviated",matchIndex:0,key:"weekday",value:"short",regExp:u._NON_DIGIT_REGEXP},EEEE:{token:"days",style:"format",dLen:"wide",matchIndex:0,key:"weekday",value:"long",regExp:u._NON_DIGIT_REGEXP},EEEEE:{token:"days",style:"format",dLen:"narrow",matchIndex:0,key:"weekday",value:"narrow",regExp:u._NON_DIGIT_REGEXP},c:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:u._NON_DIGIT_REGEXP},cc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:u._NON_DIGIT_REGEXP},ccc:{token:"days",style:"stand-alone",dLen:"abbreviated",matchIndex:1,key:"weekday",value:"short",regExp:u._NON_DIGIT_REGEXP},cccc:{token:"days",style:"stand-alone",dLen:"wide",matchIndex:1,key:"weekday",value:"long",regExp:u._NON_DIGIT_REGEXP},ccccc:{token:"days",style:"stand-alone",dLen:"narrow",matchIndex:1,key:"weekday",value:"narrow",regExp:u._NON_DIGIT_REGEXP},h:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"numeric",regExp:u._TWO_DIGITS_REGEXP},hh:{token:"time",timePart:"hour",start1:0,end1:11,start2:1,end2:12,key:"hour",value:"2-digit",regExp:u._TWO_DIGITS_REGEXP},K:{token:"time",timePart:"hour",start1:0,end1:12,start2:0,end2:12,key:"hour",value:"numeric",regExp:u._TWO_DIGITS_REGEXP},KK:{token:"time",timePart:"hour",start1:0,end1:12,start2:0,end2:12,key:"hour",value:"2-digit",regExp:u._TWO_DIGITS_REGEXP},H:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"numeric",regExp:u._TWO_DIGITS_REGEXP},HH:{token:"time",timePart:"hour",start1:0,end1:23,start2:0,end2:23,key:"hour",value:"2-digit",regExp:u._TWO_DIGITS_REGEXP},k:{token:"time",timePart:"hour",start1:0,end1:24,start2:0,end2:24,key:"hour",value:"numeric",regExp:u._TWO_DIGITS_REGEXP},kk:{token:"time",timePart:"hour",start1:0,end1:24,start2:0,end2:24,key:"hour",value:"2-digit",regExp:u._TWO_DIGITS_REGEXP},m:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"numeric",regExp:u._TWO_DIGITS_REGEXP},mm:{token:"time",timePart:"minute",start1:0,end1:59,start2:0,end2:59,key:"minute",value:"2-digit",regExp:u._TWO_DIGITS_REGEXP},s:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"numeric",regExp:u._TWO_DIGITS_REGEXP},ss:{token:"time",timePart:"second",start1:0,end1:59,start2:0,end2:59,key:"second",value:"2-digit",regExp:u._TWO_DIGITS_REGEXP},S:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:u._THREE_DIGITS_REGEXP},SS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:u._THREE_DIGITS_REGEXP},SSS:{token:"time",timePart:"millisec",start1:0,end1:999,start2:0,end2:999,key:"millisecond",value:"numeric",regExp:u._THREE_DIGITS_REGEXP},d:{token:"dayOfMonth",key:"day",value:"numeric",getPartIdx:2,regExp:u._TWO_DIGITS_REGEXP},dd:{token:"dayOfMonth",key:"day",value:"2-digit",getPartIdx:2,regExp:u._TWO_DIGITS_REGEXP},M:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:u._TWO_DIGITS_REGEXP},MM:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:u._TWO_DIGITS_REGEXP},L:{token:"monthIndex",key:"month",value:"numeric",getPartIdx:1,regExp:u._TWO_DIGITS_REGEXP},LL:{token:"monthIndex",key:"month",value:"2-digit",getPartIdx:1,regExp:u._TWO_DIGITS_REGEXP},y:{token:"year",key:"year",value:"numeric",regExp:u._FOUR_DIGITS_REGEXP},yy:{token:"year",key:"year",value:"2-digit",regExp:u._TWO_DIGITS_REGEXP},yyyy:{token:"year",key:"year",value:"numeric",regExp:u._FOUR_DIGITS_REGEXP},a:{token:"ampm",key:"dayPeriod",value:void 0,regExp:u._WORD_REGEXP},z:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:u._STR_REGEXP},v:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:u._STR_REGEXP},zz:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:u._STR_REGEXP},zzz:{token:"tzAbbrev",key:"timeZoneName",value:"short",regExp:u._STR_REGEXP},zzzz:{token:"tzFull",key:"timeZoneName",value:"long",regExp:u._STR_REGEXP},Z:{token:"tzhm",key:"tzhm",value:"short",regExp:u._STR_REGEXP,type:"tzOffset"},ZZ:{token:"tzhm",key:"tzhm",value:"short",regExp:u._STR_REGEXP,type:"tzOffset"},ZZZ:{token:"tzhm",key:"tzhm",value:"short",regExp:u._STR_REGEXP,type:"tzOffset"},X:{token:"tzh",key:"tzh",value:"short",regExp:u._STR_REGEXP,type:"tzOffset"},XX:{token:"tzhm",key:"tzhm",value:"short",regExp:u._STR_REGEXP,type:"tzOffset"},XXX:{token:"tzhsepm",key:"tzhsepm",value:"short",regExp:u._STR_REGEXP,type:"tzOffset"},VV:{token:"tzid",key:"tzid",value:"short",regExp:u._STR_REGEXP,type:"tzOffset"},G:{token:"era",key:"era",value:"eraAbbr",regExp:u._NON_DIGIT_REGEXP},GG:{token:"era",key:"era",value:"eraAbbr",regExp:u._NON_DIGIT_REGEXP},GGG:{token:"era",key:"era",value:"eraAbbr",regExp:u._NON_DIGIT_REGEXP},GGGG:{token:"era",key:"era",value:"eraName",regExp:u._NON_DIGIT_REGEXP},GGGGG:{token:"era",key:"era",value:"eraNarrow",regExp:u._NON_DIGIT_REGEXP},"/":{token:"slash",regExp:u._SLASH_REGEXP}},u.FRACTIONAL_SECOND_MAP={a:{key:"dayPeriod",token:"dayPeriod",value:"narrow"},SSS:{key:"fractionalSecondDigits",token:"fractionalSecond",value:3},SS:{key:"fractionalSecondDigits",token:"fractionalSecond",value:2},S:{key:"fractionalSecondDigits",token:"fractionalSecond",value:1}},u._tokenMap={era:{short:"GGG",long:"GGGG",narrow:"GGGGG"},month:{short:"MMM",long:"MMMM",narrow:"MMMMM",numeric:"M","2-digit":"MM"},weekday:{short:"EEE",long:"EEEE",narrow:"EEEEE"},year:{numeric:"y","2-digit":"yy"},day:{numeric:"d","2-digit":"dd"},hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},fractionalSecond:{1:"S",2:"SS",3:"SSS"},timeZoneName:{short:"z",long:"zzzz"}},u._dateTimeFormats={dateStyle:{full:{year:"y",month_s:"MM",month_m:"MMMM",weekday:"EEEE",day:"d"},long:{year:"y",month_s:"MM",month_m:"MMMM",day:"d"},medium:{year:"y",month_s:"MM",month_m:"MMM",day:"d"},short:{year:"y",month_s:"M",month_m:"MMM",day:"d"}},timeStyle:{full:{hour:"h",minute:"mm",second:"ss",timeZoneName:"zzzz"},long:{hour:"h",minute:"mm",second:"ss",timeZoneName:"z"},medium:{hour:"h",minute:"mm",second:"ss"},short:{hour:"h",minute:"mm"}}},u._ALPHA_REGEXP=/([a-zA-Z]+)/,u._HOUR12_REGEXP=/h/g,u._hourCycleMap={h12:"h",h23:"H",h11:"K",h24:"k"},u._zh_tw_locales=["zh-TW","zh-Hant","zh-Hant-TW"],u._zh_tw_pm_symbols=["中午","下午","晚上"];const d=r.IntlConverterUtils;class h{static processError(e,t,i){let n,r=e.errorInfo,s="",l="",c="";if(r){var u=r.errorCode,h=r.parameterMap||{};o.Assert.assertObject(h);var p=h.propertyName;p=a.getTranslatedString("oj-converter.datetime.datetimeOutOfRange."+p),h.propertyName=p,e instanceof RangeError?"datetimeOutOfRange"===u?(s=a.getTranslatedString("oj-converter.datetime.datetimeOutOfRange.summary",{propertyName:p,value:h.value}),l=a.getTranslatedString("oj-converter.datetime.datetimeOutOfRange.detail",{minValue:h.minValue,maxValue:h.maxValue}),n=d.__getConverterError(s,l)):"isoStringOutOfRange"===u&&(s=a.getTranslatedString("oj-converter.datetime.invalidISOString.invalidRangeSummary",{isoStr:h.isoString,propertyName:p,value:h.value}),l=a.getTranslatedString("oj-converter.datetime.datetimeOutOfRange.detail",{minValue:h.minValue,maxValue:h.maxValue}),n=d.__getConverterError(s,l)):e instanceof SyntaxError?"optionValueInvalid"===u&&(n=d.__getConverterOptionError(u,h)):e instanceof Error&&("dateFormatMismatch"===u?c="oj-converter.datetime.dateFormatMismatch.summary":"timeFormatMismatch"===u?c="oj-converter.datetime.timeFormatMismatch.summary":"datetimeFormatMismatch"===u?c="oj-converter.datetime.datetimeFormatMismatch.summary":"nonExistingTime"===u?c="oj-converter.datetime.nonExistingTime.summary":"dateToWeekdayMismatch"===u?(s=a.getTranslatedString("oj-converter.datetime.dateToWeekdayMismatch.summary",{date:h.date,weekday:h.weekday}),l=a.getTranslatedString("oj-converter.datetime.dateToWeekdayMismatch.detail"),n=d.__getConverterError(s,l)):"invalidISOString"===u&&(s=a.getTranslatedString("oj-converter.datetime.invalidISOString.summary",{isoStr:h.isoStr}),l=a.getTranslatedString("oj-converter.datetime.invalidISOString.detail"),n=d.__getConverterError(s,l)),c&&(s=a.getTranslatedString(c,{value:t||h.value,format:h.format}),l=a.getTranslatedString("oj-converter.hint.detail",{exampleValue:i}),n=d.__getConverterError(s,l)))}return n||(s=e.message,l=e.message,n=d.__getConverterError(s,l)),n}}const p=r.OraI18nUtils;const _=r.OraI18nUtils;class m{constructor(e){this.intlFormatter=null,this.pattern=null,this.inputTimeZone=!1,this.intlFormatter=new Intl.DateTimeFormat(i.getLocale(),e);let t=e||{};this.resOptions=this.intlFormatter.resolvedOptions(),this.resOptions.isoStrFormat=t.isoStrFormat||"auto",this.resOptions.twoDigitYearStart=t.twoDigitYearStart||1950,this.resOptions.lenientParse=t.lenientParse||"full",t.timeZone&&(this.inputTimeZone=!0)}format(e){const t=this.normalizeIsoString(e);return this.intlFormatter.format(new Date(t))}parse(e){if(null==e||""===e){throw new Error("input value of the parse method cannot be empty")}const r=s.CalendarUtils.getCalendar(i.getLocale(),this.resOptions.calendar),a=n.__getBundle();try{const i=class{static parseImpl(e,t,i,n,r){const a=i.numberingSystem;void 0!==a&&"latn"!==a&&(e=p.getLatnDigits(e,a));let o,s=0,l="",c=null;return!0===p._ISO_DATE_REGEXP.test(e)?(l=e,s=this._isoStrDateTimeStyle(e)):(s=this._dateTimeStyle(i),o=this._parseExact(e,t,i,n,r),l=o.value),c=p.getISOStrFormatInfo(l),void 0!==i.timeZone&&c.format!==u._LOCAL&&this._adjustHours(c,i,n),l=this._createParseISOStringFromDate(s,c,i,n),void 0===o?o={value:l,warning:null}:(o.value=l,o.warning=null),o}static _appendPreOrPostMatch(e,t){let i=0,n=!1;for(let r=0,a=e.length;r<a;r++){const a=e.charAt(r);switch(a){case"'":n?t.push("'"):i+=1,n=!1;break;case"\\":n&&t.push("\\"),n=!n;break;default:t.push(a),n=!1}}return i}static _validateRange(e){if(e.value<e.low||e.value>e.high){const t=e.displayValue+" is out of range.  Enter a value between "+e.displayLow+" and "+e.displayHigh+" for "+e.name;let i=new RangeError(t);const n={errorCode:"datetimeOutOfRange",parameterMap:{value:e.displayValue,minValue:e.displayLow,maxValue:e.displayHigh,propertyName:e.name}};throw i.errorInfo=n,i}}static _throwInvalidDateFormat(e,t,i){const n=void 0!==t.year||void 0!==t.month||void 0!==t.weekday||void 0!==t.day,r=void 0!==t.hour||void 0!==t.minute||void 0!==t.second;let a="";a=n&&r?"MM/dd/yy hh:mm:ss a":n?"MM/dd/yy":"hh:mm:ss a";let o=new SyntaxError("Unexpected character(s) "+i+' encountered in the pattern "'+e+' An example of a valid pattern is "'+a+'".');const s={errorCode:"optionValueInvalid",parameterMap:{propertyName:"pattern",propertyValue:e,"propertyValueHint ":a}};throw o.errorInfo=s,o}static _throwWeekdayMismatch(e,t){let i=new Error("The weekday "+e+" does not match the date "+t);const n={errorCode:"dateToWeekdayMismatch",parameterMap:{weekday:e,date:t}};throw i.errorInfo=n,i}static _throwDateFormatMismatch(e,t,i){let n="",r="";2===i?(n='The value "'+e+'" does not match the expected date-time format "'+t+'"',r="datetimeFormatMismatch"):0===i?(n='The value "'+e+'" does not match the expected date format "'+t+'"',r="dateFormatMismatch"):(n='The value "'+e+'" does not match the expected time format "'+t+'"',r="timeFormatMismatch");let a=new Error(n);const o={errorCode:r,parameterMap:{value:e,format:t}};throw a.errorInfo=o,a}static _getTimeZone(e,t){return l.OraTimeZone.getInstance().getZone(e,t)}static _parseZone(e,t,i,n,r){const a=Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]);return e.parse(a,i,n,r)}static _parseTimezoneOffset(e){let t=e.split(":"),i=new Array(2);return 2===t.length?(i[0]=parseInt(t[0],10),i[1]=parseInt(t[1],10)):2===e.length||3===e.length?(i[0]=parseInt(e,10),i[1]=0):(i[0]=parseInt(e.substr(0,3),10),i[1]=parseInt(e.substr(3),10)),i}static _expandYear(e,t){if((t=Number(t))<100){const i=e%100;t+=100*Math.floor(e/100)+(t<i?100:0)}return t}static _arrayIndexOfMonthOrDay(e,t){let i=p.toUpper(t);i=p.trim(i),i=i.replace(/\.$/,"");const n=Object.keys(e);for(let t=0;t<n.length;t++){let r=n[t];if(r=p.toUpper(e[r]),r=p.trim(r),r=r.replace(/\.$/,""),i==r)return t}return-1}static _getDayIndex(e,t,i){let n=0,r=[];const a=e.days.format,o=e.days["stand-alone"];r=[a.abbreviated,a.wide,o.abbreviated,o.wide];for(let e=0;e<r.length;e++)if(n=this._arrayIndexOfMonthOrDay(r[e],t),-1!==n)return n;return n}static _getMonthIndex(e,t,i){let n=-1;const r=e.months.format,a=e.months["stand-alone"],o=[r.wide,r.abbreviated,a.wide,a.abbreviated];for(let e=0;e<o.length;e++)if(n=this._arrayIndexOfMonthOrDay(o[e],t),-1!==n)return n;return n}static _getParseRegExp(e,t){const i=e.replace(u._ESCAPE_REGEXP,"\\\\$1");let n=["^"],r=[],a=0,o=0,s=u._TOKEN_REGEXP.exec(i);for(;null!==s;){const l=i.slice(a,s.index);if(a=u._TOKEN_REGEXP.lastIndex,o+=this._appendPreOrPostMatch(l,n),o%2)n.push(s[0]);else{const i=s[0];let a="";void 0!==u._PROPERTIES_MAP[i]?a=u._PROPERTIES_MAP[i].regExp:this._throwInvalidDateFormat(e,t,i),a&&n.push(a),r.push(s[0])}s=u._TOKEN_REGEXP.exec(i)}this._appendPreOrPostMatch(i.slice(a),n),n.push("$");return{regExp:n.join("").replace(/\s+/g,"\\s+"),groups:r}}static _getTokenIndex(e,t){for(let i=0;i<e.length;i++)if(void 0!==e[i][t])return i;return 0}static _parseLenienthms(e,t,i,n,r){u._TIME_REGEXP.lastIndex=0;let a,o,s=0,l=0,c=0,d=0,h=u._TIME_REGEXP.exec(t);switch(null===h&&this._throwDateFormatMismatch(t,i,n),void 0!==h[1]&&(s=parseInt(h[1],10)),void 0!==h[2]&&(l=parseInt(h[2],10)),void 0!==h[3]&&(c=parseInt(h[3],10)),void 0!==h[4]&&(d=parseInt(h[4],10)),u._TIME_FORMAT_REGEXP.lastIndex=0,h=u._TIME_FORMAT_REGEXP.exec(i),h[0]){case"h":12===s&&(s=0),o={name:"hour",value:s,low:0,high:11,displayValue:s,displayLow:1,displayHigh:12},this._validateRange(o),a=this._matchPMSymbol(r,t),a&&s<12&&(s+=12);break;case"K":o={name:"hour",value:s,low:0,high:11,displayValue:s,displayLow:0,displayHigh:11},this._validateRange(o),a=this._matchPMSymbol(r,t),a&&s<12&&(s+=12);break;case"H":o={name:"hour",value:s,low:0,high:23,displayValue:s,displayLow:0,displayHigh:23},this._validateRange(o);break;case"k":24===s&&(s=0),o={name:"hour",value:s,low:0,high:23,displayValue:s,displayLow:1,displayHigh:24}}o={name:"minute",value:l,low:0,high:59,displayValue:l,displayLow:0,displayHigh:59},this._validateRange(o),o={name:"second",value:c,low:0,high:59,displayValue:c,displayLow:0,displayHigh:59},this._validateRange(o),o={name:"farctionalSecond",value:d,low:0,high:999,displayValue:d,displayLow:0,displayHigh:999},this._validateRange(o),e.setHours(s,l,c,d)}static _getWeekdayName(e,t){const i=t.days.format,n=t.days["stand-alone"],r=[i.wide,i.abbreviated,n.wide,n.abbreviated];for(let t=0;t<r.length;t++){const i=Object.keys(r[t]);for(let n=0;n<i.length;n++){const a=r[t][i[n]];if(new RegExp(a+"\\b","i").test(e))return a}}return null}static _parseLenientyMEd(e,t,i,n,r){u._YMD_REGEXP.lastIndex=0;let a=u._YMD_REGEXP.exec(e),o=0;null===a&&(o=r?2:0,this._throwDateFormatMismatch(e,t,o));let s=[{y:t.indexOf("y")},{M:t.indexOf("M")},{d:t.indexOf("d")}];s.sort(function(e,t){let i=Object.keys(e)[0],n=Object.keys(t)[0];return e[i]-t[n]});let l=0,c=0,d=0,h=0,_=0,m=0,f=this._getTokenIndex(s,"d"),v=!1,g=!1;for(m=1;m<=3;m++){let e=a[m],t=parseInt(e);(e.length>2||t>31)&&(l=t,v=!0,h=m-1)}for(v||(h=this._getTokenIndex(s,"y"),l=a[this._getTokenIndex(s,"y")+1]),m=0;m<3;m++)if(m!==h&&a[m+1]>12){d=a[m+1],g=!0,_=m;break}if(g){for(m=0;m<3;m++)if(m!==_&&m!==h){c=a[m+1];break}void 0===c&&(c=a[this._getTokenIndex(s,"M")+1])}else h===this._getTokenIndex(s,"d")?(d=a[this._getTokenIndex(s,"y")+1],c=a[this._getTokenIndex(s,"M")+1]):h===this._getTokenIndex(s,"M")?(d=a[this._getTokenIndex(s,"d")+1],c=a[this._getTokenIndex(s,"y")+1]):(d=a[this._getTokenIndex(s,"d")+1],c=a[this._getTokenIndex(s,"M")+1]);c-=1;let y,D=p._getDaysInMonth(l,c);g&&f!==_&&c>12&&(y={name:"month",value:d,low:0,high:11,displayValue:d,displayLow:1,displayHigh:12},this._validateRange(y)),y={name:"month",value:c,low:0,high:11,displayValue:c+1,displayLow:1,displayHigh:12},this._validateRange(y),y={name:"day",value:d,low:1,high:D,displayValue:d,displayLow:1,displayHigh:D},this._validateRange(y);const k=i.twoDigitYearStart||1950;l=this._expandYear(k,l),y={name:"year",value:l,low:0,high:9999,displayValue:l,displayLow:0,displayHigh:9999},this._validateRange(y);let E=new Date(l,c,d),I=this._getWeekdayName(e,n);if(null!==I){const e=this._getDayIndex(n,I,0);E.getDay()!==e&&this._throwWeekdayMismatch(I,E.getDate())}if(r){const i=e.substr(u._YMD_REGEXP.lastIndex);0===i.length?E.setHours(0,0,0,0):this._parseLenienthms(E,i,t,2,n)}return{value:p.dateToLocalIso(E),warning:"lenient parsing was used"}}static _parseLenientyMMMEd(e,t,i,n,r){let a=e;e=p.toUpper(e);const o=n.months.format,s=n.months["stand-alone"];let l=[o.wide,o.abbreviated,s.wide,s.abbreviated],c=!1,d=[],h=0,_="";for(h=0;h<l.length;h++){d=[];const t=Object.keys(l[h]);let i=0;for(i=0;i<t.length;i++)_=p.toUpper(l[h][t[i]]),d.unshift({idx:i,name:_});for(d.sort(function(e,t){return t.idx-e.idx}),i=0;i<d.length;i++)if(_=d[i].name,-1!==e.indexOf(_)){c=!0,e=e.replace(_,"");break}if(c)break}if(!c)return this._parseLenientyMEd(a,t,i,n,r);const m=this._getMonthIndex(n,_,2);let f={name:"month",value:m,low:0,high:11,displayValue:m,displayLow:1,displayHigh:12};this._validateRange(f);const v=this._getWeekdayName(a,n),g=new RegExp(v+"\\W","i");null!==v&&(e=e.replace(g,"")),u._YEAR_AND_DATE_REGEXP.lastIndex=0;const y=u._YEAR_AND_DATE_REGEXP.exec(e);if(null===y){const e=r?2:0;this._throwDateFormatMismatch(a,t,e)}let D=[{y:t.indexOf("y")},{d:t.indexOf("d")}];D.sort(function(e,t){const i=Object.keys(e)[0],n=Object.keys(t)[0];return e[i]-t[n]});let k=0,E=0,I=0,S=!1;for(h=1;h<=2;h++){const e=y[h],t=parseInt(e);(e.length>2||t>31)&&(k=t,S=!0,I=h-1)}S||(I=this._getTokenIndex(D,"y"),k=parseInt(y[this._getTokenIndex(D,"y")+1],10)),E=I===this._getTokenIndex(D,"d")?parseInt(y[this._getTokenIndex(D,"y")+1],10):parseInt(y[this._getTokenIndex(D,"d")+1],10);const b=i.twoDigitYearStart||1950;k=this._expandYear(b,k),f={name:"year",value:k,low:0,high:9999,displayValue:k,displayLow:0,displayHigh:9999},this._validateRange(f);const O=new Date(k,m,E);if(null!==v){const e=this._getDayIndex(n,v,0);O.getDay()!==e&&this._throwWeekdayMismatch(v,O.getDate())}const T=p._getDaysInMonth(k,m);if(f={name:"day",value:E,low:1,high:T,displayValue:E,displayLow:1,displayHigh:T},this._validateRange(f),r){const i=e.substr(u._YEAR_AND_DATE_REGEXP.lastIndex);0===i.length?O.setHours(0,0,0,0):this._parseLenienthms(O,i,t,2,n)}return{value:p.dateToLocalIso(O),warning:"lenient parsing was used"}}static _parseLenient(e,t,i,n){let r;switch(this._dateTimeStyle(i)){case 0:r=this._parseLenientyMMMEd(e,t,i,n,!1);break;case 1:const a=new Date;this._parseLenienthms(a,e,t,1,n);r={value:p.dateToLocalIso(a),warning:"lenient parsing was used"};break;case 2:r=this._parseLenientyMMMEd(e,t,i,n,!0);break;default:r={value:"",warning:"lenient parsing was used"}}const a=p._IsoStrParts(r.value),o=[a[0],a[1],a[2]],s=r.value.split("T");return r.value=p.padZeros(o[0],4)+"-"+p.padZeros(o[1],2)+"-"+p.padZeros(o[2],2)+"T"+s[1],r}static _getNameIndex(e,t,i,n,r,a,o,s,l,c,u){let d=0;const h=e[t][r];let p;d="months"===t?this._getMonthIndex(e,i,a):this._getDayIndex(e,i,a);const _=h[n][l],m=h[n][c];return p={name:u,value:d,low:o,high:s,displayValue:parseInt(i),displayLow:_,displayHigh:m},this._validateRange(p),d}static _validateTimePart(e,t,i,n){let r=t;r[i.timePart]=e,"h"===n||"hh"===n?12===e&&(r[i.timePart]=0):"k"===n||"kk"===n?(r.htoken=n,24===e&&(r[i.timePart]=0)):"K"!==n&&"KK"!==n||12===e&&(r[i.timePart]=0);const a={name:i.timePart,value:r[i.timePart],low:i.start1,high:i.end1,displayValue:e,displayLow:i.start2,displayHigh:i.end2};this._validateRange(a)}static _dateTimeStyle(e){const t=void 0!==e.hour||void 0!==e.minute||void 0!==e.second||void 0!==e.fractionalSecondDigits,i=void 0!==e.year||void 0!==e.month||void 0!==e.day||void 0!==e.weekday;return i&&t?2:t?1:i?0:void 0!==e.dateStyle&&void 0!==e.timeStyle?2:void 0!==e.timeStyle?1:0}static _getStdOffset(e,t){const i=this._parseZone(e,t,!1,!0,!1),n=e.ofset(i),r=e.ofset(i+1);return Math.max(n,r)}static _matchPMSymbol(e,t){const i=e.locale;let n=!1,r=0;if(u._zh_tw_locales.includes(i)){const e=u._zh_tw_pm_symbols;for(r=0;r<e.length;r++){const i=e[r];if(-1!==t.indexOf(i))return!0}}else{const i=e.dayPeriods.format.wide.pm;n=-1!==p.toUpper(t).indexOf(p.toUpper(i))}return n}static _parseExact(e,t,i,n,r){const a=r.eras.eraAbbr[1],o=p.trimNumber(a);e=e.replace(a,o);const s=p.getGetOption(i,"NativeDateTimeConverter.parse")("lenientParse","string",["none","full"],"full"),l=this._dateTimeStyle(i),c=this._getParseRegExp(t,i),d=new RegExp(c.regExp).exec(e);if(null===d){if("full"===s)return this._parseLenient(e,t,i,r);this._throwDateFormatMismatch(e,t,l)}const h=c.groups;let _,m=null,f=null,v=null,g=null,y="",D=null,k=void 0,E="",I={hour:0,minute:0,second:0,millisec:0,htoken:""};const S=i.twoDigitYearStart||1950;for(let n=0,a=h.length;n<a;n++){const a=d[n+1];if(a){const o=h[n],l=parseInt(a,10),c=u._PROPERTIES_MAP[o];switch(c.token){case"months":f=this._getNameIndex(r,c.token,a,c.mLen,c.style,c.matchIndex,0,11,"1","12","month name");break;case"days":E=a,g=this._getNameIndex(r,c.token,a,c.dLen,c.style,c.matchIndex,0,6,"sun","sat","weekday");break;case"time":this._validateTimePart(l,I,c,o);break;case"dayOfMonth":v=l;break;case"monthIndex":if(f=l-1,f>11&&"full"===s)try{return this._parseLenient(e,t,i,r)}catch(e){_={name:"month",value:f,low:0,high:11,displayValue:f+1,displayLow:1,displayHigh:12},this._validateRange(_)}break;case"year":m=this._expandYear(S,l);break;case"ampm":k=this._matchPMSymbol(r,a);break;case"tzhm":y=a.substr(-2),y=a.substr(0,3)+":"+y;break;case"tzhsepm":y=a;break;case"tzh":y=a+":00";break;case"tzid":D=a}}}const b=new Date;null===m&&(m=b.getFullYear()),null===f&&null===v?(f=b.getMonth(),v=b.getDate()):null===v&&(v=1),b.setFullYear(m,f,v);const O=p._getDaysInMonth(m,f);_={name:"day",value:v,low:1,high:O,displayValue:v,displayLow:1,displayHigh:O},this._validateRange(_),1==k&&I.hour<12&&(I.hour+=12),0!=k||12!=I.hour||"k"!=I.htoken&&"kk"!=I.htoken||(I.hour=0);let T=[m,f+1,v];T[3]=I.hour,T[4]=I.minute,T[5]=I.second,T[6]=I.millisec;let w=p.partsToIsoString(T);if(null!==D){const e=this._getTimeZone(D,n),t=this._parseZone(e,T,!1,!0,!0),i=-e.ofset(t);y=p.getTimeStringFromOffset("",i,!1,!0)}""!==y&&(w+=y),_={name:"year",value:m,low:0,high:9999,displayValue:m,displayLow:0,displayHigh:9999},this._validateRange(_),_={name:"month",value:f,low:0,high:11,displayValue:f+1,displayLow:1,displayHigh:12},this._validateRange(_);const P=p._getDaysInMonth(T[0],T[1]-1);if(_={name:"day",value:T[2],low:1,high:P,displayValue:T[2],displayLow:1,displayHigh:P},this._validateRange(_),null!==g){const e=p.isoToLocalDate(w);e.getDay()!==g&&this._throwWeekdayMismatch(E,e.getDate())}return{value:w}}static _isoStrDateTimeStyle(e){const t=e.indexOf("T");return-1===t?0:t>0?2:1}static _adjustHours(e,t,i){let n=e.isoStrParts;const r=e.format,a=t.timeZone,o=this._getTimeZone(a,i);let s=null,l=0,c=0,d=0;switch(s=Date.UTC(n[0],n[1]-1,n[2],n[3],n[4],n[5]),r){case u._OFFSET:let t=this._parseTimezoneOffset(e.timeZone);const i=t[0],n=t[1];l=60*i+(i<0?-n:n);break;case u._ZULU:l=0}c=this._getStdOffset(o,n),s-=6e4*(c+l);const h=p.getGetOption(t,"NativeDateTimeConverter")("dst","boolean",[!0,!1],!1),_=0===e.dateTime.indexOf("T");d=o.parse(s,h,!_,!1),c=-o.ofset(d),c-=l;let m=new Date(Date.UTC(n[0],n[1]-1,n[2],n[3],n[4],n[5]));const f=m.getUTCMinutes()+c;m.setUTCHours(m.getUTCHours()+(f/60<<0),f%60),n[0]=m.getUTCFullYear(),n[1]=m.getUTCMonth()+1,n[2]=m.getUTCDate(),n[3]=m.getUTCHours(),n[4]=m.getUTCMinutes(),n[5]=m.getUTCSeconds()}static _createISOStrParts(e,t){let i=0,n="";switch(e){case 0:n=p.padZeros(t[0],4)+"-"+p.padZeros(t[1],2)+"-"+p.padZeros(t[2],2);break;case 1:n="T"+p.padZeros(t[3],2)+":"+p.padZeros(t[4],2)+":"+p.padZeros(t[5],2),i=t[6],i>0&&(n+="."+p.trimRightZeros(i));break;default:n=p.padZeros(t[0],4)+"-"+p.padZeros(t[1],2)+"-"+p.padZeros(t[2],2)+"T"+p.padZeros(t[3],2)+":"+p.padZeros(t[4],2)+":"+p.padZeros(t[5],2),i=t[6],i>0&&(n+="."+p.trimRightZeros(i))}return n}static _getParseISOStringOffset(e,t,i,n,r,a){const o=this._getTimeZone(e,r),s=this._parseZone(o,t,i,n,a),l=o.ofset(s);return p.getTimeStringFromOffset("",l,!0,!0)}static _createParseISOStringFromDate(e,t,i,n){let r=null,a=0,o="",s=[];const l=p.getGetOption(i,"NativeDateTimeConverter.parse"),c=l("isoStrFormat","string",[u._ZULU,u._OFFSET,u._INVARIANT,u._LOCAL,u._AUTO],u._AUTO),d=l("dst","boolean",[!0,!1],!1);let h=!0;const _=t.isoStrParts,m=t.timeZone,f=i.timeZone,v=t.format,g=i.isoStrFormat;let y=this._createISOStrParts(e,_);if(0===e||g===u._LOCAL)return y;if(1===e&&g===u._AUTO)return y;switch(1===e&&(h=!1),c){case u._OFFSET:void 0===f&&v===u._OFFSET?y+=m:void 0===f&&v===u._LOCAL?y+="":void 0===f&&v===u._ZULU?y+="+00:00":void 0!==f&&(o=this._getParseISOStringOffset(f,_,d,h,n,!0),y+=o);break;case u._ZULU:let t=0;if(void 0===f)if(v===u._OFFSET){s=this._parseTimezoneOffset(m);const e=parseInt(s[0],10),i=parseInt(s[1],10);t=60*e+(e<0?-i:i),t=-t}else t=new Date(_[0],_[1]-1,_[2],_[3],_[4],_[5]).getTimezoneOffset();else r=this._getTimeZone(f,n),a=this._parseZone(r,_,d,h,!0),t=r.ofset(a);if(0!==t){const i=new Date(Date.UTC(_[0],_[1]-1,_[2],_[3],_[4],_[5],_[6]));t=i.getUTCMinutes()+t,i.setUTCHours(i.getUTCHours()+(t/60<<0),t%60),_[0]=i.getUTCFullYear(),_[1]=i.getUTCMonth()+1,_[2]=i.getUTCDate(),_[3]=i.getUTCHours(),_[4]=i.getUTCMinutes(),_[5]=i.getUTCSeconds(),y=this._createISOStrParts(e,_)}y+="Z";break;case u._AUTO:void 0!==f?(o=this._getParseISOStringOffset(f,_,d,h,n,!0),y+=o):(o=m,o&&(y+=o))}return y}}.parseImpl(e,this._getPatternFromOptions(this.resOptions),this.resOptions,a,r),n=i.value;return n&&i.warning&&t.warn("The value "+e+" was leniently parsed to represent a date "+n),n}catch(t){throw h.processError(t,e,this.getHintValue())}}resolvedOptions(){return this.resOptions.patternFromOptions||(this.resOptions.patternFromOptions=this._getPatternFromOptions(this.resOptions)),this.resOptions}getTimeZoneOffset(e,t,i){let r=0;const a=_._IsoStrParts(e);if(this.inputTimeZone){const e=n.__getBundle(),i=l.OraTimeZone.getInstance().getZone(t,e),o=Date.UTC(a[0],a[1]-1,a[2],a[3],a[4],a[5]),s=i.parse(o,!1,!0,!0);r=i.ofset(s)}else r=new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5]).getTimezoneOffset();const o=-r;return i?_.getTimeStringFromOffset("",o,!1,!0):o}normalizeIsoString(e){if(null==e||""===e){throw new Error("input value of the format method cannot be empty")}e.startsWith("T")?e="2021-01-10"+e:-1===e.indexOf("T")&&(e+="T00:00:00");if(!_._ISO_DATE_REGEXP.exec(e)){const t=new Error(""),i={errorCode:"invalidISOString",parameterMap:{isoStr:e}};t.errorInfo=i;throw h.processError(t,"","")}let t=e.substring(e.indexOf("T"));if(-1===t.indexOf("Z")&&-1===t.indexOf("+")&&-1===t.indexOf("-")&&this.inputTimeZone){e+=this.getTimeZoneOffset(e,this.resOptions.timeZone,!0)}return e=e.replace(/(T.*?[+-]..$)/,"$1:00")}getHintValue(){let e="";try{e=this.format("1998-11-29T15:45:31")}catch(t){e=""}return e}static getPatternFromOptionsImpl(e,t){const i=new Date("2000-01-02T00:00:00");let n="",r="",a=null,o=null,s=null,l=!1,c=!1;void 0!==t.dateStyle&&(o=u._dateTimeFormats.dateStyle,o=o[t.dateStyle],l=!0),void 0!==t.timeStyle&&(s=u._dateTimeFormats.timeStyle,s=s[t.timeStyle],c=!0);let d=u._tokenMap;return e.formatToParts(i).map(({type:e,value:i})=>{switch(e){case"literal":a=i.replace(u._ALPHA_REGEXP,"'$1'");break;case"dayPeriod":a="a";break;case"hour":c?a=s[e]:(r=t[e],a=d[e][r]);let n=t.hour12;void 0===n&&(n=!1),t.hourCycle&&(a=a.replace(u._HOUR12_REGEXP,u._hourCycleMap[t.hourCycle])),!0===n&&(a=a.replace(u._HOUR12_REGEXP,"h"));break;case"month":l?a=isNaN(+i)?o.month_m:o.month_s:(r=t[e],a=d[e][r]);break;case"year":case"day":case"weekday":l?a=o[e]:(r=t[e],a=d[e][r]);break;case"minute":case"second":case"timeZoneName":c?a=s[e]:(r=t[e],a=d[e][r]);break;case"era":r=t[e]||"short",a=d[e][r];break;case"fractionalSecond":a=t.fractionalSecondDigits,a=d[e][a]}n+=a}),n}_getPatternFromOptions(e){return this.pattern||(this.pattern=m.getPatternFromOptionsImpl(this.intlFormatter,e)),this.pattern}}const f=r.OraI18nUtils;class v extends m{constructor(e){const t=v._processOptions(e);super(t.opts),this.formatTokens=t.formatTokens,this.pattern=e.pattern,this.timeZone=this.resOptions.timeZone}format(e){const t=this.normalizeIsoString(e);var i=new Date(t);return this.intlFormatter.formatToParts(i).map(({type:e,value:t})=>{if("literal"!==e){const i=this.formatTokens.tokensIndexes[e];void 0!==i&&(this.formatTokens.tokensArray[i]=t)}}),this._formatTimeZoneTokens(t,this.timeZone),this.formatTokens.tokensArray.join("")}resolvedOptions(){return this.resOptions.patternFromOptions||(this.resOptions.patternFromOptions=this.pattern),this.resOptions}static _processOptions(e){const t=v._getOptionsFromPattern(e.pattern);return e.timeZone&&(t.opts.timeZone=e.timeZone),e.hour12&&(t.opts.hour12=e.hour12),t.opts.numberingSystem="latn",t.opts.calendar="gregory",t.opts.isoStrFormat=e.isoStrFormat||"auto",t.opts.twoDigitYearStart=e.twoDigitYearStart||1950,t.opts.lenientParse=e.lenientParse||"full",t}_formatTimeZoneTokens(e,t){const i=this.formatTokens;for(var n=0;n<i.tzOffsetsArray.length;n++){const a=i.tzOffsetsArray[n],o=i.tokensIndexes[a];if("tzid"===a){i.tokensArray[o]=t;continue}const s=this.getTimeZoneOffset(e,t,!1);var r="";if(0!==s){switch(a){case"tzhm":r=(s<0?"-":"+")+f.padZeros(Math.floor(Math.abs(s/60)),2)+f.padZeros(Math.floor(Math.abs(s%60)),2);break;case"tzhsepm":r=(s<0?"-":"+")+f.padZeros(Math.floor(Math.abs(s/60)),2)+":"+f.padZeros(Math.floor(Math.abs(s%60)),2);break;case"tzh":r=(s<0?"-":"+")+f.padZeros(Math.floor(Math.abs(s/60)),2)}i.tokensArray[o]=r}else i.tokensArray[o]="Z"}}static _appendPreOrPostMatch(e,t,i){let n=0,r=!1;for(var a=0,o=e.length;a<o;a++){var s=e.charAt(a);switch(s){case"'":r?(i.push("'"),t.count++):n+=1,r=!1;break;case"\\":r&&(i.push("\\"),t.count++),r=!r;break;default:i.push(s),r=!1,t.count++}}return n}static _getOptionsFromPattern(e){let t=0,i={count:0},n=0,r={},a=[],o={},s=[];for(u._TOKEN_REGEXP.lastIndex=0;;){let l=u._TOKEN_REGEXP.lastIndex;const c=u._TOKEN_REGEXP.exec(e),d=e.slice(l,c?c.index:e.length);if(t+=v._appendPreOrPostMatch(d,i,a),!c)break;if(t%2)a.push(c[0]),i.count++;else{a.push(null);let e=c[0];if(void 0===u._PROPERTIES_MAP[e])break;{const t=u._PROPERTIES_MAP[e].key,a=u._PROPERTIES_MAP[e].type;void 0!==t&&("millisecond"===t?(o[u.FRACTIONAL_SECOND_MAP[e].key]=u.FRACTIONAL_SECOND_MAP[e].value,r[u.FRACTIONAL_SECOND_MAP[e].token]=i.count++):"tzOffset"===a?(s[n]=t,r[t]=i.count++,n++):(o[t]=u._PROPERTIES_MAP[e].value,r[t]=i.count++)),"KK"===e||"K"===e?o.hourCycle="h11":"kk"===e||"k"===e?o.hourCycle="h24":"HH"===e||"H"===e?o.hourCycle="h23":"hh"!==e&&"h"!==e||(o.hourCycle="h12")}}}return{opts:o,formatTokens:{tokensArray:a,tzOffsetsArray:s,tokensIndexes:r}}}}class g{static getPreferencesMergedWithConverterOptions(e){let t=g._getPreferencesPatternAndTimezone(e),i={};return Object.assign(i,t,e),i}static _getPreferencesPatternAndTimezone(e){const t=c.getDateTimePreferences();if(!t||0===Object.keys(t).length)return{};let i={};if(!e||0===Object.keys(e).length){const e=g._getUserPrefPattern("short",null,t);e&&(i.pattern=e)}else if(e.dateStyle||e.timeStyle){const n=g._getUserPrefPattern(e.dateStyle,e.timeStyle,t);n&&(i.pattern=n)}return t.timeZone&&(i.timeZone=t.timeZone),i}static _getUserPrefPattern(e,t,i){var n,r,a,o,s,l,c,u;if(!e&&!t||!i)return null;let d=null,h=null;return"short"===e?d=null!==(r=null===(n=i.dateStyle)||void 0===n?void 0:n.short)&&void 0!==r?r:null:"medium"===e&&(d=null!==(o=null===(a=i.dateStyle)||void 0===a?void 0:a.medium)&&void 0!==o?o:null),"short"===t?h=null!==(l=null===(s=i.timeStyle)||void 0===s?void 0:s.short)&&void 0!==l?l:null:"medium"===t&&(h=null!==(u=null===(c=i.timeStyle)||void 0===c?void 0:c.medium)&&void 0!==u?u:null),g._combinePatternsWithSpace(d,h)}static _combinePatternsWithSpace(e,t){let i;return i=e&&t?`${e} ${t}`:t||(e||null),i}}e.DateTimePreferencesUtils=g,e.NativeDateTimeConverter=m,e.NativeDateTimePatternConverter=v,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojavailabletimezones",["exports","ojs/ojlocaledata","ojs/ojoratimezone","ojs/ojconverterutils-i18n","ojs/ojconfig"],function(e,t,i,n,r){"use strict";const a=n.OraI18nUtils;class o{static getAvailableTimeZonesImpl(){return o._availableTimeZonesImpl(t.__getBundle())}static _getBCP47Lang(e){return e.split("-")[0]}static getDatesNode(e){function t(t){let i=null;const n=e.main[t];return n&&(i=n.dates),i}let i=r.getLocale(),n=t(i);if(n)return n;let a=i.split("-");for(a.pop();a.length>0;){if(i=a.join("-"),n=t(i),n)return n;a.pop()}return e.main["en-US"].dates}static _availableTimeZonesImpl(e){const t=i.OraTimeZone.getInstance(),n={sensitivity:"variant"},r=a.getLocaleElementsMainNodeKey(e),s=(a.getLocaleElementsMainNode(e),a.getLocaleElementsMainNodeKey(e)),l=o._getBCP47Lang(s),c=o.getDatesNode(e),u=c.timeZoneNames.metazone,d=c.timeZoneNames.zone,h=[],p={},_=e.supplemental.timeZoneData,m=new Date,f=[m.getFullYear(),m.getMonth()+1,m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds()];function v(e,t){const i=function(e,t,i,n,r){const a=Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]);return e.parse(a,i,n,r)}(e,t,!1,!0,!1),n=e.ofset(i),r=e.ofset(i+1);return Math.max(n,r)}function g(e){const t=e.split(" ");let i=t[0].split("-");const n=new Date(i[0],i[1]-1,i[2]);return t.length>1&&(i=t[1].split(":"),n.setHours(i[0]),n.setMinutes(i[1])),n.getTime()}function y(t,i,n,r){const o=t.split("/"),s=o[0],c=o[1];let u,d;const h={offsetLocName:null,locName:null},p=r[s];"en"===l?void 0!==o[1]&&(u=" "+o[1],u=u.replace(/_/g," "),u=u.replace("Saigon","Ho Chi Minh City")):void 0!==p&&(u=p[c],void 0!==u&&(u=u.exemplarCity,void 0!==u&&(u=" "+u)));const _=s+"/"+c,m=e.supplemental.metazones;let v=function(e,t,i){const n=new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5]).getTime(),r=t.split("/"),a=r[0],o=r[1];let s=i[a];if(void 0===s)return null;if(s=s[o],void 0===s)return null;const l=s.length;let c,u;for(var d=0;d<l;d++){const e=s[d].usesMetazone._from,t=s[d].usesMetazone._to,i=s[d].usesMetazone._mzone;if(void 0===e&&void 0===t)return i;if(void 0===e&&void 0!==t&&(u=g(t),n<=u))return i;if(void 0!==e&&void 0===t&&(c=g(e),n>=c))return i;if(void 0!==e&&void 0!==t&&(c=g(e),u=g(t),n>=c&&n<u))return i}}(f,_,m);if(void 0!==n&&(v=n[v]),null!=v&&void 0!==v.long&&(d=v.long.generic,void 0===d&&(d=v.long.standard)),void 0===u)return null;let y="(UTC)";return 0!==i&&(y=a.getTimeStringFromOffset("UTC",i,!0,!0),y=`(${y})`),void 0===d&&(d=""),""!==d&&(d=" - "+d),h.offsetLocName=y+u+d,h.locName=u+d,h}function D(e,t){return e.find(({displayName:e})=>e.offsetLocName===t.offsetLocName)}function k(i,n){let r,a;const o=Object.keys(i);for(let i=0;i<o.length;i++){let s=o[i];if(-1===s.indexOf("Etc/")&&-1===s.indexOf("Ho_Chi_Minh")){r=t.getZone(s,e),a=v(r,f);const i=y(s,a,u,d);if(null!==i)D(n,i)||("Asia/Saigon"===s&&(s="Asia/Ho_Chi_Minh"),n.push({id:s,displayName:i}));p[s]=a}}}const E=a.getLocaleElementsMainNodeKey(e);if(void 0!==o._timeZoneDataCache&&void 0!==o._timeZoneDataCache[E]){const e=o._timeZoneDataCache[E].availableTimeZones;if(void 0!==e)return e}k(_.zones,h),k(_.links,h),h.sort(function(e,t){return p[t.id]-p[e.id]+e.displayName.locName.localeCompare(t.displayName.locName,r,n)});const I=h.length;for(let e=0;e<I;e++)h[e].displayName=h[e].displayName.offsetLocName;return void 0!==o._timeZoneDataCache&&void 0===o._timeZoneDataCache[E]&&(o._timeZoneDataCache[E]={availableTimeZones:null},o._timeZoneDataCache[E].availableTimeZones=h),h}}o._timeZoneDataCache={},e.AvailableTimeZones=o,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojconverter-datetime",["exports","ojs/ojconverterutils-i18n","ojs/ojconverter","ojs/ojlocaledata","ojs/ojconverter-nativedatetime","ojs/ojconfig","ojs/ojcore-base","ojs/ojavailabletimezones"],function(e,t,i,n,r,a,o,s){"use strict";i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const l=function(e){this.Init(e)};oj.Object.createSubclass(l,i,"oj.DateTimeConverter"),l.prototype.Init=function(e){l.superclass.Init.call(this,e)},l.prototype.format=function(e){return l.superclass.format.call(this,e)},l.prototype.isHourInDaySet=function(){oj.Assert.failedInAbstractFunction()},l.prototype.isHourInAMPMSet=function(){oj.Assert.failedInAbstractFunction()},l.prototype.isMinuteSet=function(){oj.Assert.failedInAbstractFunction()},l.prototype.isSecondSet=function(){oj.Assert.failedInAbstractFunction()},l.prototype.isMilliSecondSet=function(){oj.Assert.failedInAbstractFunction()},l.prototype.isYearSet=function(){oj.Assert.failedInAbstractFunction()},l.prototype.isMonthSet=function(){oj.Assert.failedInAbstractFunction()},l.prototype.isDaySet=function(){oj.Assert.failedInAbstractFunction()},l.prototype.isDayNameSet=function(){oj.Assert.failedInAbstractFunction()},l.prototype.calculateWeek=function(e){oj.Assert.failedInAbstractFunction()},l.prototype.parse=function(e){return l.superclass.parse.call(this,e)},l.prototype.compareISODates=function(e,t){return l.superclass.compareISODates.call(this,e,t)},l.prototype.getAvailableTimeZones=function(){return l.superclass.getAvailableTimeZones.call(this)};const c=function(){var e,i=46,o=46,s=23,l=7,c=4,u=12;function d(e,t){return e.getFullYear()===t.getFullYear()}function h(e,t){return t.getFullYear()-e.getFullYear()==1}function p(e,t){return d(e,t)&&e.getMonth()===t.getMonth()}function _(e,t){return d(e,t)?t.getMonth()-e.getMonth()==1:!!h(e,t)&&(11===e.getMonth()&&0===t.getMonth())}function m(e,i){var n=e.getDate(),r=i.getDate();return _(e,i)&&(r+=t.OraI18nUtils._getDaysInMonth(e.getFullYear,e.getMonth())),r-n}function f(e,i){var n=e._ojLocale_,r=t.OraI18nUtils.getBCP47Region(n),a=e.supplemental.weekData.firstDay,o=a[r];void 0===o&&(o=a["001"]);var s=i-o;return s<0&&(s+=7),s}function v(e,t,i){if(!p(t,i)&&!_(t,i))return!1;var n=m(t,i)+f(e,t.getDay());return n>=7&&n<=13}function g(e,t){return d(e,t)&&p(e,t)&&e.getDate()===t.getDate()}function y(e,t){return!(!p(e,t)&&!_(e,t))&&1===m(e,t)}function D(e,t){return y(t,e)}function k(e){var t=function(e){return 4800*e/146097}(e/864e5),i=t/12;return{year:Math.round(i),month:Math.round(t),week:Math.round(e/6048e5),day:Math.round(e/864e5),hour:Math.round(e/36e5),minute:Math.round(e/6e4),second:Math.round(e/1e3),millisecond:e}}function E(e,i,n){var r=t.OraI18nUtils._IsoStrParts(e),a=t.OraI18nUtils._IsoStrParts(i);return n?(r=Date.UTC(r[0],r[1]-1,r[2],0,0,0,0),a=Date.UTC(a[0],a[1]-1,a[2],0,0,0,0)):(r=Date.UTC(r[0],r[1]-1,r[2],r[3],r[4],r[5],r[6]),a=Date.UTC(a[0],a[1]-1,a[2],a[3],a[4],a[5],a[6])),r-a}function I(e,t){return new Intl.DateTimeFormat(a.getLocale(),t).format(e)}function S(e,i,n){var a=i.timeZone,o=t.OraI18nUtils.getISOStrFormatInfo(e).format;if("offset"===o||"zulu"===o){var s=new Date(e);return t.OraI18nUtils.dateToLocalIso(s)}return"local"===o&&!a?e:function(e,i,n){var a={isoStrFormat:"zulu",timeZone:i.timeZone},o=r.NativeParserImpl.parseImpl(e,null,a,n),s=new Date(o.value);return t.OraI18nUtils.dateToLocalIso(s)}(e,i,n)}function b(e,i,n){var r,o,s,l,c=[],u=t.OraI18nUtils.isoToLocalDate(i),d=t.OraI18nUtils.isoToLocalDate(e),h=a.getLocale();if(g(d,u))c=[0,"day","auto"],r=new Intl.RelativeTimeFormat(h,{numeric:c[2]}).format(c[0],c[1]);else if(y(d,u))c=[1,"day","auto"],r=new Intl.RelativeTimeFormat(h,{numeric:c[2]}).format(c[0],c[1]);else if(D(d,u))c=[-1,"day","auto"],r=new Intl.RelativeTimeFormat(h,{numeric:c[2]}).format(c[0],c[1]);else{var p=E(i,e,!0);if(!((p/=864e5)>1&&p<7))return I(u,{year:"numeric",month:"numeric",day:"numeric"});r=I(u,{weekday:"long"})}return n?r:(o=I(u,{hour:"numeric",minute:"numeric"}),r+(s=new Intl.DateTimeFormat(a.getLocale(),{dateStyle:"long",timeStyle:"short"}).formatToParts(new Date),l=s.findIndex(e=>"hour"===e.type)-1,s[l]?s[l].value:" ")+o)}function O(e,i,n,r){var o=t.OraI18nUtils.getGetOption(n,"OraDateTimeConverter.formatRelative")("dateField","string",["day","week","month","year","hour","minute","second"]),s=t.OraI18nUtils.isoToLocalDate(e),l=t.OraI18nUtils.isoToLocalDate(i),c=E(i,e,!1),u=k(Math.abs(c)),I=[];switch(o){case"day":I=g(s,l)?[0,"day","auto"]:y(s,l)?[1,"day","auto"]:D(s,l)?[-1,"day","auto"]:[c>0?u.day:-u.day,"day","always"];break;case"week":I=function(e,t,i){if(t>i){var n=t;t=i,i=n}if(!p(t,i)&&!_(t,i))return!1;var r=m(t,i)+f(e,t.getDay());return r>=0&&r<=6}(r,s,l)?[0,"week","auto"]:v(r,s,l)?[1,"week","auto"]:function(e,t,i){return v(e,i,t)}(r,s,l)?[-1,"week","auto"]:[c>0?u.week:-u.week,"week","always"];break;case"month":p(s,l)?I=[0,"month","auto"]:_(s,l)?I=[1,"month","auto"]:I=_(l,s)?[-1,"month","auto"]:[c>0?u.month:-u.month,"month","always"];break;case"year":I=d(s,l)?[0,"year","auto"]:h(s,l)?[1,"year","auto"]:function(e,t){return h(t,e)}(s,l)?[-1,"year","auto"]:[c>0?u.year:-u.year,"year","always"];break;case"hour":I=[c>0?u.hour:-u.hour,"hour","auto"];break;case"minute":I=[c>0?u.minute:-u.minute,"minute","auto"];break;case"second":I=[c>0?u.second:-u.second,"second","auto"]}return new Intl.RelativeTimeFormat(a.getLocale(),{numeric:I[2]}).format(I[0],I[1])}function T(e,n,r){var d=t.OraI18nUtils.dateToLocalIso(new Date);if("number"==typeof e)e=t.OraI18nUtils.dateToLocalIso(new Date(e));else{if("string"!=typeof e)return null;if(""===t.OraI18nUtils.trim(e))return null}void 0===r&&(r={formatUsing:"displayName"});var h=t.OraI18nUtils.getGetOption(r,"OraDateTimeConverter.formatRelative"),p=h("relativeTime","string",["fromNow","toNow"],"fromNow"),_=h("dateField","string",["day","week","month","year","hour","minute","second"]);if(e=S(e,r,n),"toNow"===p){var m=d;d=e,e=m}return"calendar"===h("formatUsing","string",["displayName","calendar"],"displayName")?b(d,e,h("dateOnly","boolean",[!0,!1],!1)):void 0!==_?O(d,e,r,n):function(e,t,n,r){var d=E(t,e,!1),h=k(Math.abs(d));null===n&&(n=(h.second<i?"second":h.minute<o&&"minute")||h.hour<s&&"hour"||h.day<l&&"day"||h.week<c&&"week"||h.month<u&&"month"||"year");var p=new Intl.RelativeTimeFormat(a.getLocale(),{numeric:r}),_=d>=0?h[n]:-h[n];return p.format(_,n)}(d,e,null,"auto")}return{getInstance:function(){return e||(e={formatRelative:function(e,t){return T(e,n.__getBundle(),t)}}),e}}}(),u=function(e){let t=e?u.mapOptions(e):null;const i=r.DateTimePreferencesUtils.getPreferencesMergedWithConverterOptions(t),n=0===Object.keys(i).length?{year:"numeric",month:"numeric",day:"numeric"}:i;this.Init(n)};o.Object.createSubclass(u,l,"oj.IntlDateTimeConverter"),u._DEFAULT_DATE=new Date(1998,10,29,15,45,31),u.prototype.Init=function(e){u.superclass.Init.call(this,e),this._initConverter()},u.prototype._getWrapped=function(){return this._wrapped},u.prototype._initConverter=function(){var e=this.getOptions();e.numberingSystem="latn",e.calendar="gregory",e.pattern?this._wrapped=new r.NativeDateTimePatternConverter(e):this._wrapped=new r.NativeDateTimeConverter(e),e.timeZone||delete this._wrapped.resOptions.timeZone},u.prototype.format=function(e){if(null==e||"string"==typeof e&&0===o.StringUtils.trim(""+e).length)return"";let i=e;if("number"==typeof e)i=t.OraI18nUtils.dateToLocalIso(new Date(e));else{if("string"!=typeof e)return null;i=t.OraI18nUtils.trim(e)}return this._getWrapped().format(i)},u.prototype.formatRelative=function(e,t){return c.getInstance().formatRelative(e,t)},u.prototype.getHint=function(){return null},u.prototype.getOptions=function(){return u.superclass.getOptions.call(this)},u.prototype.resolvedOptions=function(){if(!this._resolvedOptions){const e=this._getWrapped().resolvedOptions();this._resolvedOptions={};const t=Object.keys(e);let i=0;for(i=0;i<t.length;i++){const n=t[i];"timeStyle"===n?this._resolvedOptions.timeFormat=e[n]:"dateStyle"===n?this._resolvedOptions.dateFormat=e[n]:"fractionalSecondDigits"===n?this._resolvedOptions.millisecond="numeric":"twoDigitYearStart"===n?this._resolvedOptions["two-digit-year-start"]=e[n]:this._resolvedOptions[n]=e[n]}this._resolvedOptions.dateFormat&&this._resolvedOptions.timeFormat?this._resolvedOptions.formatType="datetime":this._resolvedOptions.dateFormat?this._resolvedOptions.formatType="date":this._resolvedOptions.timeFormat&&(this._resolvedOptions.formatType="time");const n=["hour","minute","second","millisecond","day","month","year","weekday","timeZoneName","dayPeriod"];if(this._resolvedOptions.dateFormat||this._resolvedOptions.timeFormat){const e=Object.keys(this._resolvedOptions);n.forEach(t=>{e.includes(t)&&delete this._resolvedOptions[t]})}}return this._resolvedOptions},u.prototype.isHourInDaySet=function(){var e=this.resolvedOptions(),t=e.hour,i=e.hour12;return!(!t||i)},u.prototype.isHourInAMPMSet=function(){var e=this.resolvedOptions(),t=e.hour,i=e.hour12;return!(!t||!i)},u.prototype.isMinuteSet=function(){return this._isOptionSet("minute")},u.prototype.isSecondSet=function(){return this._isOptionSet("second")},u.prototype.isMilliSecondSet=function(){return this._isOptionSet("millisecond")},u.prototype.isYearSet=function(){return this._isOptionSet("year")},u.prototype.isMonthSet=function(){return this._isOptionSet("month")},u.prototype.isDaySet=function(){return this._isOptionSet("day")},u.prototype.isDayNameSet=function(){return this._isOptionSet("weekday")},u.prototype.calculateWeek=function(e){var i,n=t.OraI18nUtils._IsoStrParts(e),r=new Date(Date.UTC(n[0],n[1]-1,n[2]));return r.setUTCDate(r.getUTCDate()+4-(r.getUTCDay()||7)),i=r.getTime(),r.setUTCMonth(0),r.setUTCDate(1),Math.floor(Math.round((i-r)/864e5)/7)+1},u.prototype.parse=function(e){if(null===e||""===e||void 0===e)return null;var i=this._wrapped.resOptions.isoStrFormat,n=this._wrapped.resOptions.timeZone,r="";if(t.OraI18nUtils._ISO_DATE_REGEXP.test(e)&&(-1!==(r=e.substring(e.indexOf("T"))).indexOf("Z")&&!n))return e;var a=this._getWrapped().parse(e),o=-1===(r=a.substring(a.indexOf("T"))).indexOf("Z")&&-1===r.indexOf("+")&&-1===r.indexOf("-");return!n&&i&&o&&(a=t.OraI18nUtils.convertISOString(a,i)),a},u.prototype.compareISODates=function(e,i){const n=new Date,r=n.getMonth()+1;let a=t.OraI18nUtils.zeroPad(r.toString(),2,!0);const o=n.getDate();let s=t.OraI18nUtils.zeroPad(o.toString(),2,!0);const l=n.getFullYear()+"-"+a+"-"+s;let c=e,u=i;const d=0===c.indexOf("T"),h=0===u.indexOf("T"),p=-1===c.indexOf("T"),_=-1===u.indexOf("T");d?c=l+c:p&&(c+="T00:00:00"),h?u=l+u:_&&(u+="T00:00:00");const m=new Date(c),f=new Date(u);return m.getTime()-f.getTime()},u.prototype._isOptionSet=function(e){return!!this.resolvedOptions()[e]},u.prototype.getAvailableTimeZones=function(){return s.AvailableTimeZones.getAvailableTimeZonesImpl()},u.isECMAOptionSet=function(e){return e.year||e.month||e.day||e.weekday||e.hour||e.minute||e.second||e.millisecond||e.dayPeriod||e.timeZoneName},u.mapOptions=function(e){let t={};const i=Object.keys(e);let n=0;var r=u.isECMAOptionSet(e);for(i.includes("formatType")||!e.dateFormat&&!e.timeFormat||r||(t.dateStyle=e.dateFormat||"short"),n=0;n<i.length;n++){const a=i[n];"formatType"!==a||r?"millisecond"===a?t.fractionalSecondDigits=3:"two-digit-year-start"===a?t.twoDigitYearStart=e[a]:t[a]=e[a]:("datetime"!==e[a]&&"date"!==e[a]||(t.dateStyle=e.dateFormat||"short"),"datetime"!==e[a]&&"time"!==e[a]||(t.timeStyle=e.timeFormat||"short"))}return t},e.DateTimeConverter=l,e.IntlDateTimeConverter=u,e.RelativeDateTimeFormatter=c,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojvalidator-datetimerange",["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error","ojs/ojconverter-datetime","ojs/ojconverterutils-i18n","ojs/ojconverterutils"],function(e,t,i,n,r,a,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const s=function(e){this.Init(e)};return e.Object.createSubclass(s,i,"oj.DateTimeRangeValidator"),s.prototype.Init=function(e){if(s.superclass.Init.call(this),this._converter=o.getConverterInstance(e.converter),this._converter||(this._converter=new r.IntlDateTimeConverter),!this._converter)throw new Error("oj.DateTimeRangeValidator missing a converter option");this._min=e.min||null,this._max=e.max||null,this._translationKey=e.translationKey||"datetime",e&&(this._hint=e.hint||{},this._customMessageSummary=e.messageSummary||{},this._customMessageDetail=e.messageDetail||{}),t.getTranslatedString("oj-validator.range."+this._translationKey+".messageSummary.rangeOverflow")||(this._translationKey="datetime")},s.prototype.validate=function(e){var i,r,o=this,s=this._customMessageSummary,l=this._customMessageDetail,c=l.rangeOverflow,u=l.rangeUnderflow,d=s.rangeOverflow,h=s.rangeUnderflow,p=a.IntlConverterUtils,_=this._min,m=this._max,f="",v="",g=t,y=null;if(null!==e){try{!function(t){if(_&&(_=p._minMaxIsoString(_,e),i=t?t.format(_):_),m&&(m=p._minMaxIsoString(m,e),r=t?t.format(m):m),null!==_&&null!==m){if(p._compareISODates(e,_)>=0&&p._compareISODates(e,m)<=0||p._compareISODates(_,m)>0)return e}else if(null!==_){if(p._compareISODates(e,_)>=0)return e}else if(null===m||p._compareISODates(e,m)<=0)return e;throw new Error}(this._converter)}catch(t){var D=function(t){return null!==m&&a.IntlConverterUtils._compareISODates(e,m)>0?(y={value:t,max:r},f=d||g.getTranslatedString("oj-validator.range."+o._translationKey+".messageSummary.rangeOverflow"),v=c?g.applyParameters(c,y):g.getTranslatedString("oj-validator.range."+o._translationKey+".messageDetail.rangeOverflow",y)):null!==_&&a.IntlConverterUtils._compareISODates(e,_)<0&&(y={value:t,min:i},f=h||g.getTranslatedString("oj-validator.range."+o._translationKey+".messageSummary.rangeUnderflow"),v=u?g.applyParameters(u,y):g.getTranslatedString("oj-validator.range."+o._translationKey+".messageDetail.rangeUnderflow",y)),[f,v]}(e?this._converter.format(e):e);throw new n.ValidatorError(D[0],D[1])}}},s.prototype.getHint=function(){var e=null,i=this._hint,n=i.inRange,r=i.min,a=i.max,o=this._min,s=this._max,l=o&&this._converter?this._converter.format(o):o,c=s&&this._converter?this._converter.format(s):s,u=null,d=t;return null!==o&&null!==s?(u={min:l,max:c},e=n?d.applyParameters(n,u):d.getTranslatedString("oj-validator.range."+this._translationKey+".hint.inRange",u)):null!==o?(u={min:l},e=r?d.applyParameters(r,u):d.getTranslatedString("oj-validator.range."+this._translationKey+".hint.min",u)):null!==s&&(u={max:c},e=a?d.applyParameters(a,u):d.getTranslatedString("oj-validator.range."+this._translationKey+".hint.max",u)),e},s}),define("ojs/ojvalidator-daterestriction",["ojs/ojcore","ojs/ojtranslation","ojs/ojvalidator","ojs/ojvalidation-error","ojs/ojconverter-datetime","ojs/ojconverterutils-i18n","ojs/ojconverterutils"],function(e,t,i,n,r,a,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const s=function(e){this.Init(e)};return e.Object.createSubclass(s,i,"oj.DateRestrictionValidator"),s.prototype.Init=function(e){s.superclass.Init.call(this),this._dayFormatter=e.dayFormatter,this._converter=o.getConverterInstance(e.converter),this._converter||(this._converter=new r.IntlDateTimeConverter),e&&(this._messageSummary=e.messageSummary||null,this._messageDetail=e.messageDetail||null)},s.prototype._inDisabled=function(e){var t=this._dayFormatter;if(t){var i=t({fullYear:e.fullYear,month:e.month+1,date:e.date});return i&&i.disabled}return!1},s.prototype.validate=function(e){var i="",r="",o=t,s=this._messageSummary,l=this._messageDetail,c=e?a.IntlConverterUtils._dateTime(e,["fullYear","month","date"],!0):null;if(null===e)return e;if(this._inDisabled(c)){var u=function(e){return i=s?o.applyParameters(s,{value:e}):o.getTranslatedString("oj-validator.restriction.date.messageSummary",{value:e}),r=l?o.applyParameters(l,{value:e}):o.getTranslatedString("oj-validator.restriction.date.messageDetail",{value:e}),[i,r]}(e?this._converter.format(e):e);throw new n.ValidatorError(u[0],u[1])}return e},s.prototype.getHint=function(){return null},s}),define("ojs/ojdatetimepicker",["ojs/ojcore","jquery","ojs/ojeditablevalue","ojs/ojinputtext","ojs/ojconverterutils","ojs/ojanimation","ojs/ojpopup","ojs/ojbutton","ojs/ojcore-base","hammerjs","ojs/ojcomponentcore","ojs/ojconverterutils-i18n","ojs/ojvalidator-datetimerange","ojs/ojvalidator-daterestriction","ojs/ojconverter-datetime","ojs/ojlocaledata","ojs/ojlogger","ojs/ojthemeutils","ojs/ojcontext","ojs/ojfocusutils","ojs/ojdomutils","ojs/ojconfig","ojs/ojlabelledbyutils","ojs/ojconverter-preferences"],function(e,t,i,n,r,a,o,s,l,c,u,d,h,p,_,m,f,v,g,y,D,k,E,I){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h,p=p&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p,g=g&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g,y=y&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y,E=E&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E,function(){var e={properties:{readonly:{binding:{consume:{name:"readonly"}}},userAssistanceDensity:{binding:{consume:{name:"userAssistanceDensity"}}},labelEdge:{binding:{consume:{name:"labelEdge"}}}}},t={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},keyboardEdit:{type:"string",enumValues:["disabled","enabled"]},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"string"},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},renderMode:{type:"string",enumValues:["jet","native"]},required:{type:"boolean",value:!1},timePicker:{type:"object",properties:{footerLayout:{type:"string",enumValues:["","now"],value:""},showOn:{type:"string",enumValues:["focus","image","userFocus"],value:"focus"},timeIncrement:{type:"string",value:"00:05:00:00"}}},translations:{type:"object",value:{},properties:{accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},ampmWheelLabel:{type:"string"},cancelText:{type:"string"},currentTimeText:{type:"string"},dateTimeRange:{type:"object",properties:{hint:{type:"object",properties:{inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},hourWheelLabel:{type:"string"},minuteWheelLabel:{type:"string"},okText:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},tooltipTime:{type:"string"},tooltipTimeDisabled:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"string",writeback:!0}},methods:{getProperty:{},hide:{},refresh:{},reset:{},setProperties:{},setProperty:{},show:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};t.extension._WIDGET_NAME="ojInputTime",t.extension._INNER_ELEM="input",t.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],t.extension._ALIASED_PROPS={readonly:"readOnly"},l.CustomElementBridge.register("oj-input-time",{metadata:l.CollectionUtils.mergeDeep(t,e)});var i={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object"},datePicker:{type:"object",properties:{changeMonth:{type:"string",enumValues:["none","select"],value:"select"},changeYear:{type:"string",enumValues:["none","select"],value:"select"},currentMonthPos:{type:"number",value:0},daysOutsideMonth:{type:"string",enumValues:["hidden","selectable","visible"],value:"hidden"},footerLayout:{type:"string",enumValues:["","today"],value:"today"},numberOfMonths:{type:"number",value:1},showOn:{type:"string",enumValues:["focus","image","userFocus"],value:"focus"},stepBigMonths:{type:"number",value:12},stepMonths:{type:"string|number",value:"numberOfMonths"},weekDisplay:{type:"string",enumValues:["none","number"],value:"none"},yearRange:{type:"string",value:"c-10:c+10"}}},dayFormatter:{type:"function"},dayMetaData:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},keyboardEdit:{type:"string",enumValues:["disabled","enabled"]},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"string"},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},renderMode:{type:"string",enumValues:["jet","native"]},required:{type:"boolean",value:!1},translations:{type:"object",value:{},properties:{accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},currentText:{type:"string"},dateRestriction:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},dateTimeRange:{type:"object",properties:{hint:{type:"object",properties:{inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},nextText:{type:"string"},prevText:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},tooltipCalendar:{type:"string"},tooltipCalendarDisabled:{type:"string"},tooltipCalendarTime:{type:"string"},tooltipCalendarTimeDisabled:{type:"string"},weekHeader:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"string",writeback:!0}},methods:{getProperty:{},hide:{},refresh:{},reset:{},setProperties:{},setProperty:{},show:{},showMessages:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};i.extension._WIDGET_NAME="ojInputDate",i.extension._INNER_ELEM="input",i.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],i.extension._ALIASED_PROPS={readonly:"readOnly"},l.CollectionUtils.mergeDeep(i,e),l.CustomElementBridge.register("oj-input-date",{metadata:i});var n=Object.assign({},i);n.extension._INNER_ELEM="div",l.CustomElementBridge.register("oj-date-picker",{metadata:n});var r={properties:{asyncValidators:{type:"Array<Object>",value:[]},autocomplete:{type:"string",value:"on",extension:{_COPY_TO_INNER_ELEM:!0}},autofocus:{type:"boolean",value:!1,extension:{_COPY_TO_INNER_ELEM:!0}},converter:{type:"object"},datePicker:{type:"object",properties:{changeMonth:{type:"string",enumValues:["none","select"],value:"select"},changeYear:{type:"string",enumValues:["none","select"],value:"select"},currentMonthPos:{type:"number",value:0},daysOutsideMonth:{type:"string",enumValues:["hidden","selectable","visible"],value:"hidden"},footerLayout:{type:"string",enumValues:["","today"],value:"today"},numberOfMonths:{type:"number",value:1},showOn:{type:"string",enumValues:["focus","image","userFocus"],value:"focus"},stepBigMonths:{type:"number",value:12},stepMonths:{type:"string|number",value:"numberOfMonths"},weekDisplay:{type:"string",enumValues:["none","number"],value:"none"},yearRange:{type:"string",value:"c-10:c+10"}}},dayFormatter:{type:"function"},dayMetaData:{type:"object"},describedBy:{type:"string"},disabled:{type:"boolean",value:!1},displayOptions:{type:"object",properties:{converterHint:{type:"Array<string>|string"},helpInstruction:{type:"Array<string>|string",value:["notewindow"]},messages:{type:"Array<string>|string"},validatorHint:{type:"Array<string>|string"}}},help:{type:"object",properties:{instruction:{type:"string",value:""}}},helpHints:{type:"object",properties:{definition:{type:"string",value:""},source:{type:"string",value:""}}},keyboardEdit:{type:"string",enumValues:["disabled","enabled"]},labelEdge:{type:"string",enumValues:["inside","none","provided"]},labelHint:{type:"string",value:""},labelledBy:{type:"string"},max:{type:"string"},messagesCustom:{type:"Array<Object>",writeback:!0,value:[]},min:{type:"string"},name:{type:"string",value:"",extension:{_COPY_TO_INNER_ELEM:!0}},pickerAttributes:{type:"object",properties:{class:{type:"string"},style:{type:"string"}}},placeholder:{type:"string"},rawValue:{type:"string",writeback:!0,readOnly:!0},readonly:{type:"boolean",value:!1},renderMode:{type:"string",enumValues:["jet","native"]},required:{type:"boolean",value:!1},timePicker:{type:"object",properties:{footerLayout:{type:"string",enumValues:["","now"],value:""},showOn:{type:"string",enumValues:["focus","image","userFocus"],value:"focus"},timeIncrement:{type:"string",value:"00:05:00:00"}}},translations:{type:"object",value:{},properties:{accessibleMaxLengthExceeded:{type:"string"},accessibleMaxLengthRemaining:{type:"string"},cancel:{type:"string"},currentText:{type:"string"},dateRestriction:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},dateTimeRange:{type:"object",properties:{hint:{type:"object",properties:{inRange:{type:"string"},max:{type:"string"},min:{type:"string"}}},messageDetail:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}},messageSummary:{type:"object",properties:{rangeOverflow:{type:"string"},rangeUnderflow:{type:"string"}}}}},done:{type:"string"},nextText:{type:"string"},prevText:{type:"string"},regexp:{type:"object",properties:{messageDetail:{type:"string"},messageSummary:{type:"string"}}},required:{type:"object",properties:{hint:{type:"string"},messageDetail:{type:"string"},messageSummary:{type:"string"}}},time:{type:"string"},tooltipCalendar:{type:"string"},tooltipCalendarDisabled:{type:"string"},tooltipCalendarTime:{type:"string"},tooltipCalendarTimeDisabled:{type:"string"},weekHeader:{type:"string"}}},userAssistanceDensity:{type:"string",enumValues:["compact","efficient","reflow"],value:"reflow"},valid:{type:"string",writeback:!0,enumValues:["invalidHidden","invalidShown","pending","valid"],readOnly:!0},validators:{type:"Array<Object>",value:[]},value:{type:"string",writeback:!0}},methods:{getProperty:{},hide:{},hideTimePicker:{},refresh:{},reset:{},setProperties:{},setProperty:{},show:{},showMessages:{},showTimePicker:{},validate:{},getNodeBySubId:{},getSubIdByNode:{}},events:{ojAnimateEnd:{},ojAnimateStart:{}},extension:{}};r.extension._WIDGET_NAME="ojInputDateTime",r.extension._INNER_ELEM="input",r.extension._GLOBAL_TRANSFER_ATTRS=["accesskey","aria-label","tabindex"],r.extension._ALIASED_PROPS={readonly:"readOnly"},l.CollectionUtils.mergeDeep(r,e),l.CustomElementBridge.register("oj-input-date-time",{metadata:r});var a=Object.assign({},r);a.extension._INNER_ELEM="div",l.CustomElementBridge.register("oj-date-time-picker",{metadata:a})}();var S,b,O=(v.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).converterYear||"numeric";function T(){return"phone"!==k.getDeviceRenderMode()}function w(e,t){t=e.parse(t);var i,n=new Date;try{i=d.IntlConverterUtils._dateTime(t,["date","fullYear","month","hours","minutes","seconds"],!0)}catch(e){return f.info("The value of the InputDateTime element should be an ISOString, please use a valid ISOString"),n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}return n.setFullYear(i.fullYear),n.setDate(i.date),n.setMonth(i.month),n.setHours(i.hours),n.setMinutes(i.minutes),n.setSeconds(i.seconds),n.setMilliseconds(0),n}function P(e){return this.options.converter&&this.options.converter.parse?this.options.converter.parse(e):e}function j(e,i,n){var r=e.translations.dateTimeRange||{},a=[{category:"hint",entries:["min","max","inRange"]},{category:"messageDetail",entries:["rangeUnderflow","rangeOverflow"]},{category:"messageSummary",entries:["rangeUnderflow","rangeOverflow"]}],o={min:e.min,max:e.max,converter:i,translationKey:{"oj-inputdatetime":"datetime","oj-inputtime":"time","oj-inputdate":"date"}[n]};if(!t.isEmptyObject(r))for(var s=0,l=a.length;s<l;s++){var c=r[a[s].category];if(c){for(var u={},d=a[s].entries,p=0,_=d.length;p<_;p++)u[d[p]]=c[d[p]];o[a[s].category]=u}}return new h(o)}function C(e,i){var n={dayFormatter:e.dayFormatter,converter:i};return t.extend(n,e.translations.dateRestriction||{}),new p(n)}function M(e,t){for(var i=0;i<e.length;i++){var n=e[i];"SPAN"===n.tagName&&(t?(n.classList.add("oj-disabled"),n.classList.remove("oj-enabled"),n.classList.remove("oj-default")):(n.classList.remove("oj-disabled"),n.classList.add("oj-enabled"),n.classList.add("oj-default")))}}function R(e,t,i){if(!e||t===i.length)return e;var n=t+1;return R(e[i[t]],n,i)||R(e["*"],n,i)}function A(){const e=I.getDateTimePreferences();return e&&e.dateStyle&&e.dateStyle.short?new _.IntlDateTimeConverter({formatType:"date",dateFormat:"short"}):new _.IntlDateTimeConverter({day:"2-digit",month:"2-digit",year:O})}function L(e){const t=e&&e.resolvedOptions?e.resolvedOptions():null;return t&&t.timeZone?t.timeZone:null}function N(e,t){return new _.IntlDateTimeConverter({timeZone:t,isoStrFormat:"local"}).parse(e)}function x(e){var i;i=e._isInLine?e.element[0].parentNode:e.element[0].parentNode.parentNode,e._AddActiveable(t(i))}function G(e){return"native"===e.options.renderMode&&window.cordova&&window.datePicker}function V(e,t){return b||(b=new _.IntlDateTimeConverter({year:"numeric"})),b.format(d.IntlConverterUtils.dateToLocalIso(new Date(e,t,1)))}function F(e,t){var i,n,r,a,o,s,l,c=[150,100,50,25,16],u=0,d=e,h=0,p=0,_=1,m=1,f=1,v="",g=1,y=!1,D=this;function k(){if(t)for(var e=Object.keys(t),i=0;i<e.length;i++){var n=e[i];D[n]=t[n]}}function E(){var e=!1,t=d.value;D.value=T(t);var l,c=d.max;l=w(t)===w(c)?T(c)+1:m,r!==l&&(e=!0,r=l);var u,h=d.min;u=w(t)===w(h)?T(h):0,n!==u&&(e=!0,n=u);var p=d.increment,_=function e(t,i){if(0===i)return t;return e(i,t%i)}(p,s);_===s?(n=0,r=1,e=!0):D.linked&&p>o?_=p:0===b(_,o)?_/=o:_=1,f!==_&&(f=_,e=!0),i=Math.floor(m/f),a=i>4,D.wheel&&e&&D.wheel.ojRefresh()}function I(){s=o*m,l=g*_}function S(){if(D.wheel){c.forEach(function(e){D.wheel.classList.remove("oj-timepicker-wheel-spin-"+e)});var e,t=Math.abs(h-p);if(0!==t)t-=1,t=Math.min(t,c.length-1),e=c[t],D.wheel.classList.add("oj-timepicker-wheel-spin-"+c[t]),h>p&&(p+=1,D.wheel.ojSpinUp()),h<p&&(p-=1,D.wheel.ojSpinDown()),e&&(d.disableSpin?S.call(D):setTimeout(S.bind(D),e));else y=!1}}function b(e,t){return(e%t+t)%t}function O(e,t){return Math.floor(e/s)*s+b(t,m)*o+b(e,o)}function T(e){return b(Math.floor(e/o),m)}function w(e){return Math.floor(e/s)}Object.defineProperty(D,"position",{enumerable:!0,get:function(){return h},set:function(e){var t=b(e,i)*f;t>=n&&t<r&&e!==h&&(D.value+=(e-h)*f)}}),Object.defineProperty(D,"value",{enumerable:!0,get:function(){return u},set:function(e){var t,o,s,l=Math.round(e/f)*f;(function(e){return!!a||n<=e&&e<r})(l)&&u!==l&&(u=b(l,m),t=b(function(e){return Math.floor(e/f)}(u),i),o=b(D.position,i),s=t-o,a&&(t>o?o+i-t<Math.abs(s)&&(s=t-o-i):t+i-o<Math.abs(s)&&(s=t+i-o)),0!==s&&(h+=s,D.wheel?y||(y=!0,S.call(D)):p=h),D.linked&&(2===m&&(d.disableSpin=!0),d.value=O(d.value,u),d.disableSpin=!1))}}),Object.defineProperty(D,"increment",{enumerable:!0,get:function(){return f},set:function(e){f!==e&&(f=e,I())}}),Object.defineProperty(D,"valueMultiplier",{enumerable:!0,get:function(){return o},set:function(e){o!==e&&(o=e,I())}}),Object.defineProperty(D,"valueRange",{enumerable:!0,get:function(){return m},set:function(e){m!==e&&(m=e,I())}}),Object.defineProperty(D,"displayMultiplier",{enumerable:!0,get:function(){return g},set:function(e){g!==e&&(g=e,I())}}),Object.defineProperty(D,"displayRange",{enumerable:!0,get:function(){return _},set:function(e){_!==e&&(_=e,I())}}),Object.defineProperty(D,"keyboardValue",{enumerable:!0,get:function(){return v},set:function(e){if(v=e,D.parser&&v){var t=D.parser(v);t>=0&&(i=u,a=t,t=Math.floor(i/l)*l+b(a,_)*g+b(i,g),n<=t&&t<r&&(D.value=t)),v.length>=2?v="":setTimeout(function(){v=""},1e3)}var i,a}}),D.getText=function(e){var t,n=b(p,i)+e,r=a||n>=0&&n<i;if(D.formatter&&r){var o=function(e){return t=function(e){return b(b(e,i)*f,m)}(e),b(Math.floor(t/g),_);var t}(p+e);t=D.formatter(o)}return t},D.isDisabled=function(e){var t=b(p+e,i)*f;return 0!==n&&t<n||r!==m&&t>=r},D.update=function(){d.value=O(d.value,u)},D.refresh=E,D.setProperties=k,k()}function U(e){var t,i,n,r=/^.*T(\d{2})(?::?(\d{2}).*$)/,a={h:function(e){if(0===e)return"12";return""+e},hh:function(e){if(0===e)return"12";return(e="0"+e).slice(-2)},H:function(e){return""+e},HH:O,k:function(e){if(0===e)return"24";return""+e},kk:function(e){if(0===e)return"24";return(e="0"+e).slice(-2)},K:function(e){return""+e},KK:function(e){return(e="0"+e).slice(-2)},mm:T},o={h:P,hh:P,H:w,HH:w,k:j,kk:j,K:w,KK:w,mm:w},s=0,l=0,c=0,u=1440,d=1440,h="auto",p="",_=["AM","PM"],m=new F(this,{valueRange:60,displayRange:60,valueMultiplier:1,displayMultiplier:1}),v=new F(this,{valueMultiplier:60,displayMultiplier:1}),g=new F(this,{valueRange:2,displayRange:2,formatter:function(e){return _[e]},parser:function(e){if("a"===(e=e.toLowerCase().charAt()))return 0;if("p"===e)return 1;return-1},valueMultiplier:720,displayMultiplier:1}),y=[m,v,g],D=!1,k=this;function E(){try{if(D=!0,e)for(var t=Object.key(e),i=0;i<t.length;i++){var n=t[i];k[n]=e[n]}}finally{D=!1,I()}}function I(){if(!D){if(c=Math.ceil(l/t)*t,(d=Math.ceil((u-1)/t)*t)<c)throw new Error("Invalid min and max settings with current increment: "+l+" "+u+ +t);var e,i;if(s<c&&(s=c),s>d&&(s=d),s=Math.round(s/t)*t,n)switch(v.displayRange=12,"auto"===(e=h)&&((i=C(t,60))===t||60===i?e="hoursMeridiem":(i=C(t,720),e="all")),e){case"all":m.displayMultiplier=1,m.valueMultiplier=1,m.valueRange=1440,m.linked=!0,v.displayMultiplier=60,v.valueMultiplier=1,v.valueRange=1440,v.linked=!0,g.displayMultiplier=1,g.valueMultiplier=720,g.valueRange=2,g.linked=!0;break;case"hoursMeridiem":m.displayMultiplier=1,m.valueMultiplier=1,m.valueRange=60,m.linked=!1,v.displayMultiplier=1,v.valueMultiplier=60,v.valueRange=24,v.linked=!0,g.displayMultiplier=1,g.valueMultiplier=720,g.valueRange=2,g.linked=!0}else switch(v.displayRange=24,"auto"===(e=h)&&(e=(i=C(t,60))===t||60===i?"none":"all"),e){case"none":case"hoursMeridiem":m.displayMultiplier=1,m.valueMultiplier=1,m.valueRange=60,m.linked=!1,v.displayMultiplier=1,v.valueMultiplier=60,v.valueRange=24,v.linked=!1;break;case"all":case"hoursMinutes":m.displayMultiplier=1,m.valueMultiplier=1,m.valueRange=1440,m.linked=!0,v.displayMultiplier=60,v.valueMultiplier=1,v.valueRange=1440,v.linked=!0}for(var r=0;r<y.length;r++)y[r].refresh()}}function S(e){var t=0,i=0,n=r.exec(e);return n&&(t=parseInt(n[1],10),i=parseInt(n[2],10)),60*t+i}function b(e){e=Math.floor(e);var t=Math.floor(e/60);return e%=60,"T"+O(t)+":"+T(e)}function O(e){return(e="0"+e).slice(-2)}function T(e){return(e="0"+e).slice(-2)}function w(e){return e.match(/^\d+$/)?parseInt(e,10):-1}function P(e){if(e.match(/^\d+$/)){var t=parseInt(e,10);return 0===t&&(t=-1),24===t&&(t=0),t}return-1}function j(e){if(e.match(/^\d+$/)){var t=parseInt(e,10);return 0===t&&(t=-1),24===t&&(t=0),t}return-1}function C(e,t){return 0===t?e:C(t,e%t)}D=!0,Object.defineProperty(k,"increment",{enumerable:!0,get:function(){return t},set:function(e){t=Math.floor(e),I()}}),k.increment=1,Object.defineProperty(k,"grouped",{enumerable:!0,get:function(){return h},set:function(e){switch(e){case"auto":case"all":case"none":case"hoursMinutes":case"hoursMeridiem":h=e;break;default:throw new Error("invalid grouped value: "+e)}I()}}),Object.defineProperty(k,"min",{enumerable:!0,get:function(){return l},set:function(e){l=Math.floor(e),I()}}),Object.defineProperty(k,"isoMin",{enumerable:!0,get:function(){return b(l)},set:function(e){var t=S(e);isNaN(t)?f.error("Invalid ISO min time: %s",e):k.min=t}}),Object.defineProperty(k,"max",{enumerable:!0,get:function(){return u-1},set:function(e){u=Math.floor(e)+1,I()}}),Object.defineProperty(k,"isoMax",{enumerable:!0,get:function(){return b(u)},set:function(e){var t=S(e);isNaN(t)?f.error("Invalid ISO max time: %s",e):k.max=t}}),Object.defineProperty(k,"value",{enumerable:!0,get:function(){return s},set:function(e){s=Math.floor(e),I()}}),Object.defineProperty(k,"isoValue",{enumerable:!0,get:function(){return b(s)},set:function(e){var t=S(e);isNaN(t)?f.error("Invalid ISO value time: %s",e):k.value=t}}),Object.defineProperty(k,"format",{enumerable:!0,get:function(){return i},set:function(e){i=e;var t=e.replace(/'[^']*'/g,"").replace(/[^hHkKma]*/g,""),r=t.match(/([hHkK]+)/),s=r[1];v.formatter=a[s],v.parser=o[s];var l=(r=t.match(/(m+)/))[1];m.formatter=a[l],m.parser=o[l],n=p.indexOf("a")>=0,I()}}),Object.defineProperty(k,"wheelOrder",{enumerable:!0,get:function(){return p},set:function(e){p=e}}),Object.defineProperty(k,"ampmStrings",{enumerable:!0,get:function(){return _},set:function(e){_=e}}),D=!1,k.setProperties=E,E(),k.getWheelModel=function(e){switch(e){case"hour":return v;case"minute":return m;case"ampm":return n?g:null;default:return}}}function Y(e,i,n){var r,a,o=!1;function s(){r.parentNode.focus()}var l=e.getText(i);if(l){(r=document.createElement("div")).classList.add("oj-timepicker-wheel-item"),r.classList.add("oj-timepicker-wheel-item-position"+i),a=i,e.isDisabled(i)&&(o=!0,r.classList.add("oj-disabled")),r.ojUpdatePosition=function(e){return r.classList.remove("oj-timepicker-wheel-item-position"+a),r.classList.add("oj-timepicker-wheel-item-position"+e),a=e,Promise.resolve()};var c=document.createElement("div");c.textContent=l,c.classList.add("oj-timepicker-wheel-item-content"),n&&c.setAttribute("title",l),r.appendChild(c),Object.defineProperty(r,"ojDisabled",{enumerable:!0,get:function(){return o},set:function(e){e!==o&&(t(r).toggleClass("oj-disabled"),o=e)}}),r.addEventListener("focus",s,!1),c.addEventListener("focus",s,!1)}return r}function H(e,i,n){var r,a,o,s,l,u=[.152,.362,.638,.848],d=e,h=[],p=!i&&"oj-timepicker-meridian"===n;!function(){(r=document.createElement("div")).classList.add("oj-timepicker-wheel"),n&&r.classList.add(n);r.setAttribute("id","_ojWheel"+H.counter),H.counter+=1,r.setAttribute("tabIndex","0"),r.setAttribute("role","spinbutton"),d.wheel=r}();var _,m=t(r);return r.ojSpinUp=v,r.ojSpinDown=g,r.ojRefresh=D,r.ojDestroy=f,r.ojLinked=function(){return d.linked},_={recognizers:[[c.Pan,{direction:c.DIRECTION_VERTICAL}],[c.Tap],[c.Swipe,{direction:c.DIRECTION_VERTICAL}]]},m.ojHammer(_).on("tap",I).on("swipeup",S).on("swipedown",b).on("panstart",O).on("panend pancancel",T).on("panup pandown",w),r.addEventListener("wheel",P,{passive:!1}),r.addEventListener("keydown",E,!1),r.addEventListener("focus",j,!1),r.addEventListener("blur",C,!1),D(),r;function f(){m.ojHammer().off("tap",I).off("swipeup",S).off("swipedown",b).off("panstart",O).off("panend pancancel",T).off("panup pandown",w),m.ojHammer("destroy")}function v(){if(h[8]){y(1);var e=h.shift();e&&r.removeChild(e);var t=Y(d,7,p);t&&r.appendChild(t),h.push(t)}}function g(){if(h[6]){y(-1);var e=h.pop();e&&r.removeChild(e);var t=Y(d,-7,p);t&&r.insertBefore(t,h[0]),h.unshift(t)}}function y(e){for(var t=0;t<h.length;t++){var i=h[t];i&&i.ojUpdatePosition(t-7-e)}k(d.getText(0))}function D(){h.forEach(function(e){e&&r.removeChild(e)}),h=[];for(var e=-7;e<=7;e++){var t=Y(d,e,p);t&&r.appendChild(t),h.push(t)}k(d.getText(0))}function k(e){isNaN(e)?(r.removeAttribute("aria-valuenow"),r.setAttribute("aria-valuetext",e)):(r.removeAttribute("aria-valuetext"),r.setAttribute("aria-valuenow",e))}function E(e){var t=e.keyCode;switch(t){case 38:d.position+=1,e.preventDefault();break;case 40:d.position-=1,e.preventDefault();break;case 8:d.keyboardValue=d.keyboardValue.slice(0,-1),e.preventDefault();break;default:(t>47&&t<58||t>95&&t<112||!i&&t>64&&t<91)&&(d.keyboardValue+=e.key)}}function I(e){r.focus();for(var t=(e.gesture.center.y-r.getBoundingClientRect().top)/m.height(),i=0;i<4&&t>u[i];)i+=1;2!==i&&(d.position+=i-2)}function S(e){r.focus();var t=e.gesture.velocityY,i=t*t/.007;l=Math.floor(i/m.height()*5),e.preventDefault()}function b(e){r.focus();var t=e.gesture.velocityY,i=t*t/.007;l=-Math.floor(i/m.height()*5),e.preventDefault()}function O(e){r.focus(),o=e.gesture.center.y,a=o,s=0,l=0}function T(){r.focus(),l&&(d.position+=l),a=null,o=null,s=null}function w(e){r.focus();var t=e.gesture.center.y,i=Math.round((a-t)/m.height()*5);i!==s&&Math.abs(o-t)>2&&(o=t,d.position+=i-s,s=i),e.preventDefault()}function P(e){e.deltaY&&(e.currentTarget.focus(),e.preventDefault()),e.deltaY<0&&(d.position+=1),e.deltaY>0&&(d.position-=1)}function j(){d.keyboardValue="",r.classList.add("oj-focus")}function C(){r.classList.remove("oj-focus"),d.update()}}function W(e){var i,n=[];return(i=document.createElement("div")).classList.add("oj-timepicker-wheel-group"),i.ojRefresh=s,i.addEventListener("keydown",r,!1),s(),i;function r(e){var i=e.target;switch(e.keyCode){case 37:t(i).prev().focus();break;case 39:t(i).next().focus()}}function a(e){var t=e.target;if(t.ojLinked())for(var i=0;i<n.length;i++)n[i].ojLinked()&&n[i].classList.add("oj-active");else t.classList.add("oj-active")}function o(){for(var e=0;e<n.length;e++)n[e].classList.remove("oj-active")}function s(){for(var t=i.firstChild;t;)t.ojDestroy(),i.removeChild(t),t=i.firstChild;n=[],function(){var t,r,s=e.wheelOrder,l=H(e.getWheelModel("hour"),!0,"oj-timepicker-hour"),c=H(e.getWheelModel("minute"),!0,"oj-timepicker-minute");s.indexOf("a")>=0&&(t=e.getWheelModel("ampm"),r=H(t,!1,"oj-timepicker-meridian"));var u,d=s.split("");for(u=0;u<d.length;u++)switch(d[u]){case"h":n.push(l);break;case"m":n.push(c);break;case"a":n.push(r);break;default:f.error("Unknown wheelOrder code: %s",d[u])}for(u=0;u<n.length;u++){var h=n[u];h.addEventListener("focus",a,!1),h.addEventListener("blur",o,!1),i.appendChild(h)}}()}}l.__registerWidget("oj.ojInputDate",t.oj.inputBase,{widgetEventPrefix:"oj",_CLASS_NAMES:"oj-inputdatetime-input",_WIDGET_CLASS_NAMES:"oj-inputdatetime-date-only oj-component oj-inputdatetime",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_INPUT_HELPER_KEY:"inputHelp",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_GET_INIT_OPTIONS_PROPS_FOR_WIDGET:[{attribute:"disabled",validateOption:!0},{attribute:"pattern"},{attribute:"title"},{attribute:"placeholder"},{attribute:"value",coerceDomValue:P},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"min",coerceDomValue:P},{attribute:"max",coerceDomValue:P}],_TRIGGER_CLASS:"oj-inputdatetime-input-trigger",_TRIGGER_CALENDAR_CLASS:"oj-inputdatetime-calendar-icon",_CURRENT_CLASS:"oj-datepicker-current-day",_DAYOVER_CLASS:"oj-datepicker-days-cell-over",_UNSELECTABLE_CLASS:"oj-datepicker-unselectable",_DATEPICKER_DIALOG_DESCRIPTION_ID:"oj-datepicker-dialog-desc",_DATEPICKER_DESCRIPTION_ID:"oj-datepicker-desc",_CALENDAR_DESCRIPTION_ID:"oj-datepicker-calendar",_MAIN_DIV_ID:"oj-datepicker-div",_INLINE_CLASS:"oj-datepicker-inline",_INPUT_CONTAINER_CLASS:" oj-inputdatetime-input-container oj-text-field-container",_INLINE_WIDGET_CLASS:" oj-inputdatetime-inline",_ON_CLOSE_REASON_SELECTION:"selection",_ON_CLOSE_REASON_CANCELLED:"cancelled",_ON_CLOSE_REASON_TAB:"tab",_ON_CLOSE_REASON_CLOSE:"close",_KEYBOARD_EDIT_OPTION_ENABLED:"enabled",_KEYBOARD_EDIT_OPTION_DISABLED:"disabled",options:{datePicker:{footerLayout:"",changeMonth:"select",changeYear:"select",currentMonthPos:0,daysOutsideMonth:"hidden",numberOfMonths:1,showOn:"focus",stepMonths:"numberOfMonths",stepBigMonths:12,weekDisplay:"none",yearRange:"c-10:c+10"},converter:void 0,keyboardEdit:"enabled",max:void 0,min:void 0,pickerAttributes:null,rawValue:void 0,renderMode:"jet",dayFormatter:null},_InitBase:function(){this._triggerNode=null,this._inputContainer=null,this._redirectFocusToInputContainer=!1,this._isMobile=!1,this._ignoreDatePickerShow=!1,this._nativePickerShowing=!1,this._maxRows=4,this._currentDay=0,this._drawMonth=0,this._currentMonth=0,this._drawYear=0,this._currentYear=0,this._datePickerDefaultValidators={},this._nativePickerConverter=null,this._labelValueWrapper=null;var e=this.element[0].nodeName.toLowerCase();if(this._isInLine="div"===e||"span"===e,this._isInLine)this._createDpDiv(),this._WIDGET_CLASS_NAMES+=this._INLINE_WIDGET_CLASS,this._CLASS_NAMES="";else{this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES+=this._INPUT_CONTAINER_CLASS,!0!==this.options.readOnly&&(this._createDpDiv(),this._createPopupDpDiv());var t=v.getCachedCSSVarValues(["--oj-private-core-global-dropdown-offset"])[0]||"0";this._dropdownVerticalOffset=parseInt(t,10)}},_UseReadonlyDiv:function(){return!this._isInLine&&this._superApply(arguments)},_GetDisplayValue:function(){return this._isInLine?this.options.value:this._superApply(arguments)},_createDpDiv:function(){var e=document.createElement("div");e.className="oj-datepicker-popup",e.style.display="none";var i=document.createElement("div");i.id=this._GetSubId(this._MAIN_DIV_ID),i.setAttribute("role","region"),i.setAttribute("aria-describedby",this._GetSubId(this._DATEPICKER_DESCRIPTION_ID)),i.className="oj-datepicker-content",e.appendChild(i),this._dpDiv=function(e){var t=".oj-datepicker-prev-icon, .oj-datepicker-prev-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-next-icon, .oj-datepicker-next-icon .oj-clickable-icon-nocontext.oj-component-icon, .oj-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){this.classList.remove("oj-hover")}).delegate(t,"mouseover",function(){this.classList.add("oj-hover")}).delegate(t,"focus",function(){this.classList.add("oj-focus")}).delegate(t,"blur",function(){this.classList.remove("oj-focus")})}(t(e)),this._IsCustomElement()?this._dpDiv.appendTo(this.OuterWrapper):this._dpDiv.appendTo(document.body)},_createPopupDpDiv:function(){var e=this;this._popUpDpDiv=this._dpDiv.ojPopup({initialFocus:"none",role:"dialog",modality:T()?"modeless":"modal",open:function(){e._popUpDpDiv.attr("aria-describedby",e._GetSubId(e._DATEPICKER_DIALOG_DESCRIPTION_ID)),"image"===e.options.datePicker.showOn&&e._dpDiv.find(".oj-datepicker-calendar").focus()},animation:{open:null,close:null}}).attr("data-oj-internal",""),this.element.attr("data-oj-popup-"+this._popUpDpDiv.attr("id")+"-parent","");var t=this.options.pickerAttributes;t&&i.EditableValueUtils.setPickerAttributes(this._popUpDpDiv.ojPopup("widget"),t)},_GetDefaultConverter:function(){return null==this._dateDefaultConverter&&(this._dateDefaultConverter=A()),this._dateDefaultConverter},_CreateConverters:function(){var e=this._GetConverter();if(e instanceof Promise){var t=this;this._resolveDateConverterBusyState=this._SetConverterBusyState("date"),this._dateConverterPromise=e.then(function(e){t._createNativeDatePickerConverter(e)})}else this._createNativeDatePickerConverter(e)},_ComponentCreate:function(){d.IntlConverterUtils._verifyValueMinMax(this.options.value,this.options.min,this.options.max),this._CreateConverters(),this._InitBase();var e,t=this._super();if(this.options.dayMetaData&&(this.options.dayFormatter=(e=this.options.dayMetaData,function(t){return R(e,0,[t.fullYear,t.month,t.date])})),this._setCurrentDate(this._getDateIso(),!0),this._isInLine){this.element.append(this._dpDiv),this.element.addClass(this._INLINE_CLASS),this.element.addClass("oj-form-control-container"),this._dpDiv.css("display","block");const e=this.widget();e[0].setAttribute("role","group"),this._labelledByUpdatedForSet(e[0].id,null,this.options.labelledBy,e)}else this._processReadOnlyKeyboardEdit(),!0!==this.options.readOnly&&this._attachTrigger();if(this._IsCustomElement()){let e=this._getRootElement(),t=this._GetContentElement()[0];e.focus=()=>{const e=this.GetFocusElement();e===t?t.focus(!0):e.focus()};let i=Object.getPrototypeOf(t);t.focus=function(e){const n=this.options.datePicker.showOn;"focus"===n?this._ignoreDatePickerShow=!e:"userFocus"===n&&(this._ignoreDatePickerShow=!0),i.focus.call(t)}.bind(this)}return x(this),t},_SetConverterBusyState:function(e){var t=this.element[0],i=g.getContext(t).getBusyContext(),n="The page is waiting for async "+e+" converter loading ";return t&&t.id&&(n+='for "'+t.id+'" '),n+="to finish.",i.addBusyState({description:n})},_IsDisabled:function(){return this.options.disabled||!this._converterCached},_AfterCreate:function(){var e,t=this._superApply(arguments);if(this._disableEnable(this._IsDisabled()),!this._IsCustomElement()){var i=this.$label;this._inputContainer&&i&&1===i.length&&(e=i.attr("id"),this._inputContainer.attr("aria-labelledby",e))}return t},_AfterCreateConverterCached:function(){var e=this._super();this._converterCached=!0;var t=function(){this._disableEnable(this._IsDisabled()),this._resolveDateConverterBusyState&&(this._resolveDateConverterBusyState(),delete this._resolveDateConverterBusyState)}.bind(this);if(this._dateConverterPromise){var i=this;this._dateConverterPromise.then(function(){t(),delete i._dateConverterPromise})}else t();return e},_setValidatorOption:function(e,t){var i=this,n=function(t){i._datePickerDefaultValidators[e]=t,i._AfterSetOptionValidators()};t instanceof Promise?t.then(function(e){n(e)}):n(t)},_setOption:function(e,t,n){var r=null;if("value"===e){if(t||(t=null),r=this._super(e,t,n),this._setCurrentDate(t),this._datepickerShowing()){var a=!(this._isInLine&&!this._dpDiv[0].contains(document.activeElement));this._updateDatepicker(a)}return r}if("dayMetaData"!==e){r=this._super(e,t,n),"disabled"===e?this._disableEnable(t):"max"===e||"min"===e?this._setValidatorOption("dateTimeRange",this._createDateTimeRangeValidator(this._GetConverter())):"readOnly"===e?(this._isInLine||t||null!=this._dpDiv||(this._createDpDiv(),this._createPopupDpDiv(),this._attachTrigger(),this._registerSwipeHandler(),this._AppendInputHelper(),this._setupResizePopupBind()),this._disableEnable(this._IsDisabled()),this._processReadOnlyKeyboardEdit(),t&&this._hide(this._ON_CLOSE_REASON_CLOSE),this._AfterSetOptionDisabledReadOnly("readOnly",i.EditableValueUtils.readOnlyOptionOptions)):"keyboardEdit"===e?this._processReadOnlyKeyboardEdit():"dayFormatter"===e?this._setValidatorOption("dateRestriction",this._createDateRestrictionValidator(this._GetConverter())):"converter"===e&&(this._nativePickerConverter=null,this._localTZConverter=null),"datePicker"===e&&"currentMonthPos"===n.subkey&&this._setCurrentDate(this._getDateIso());return this._datepickerShowing()&&e in{max:!0,min:!0,dayFormatter:!0,datePicker:!0,translations:!0}&&this._updateDatepicker(),r}this.option("dayFormatter",function(e){return R(t,0,[e.fullYear,e.month,e.date])},n)},_processReadOnlyKeyboardEdit:function(){var e=this.options.readOnly||this._isKeyboardEditDisabled();this.element.prop("readOnly",!!e)},_isKeyboardEditDisabled:function(){return this.options.keyboardEdit===this._KEYBOARD_EDIT_OPTION_DISABLED},_AppendInputHelperParent:function(){return this._triggerNode},_setLabelledByForInputBase:function(e,t){if(this._isInLine){const i=this.widget();this._labelledByUpdatedForSet(i[0].id,e,t,i)}else this._super(e,t)},_initLabelledByForInputBase:function(e){if(this._isInLine){const t=this.widget();this._labelledByUpdatedForSet(t[0].id,null,e,t)}else this._super(e)},_destroy:function(){return this._cleanUpDateResources(),this._super()},_datepickerShowing:function(){return this._isInLine||this._popUpDpDiv&&u.isComponentInitialized(this._popUpDpDiv,"ojPopup")&&this._popUpDpDiv.ojPopup("isOpen")||this._nativePickerShowing},_SetupResources:function(){return this._isInLine||!0!==this.options.readOnly&&this._setupResizePopupBind(),this._dpDiv&&(this._isInLine||!0!==this.options.readOnly)&&this._registerSwipeHandler(),this._super()},_SetLoading:function(){this._super(),this.element.prop("readOnly",!0),this._hide(this._ON_CLOSE_REASON_CLOSE)},_ClearLoading:function(){this._super(),this._processReadOnlyKeyboardEdit()},_setupResizePopupBind:function(){this._resizePopupBind=function(){u.isComponentInitialized(this._popUpDpDiv,"ojPopup")&&this._popUpDpDiv.ojPopup("option","modality",T()?"modeless":"modal")}.bind(this),window.addEventListener("resize",this._resizePopupBind,!1)},_ReleaseResources:function(){return this._IsCustomElement()&&(this._cleanUpListeners(),this._unregisterSwipeHandler()),this._super()},_cleanUpDateResources:function(){var e;e=this._isInLine?this.element[0].parentNode:this.element[0].parentNode.parentNode.parentNode,this._RemoveActiveable(t(e)),this.element.off("focus"),this.element[0].removeEventListener("touchstart",this._datepickerTouchStartListener,{passive:!1}),delete this._datepickerTouchStartListener,this._wrapper[0].removeEventListener("touchstart",this._datepickerWrapperTouchStartListener,{passive:!0}),delete this._datepickerWrapperTouchStartListener,this._triggerNode&&this._triggerNode.remove(),this._isInLine&&(this.element.removeProp("disabled"),this.element.removeProp("readonly")),this._cleanUpListeners(),this._animationResolve&&(this._animationResolve(),this._animationResolve=null),this._popUpDpDiv&&u.isComponentInitialized(this._popUpDpDiv,"ojPopup")&&this._popUpDpDiv.ojPopup("destroy"),this._dpDiv&&this._dpDiv.remove()},_cleanUpListeners:function(){this._resizePopupBind&&window.removeEventListener("resize",this._resizePopupBind)},_CreateContainerWrapper:function(){return this._inputContainer=t(this._superApply(arguments)),this._inputContainer.attr({role:"presentation",tabindex:"-1"}),this.element.attr({role:"combobox","aria-haspopup":"true"}),this._inputContainer[0]},_CreateMiddleWrapper:function(e){var t;return this._isInLine?this._labelValueWrapper=this.element[0]:(t=this._superApply(arguments),this._labelValueWrapper=t),t},_IsTextFieldComponent:function(){return!this._isInLine},_GetContentWrapper:function(){if(this._IsCustomElement()&&!this._isInLine)return this._getRootElement().querySelector(".oj-text-field-middle")},_onElementFocus:function(){this._redirectFocusToInputContainer?(this._redirectFocusToInputContainer=!1,this._inputContainer.focus()):this._showOnIsFocusOrUserFocus()?this.show():this._datepickerShowing()&&this._hide(this._ON_CLOSE_REASON_CLOSE)},_showOnIsFocusOrUserFocus:function(){var e=this.options.datePicker.showOn;return"focus"===e||"userFocus"===e},_OnElementTouchStart:function(e){e.preventDefault(),this._showOnIsFocusOrUserFocus()&&(this._datepickerShowing()?(this._ignoreDatePickerShow=!0,this._hide(this._ON_CLOSE_REASON_CLOSE)):(this._redirectFocusToInputContainer=!0,this._inputContainer.find("input")[0].focus(!0)))},_attachTrigger:function(){var e=this.options.datePicker.showOn,i=document.createElement("span");i.className=this._TRIGGER_CLASS;var n=document.createElement("span");n.setAttribute("title",this._GetCalendarTitle()),n.className=this._TRIGGER_CALENDAR_CLASS+" oj-clickable-icon-nocontext oj-component-icon",i.appendChild(n),this.element.on("focus",t.proxy(this._onElementFocus,this)),this._datepickerTouchStartListener=t.proxy(this._OnElementTouchStart,this),this.element[0].addEventListener("touchstart",this._datepickerTouchStartListener,{passive:!1});var r=this;this._datepickerWrapperTouchStartListener=function(){r._isMobile=!0},this._wrapper[0].addEventListener("touchstart",this._datepickerWrapperTouchStartListener,{passive:!0}),"image"===e&&(n.style.display="block",this._IsRTL()?(this.element.css("border-top-left-radius",0),this.element.css("border-bottom-left-radius",0)):(this.element.css("border-top-right-radius",0),this.element.css("border-bottom-right-radius",0))),n.addEventListener("click",function(e){r._datepickerShowing()?r._hide(r._ON_CLOSE_REASON_CLOSE):(r.show(),r._dpDiv.find(".oj-datepicker-calendar").focus()),e.preventDefault(),e.stopPropagation()});var a=t(n);this._AddHoverable(a),this._AddActiveable(a),this._triggerIcon=a,this._triggerNode=t(i),this._labelValueWrapper.parentNode.insertBefore(i,this._labelValueWrapper.nextElementSibling)},_doCalendarKeyDown:function(e){var i=!1,n=t.ui.keyCode,r=this._IsRTL();if(this._datepickerShowing())switch(e.keyCode){case 84:e.altKey&&e.ctrlKey&&(this._dpDiv.find(".oj-datepicker-current").focus(),i=!0);break;case n.TAB:break;case n.SPACE:case n.ENTER:var a=t("td."+this._DAYOVER_CLASS,this._dpDiv);return a[0]&&this._selectDay(this._currentMonth,this._currentYear,a[0],e),e.preventDefault(),e.stopPropagation(),!1;case n.ESCAPE:this._hide(this._ON_CLOSE_REASON_CANCELLED),this._isInLine||(i=!0);break;case n.PAGE_UP:e.ctrlKey&&e.altKey?this._adjustDate(-this.options.datePicker.stepBigMonths,"M",!0):e.altKey?this._adjustDate(-1,"Y",!0):this._adjustDate(-this._getStepMonths(),"M",!0),i=!0;break;case n.PAGE_DOWN:e.ctrlKey&&e.altKey?this._adjustDate(+this.options.datePicker.stepBigMonths,"M",!0):e.altKey?this._adjustDate(1,"Y",!0):this._adjustDate(+this._getStepMonths(),"M",!0),i=!0;break;case n.END:this._currentDay=this._getDaysInMonth(this._currentYear,this._currentMonth),this._changeCurrentDay(),i=!0;break;case n.HOME:this._currentDay=1,this._changeCurrentDay(),i=!0;break;case n.LEFT:e.originalEvent&&e.originalEvent.altKey||e.altKey?this._adjustDate(e.ctrlKey?-this.options.datePicker.stepBigMonths:-this._getStepMonths(),"M",!0):this._adjustDate(r?1:-1,"D",!0),i=!0;break;case n.UP:this._adjustDate(-7,"D",!0),i=!0;break;case n.RIGHT:e.originalEvent&&e.originalEvent.altKey||e.altKey?this._adjustDate(e.ctrlKey?+this.options.datePicker.stepBigMonths:+this._getStepMonths(),"M",!0):this._adjustDate(r?-1:1,"D",!0),i=!0;break;case n.DOWN:this._adjustDate(7,"D",!0),i=!0}i&&(e.preventDefault(),e.stopPropagation())},_changeCurrentDay:function(){var e,i=t("."+this._DAYOVER_CLASS,this._dpDiv),n=this._currentDay+"";if(1===i.length&&i.removeClass(this._DAYOVER_CLASS),e=this._isMultiMonth()?t("table.oj-datepicker-calendar.oj-focus",this._dpDiv):t("table.oj-datepicker-calendar",this._dpDiv),0===(i=t("a.oj-enabled:contains("+this._currentDay+")",e).filter(function(){return t(this).text()===n})).length&&(i=t("span.oj-disabled:contains("+this._currentDay+")",e).filter(function(){return t(this).text()===n})),1===i.length){var r=i.parent();e.addClass("oj-focus-highlight"),e.attr("aria-activedescendant",r.attr("id")+""),r.addClass(this._DAYOVER_CLASS),window.devicePixelRatio>=4&&r[0].scrollIntoView()}},_doMonthViewKeyDown:function(e){var i=!1,n=t.ui.keyCode,r=this._IsRTL();if(this._datepickerShowing())switch(e.keyCode){case 84:e.altKey&&e.ctrlKey&&(this._dpDiv.find(".oj-datepicker-current").focus(),i=!0);break;case n.SPACE:case n.ENTER:var a=t("td."+this._DAYOVER_CLASS,this._dpDiv);return a[0]&&this._selectMonthYear(a[0],"M"),e.preventDefault(),e.stopPropagation(),!1;case n.ESCAPE:this.hide(),this._isInLine||(i=!0);break;case n.PAGE_UP:e.ctrlKey&&e.altKey?this._adjustDate(-this.options.datePicker.stepBigMonths,"M",!0,"month"):e.altKey?this._adjustDate(-1,"Y",!0,"month"):this._adjustDate(-this._getStepMonths(),"M",!0,"month"),i=!0;break;case n.PAGE_DOWN:e.ctrlKey&&e.altKey?this._adjustDate(+this.options.datePicker.stepBigMonths,"M",!0,"month"):e.altKey?this._adjustDate(1,"Y",!0,"month"):this._adjustDate(+this._getStepMonths(),"M",!0,"month"),i=!0;break;case n.END:this._currentMonth=11,this._updateDatepicker(!0,"month"),i=!0;break;case n.HOME:this._currentMonth=0,this._updateDatepicker(!0,"month"),i=!0;break;case n.LEFT:this._adjustDate(r?1:-1,"M",!0,"month"),i=!0;break;case n.UP:this._adjustDate(-3,"M",!0,"month"),i=!0;break;case n.RIGHT:this._adjustDate(r?-1:1,"M",!0,"month"),i=!0;break;case n.DOWN:this._adjustDate(3,"M",!0,"month"),i=!0}i&&(e.preventDefault(),e.stopPropagation())},_doYearViewKeyDown:function(e){var i=!1,n=t.ui.keyCode,r=this._IsRTL();if(this._datepickerShowing())switch(e.keyCode){case 84:e.altKey&&e.ctrlKey&&(this._dpDiv.find(".oj-datepicker-current").focus(),i=!0);break;case n.SPACE:case n.ENTER:var a=t("td."+this._DAYOVER_CLASS,this._dpDiv);return a[0]&&this._selectMonthYear(a[0],"Y"),e.preventDefault(),e.stopPropagation(),!1;case n.ESCAPE:this.hide(),this._isInLine||(i=!0);break;case n.PAGE_UP:e.altKey&&this._adjustDate(-1,"Y",!0,"year"),i=!0;break;case n.PAGE_DOWN:e.altKey&&this._adjustDate(1,"Y",!0,"year"),i=!0;break;case n.END:this._currentYear=10*Math.floor(this._currentYear/10)+9,this._updateDatepicker(!0,"year"),i=!0;break;case n.HOME:this._currentYear=10*Math.floor(this._currentYear/10),this._updateDatepicker(!0,"year"),i=!0;break;case n.LEFT:this._adjustDate(r?1:-1,"Y",!0,"year"),i=!0;break;case n.UP:this._adjustDate(-3,"Y",!0,"year"),i=!0;break;case n.RIGHT:this._adjustDate(r?-1:1,"Y",!0,"year"),i=!0;break;case n.DOWN:this._adjustDate(3,"Y",!0,"year"),i=!0}i&&(e.preventDefault(),e.stopPropagation())},_getDatepickerContent:function(){return this._dpDiv?t(this._dpDiv.find(".oj-datepicker-content")[0]):t()},_isDateTimeSwitcher:function(){return this._dateTimeSwitcherActive},_updateDatepicker:function(e,t,i){var n;this._maxRows=4,(n="year"===t?this._generateViewHTML("Y"):"month"===t?this._generateViewHTML("M"):this._generateViewHTML("D")).html="<div"+(this._isDateTimeSwitcher()?"":" class='oj-datepicker-wrapper'")+">"+n.html+"</div>",this._currentView=t;var r=this._getDatepickerContent();if(i){var a=r.children().first();a.css({position:"absolute",left:0,top:0}),r.prepend(n.html);var o=r.children().first(),s="previous"===i?"end":"start";if(!this._animationResolve){var c=g.getContext(this.element[0]).getBusyContext();this._animationResolve=c.addBusyState({description:"The datepicker id='"+this.element.attr("id")+"' is animating."})}l.AnimationUtils.startAnimation(o[0],"open",{effect:"slideIn",direction:s});var u=l.AnimationUtils.startAnimation(a[0],"close",{effect:"slideOut",direction:s,persist:"all"}),d=this;u.then(function(){a&&a.remove(),d._setupNewView(e,t,n.dayOverId),d._animationResolve(),d._animationResolve=null})}else r.empty().append(n.html),this._setupNewView(e,t,n.dayOverId);window.devicePixelRatio>=4&&this._dpDiv[0].scrollIntoView();this._dpDiv.find(".oj-datepicker-prev-icon.oj-enabled, .oj-datepicker-next-icon.oj-enabled,.oj-datepicker-current, .oj-datepicker-month, .oj-datepicker-year, .oj-datepicker-calendar td a").click(e=>{e.preventDefault()})},_setupNewView:function(e,t,i){this._attachHandlers(),i&&this._dpDiv.find(".oj-datepicker-calendar").attr("aria-activedescendant",i);var n=this._getNumberOfMonths(),r=n[1],a=275;if(this._dpDiv.removeClass("oj-datepicker-multi-2 oj-datepicker-multi-3 oj-datepicker-multi-4").width(""),"year"===t||"month"===t)this._dpDiv.removeClass("oj-datepicker-multi");else{if((r=(n=this._getNumberOfMonths())[1])>1){var o=this._dpDiv.find(".oj-datepicker-calendar"),s=o.find("tbody a"),l=parseFloat(s.css("width")),c=parseFloat(o.css("margin-left"));isNaN(l)||isNaN(c)||(a=l*("number"===this.options.datePicker.weekDisplay?8:7)+2*c),this._dpDiv.addClass("oj-datepicker-multi-"+r).css("width",a*r+(this._isInLine?2:0)+"px")}this._dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("oj-datepicker-multi")}this._datepickerShowing()&&this.element.is(":visible")&&!this.element.is(":disabled")&&(e?this._placeFocusOnCalendar():this._isInLine||this.element[0]===document.activeElement||this.element.focus())},_placeFocusOnCalendar:function(){var e=this._dpDiv.find(".oj-datepicker-calendar");e[0]&&e[0]!==document.activeElement&&e[0].focus()},_adjustDate:function(e,t,i,n,r){this._IsDisabled()||(this._adjustInstDate(e+("M"===t?this.options.datePicker.currentMonthPos:0),t),this._updateDatepicker(i,n,r))},_getCurrentDate:function(e=this._GetConverter()){const t=new Date,i=L(e);if(i){const e=N(t.toISOString(),i);return d.IntlConverterUtils.isoToLocalDate(e)}return t},_calculateValueDateIso:function(e){const t=this._getDateIso(),i=L(e);return i?N(t,i):t},_gotoToday:function(){let e=this._getCurrentDate();this._currentDay=e.getDate(),this._currentMonth=e.getMonth(),this._drawMonth=this._currentMonth,this._currentYear=e.getFullYear(),this._drawYear=this._currentYear,this._adjustDate(null,null,!0,"day")},_selectMonthYear:function(e,i){var n,r=this._getDateIso(),a=e.getAttribute("data-year"),o="";a&&(n=parseInt(a,10),this._currentYear=n,this._drawYear=n,o=n+"_"),"M"===i?(n=parseInt(e.getAttribute("data-month"),10),this._currentMonth=n,this._drawMonth=n,o=n+"_",r=this._validateDatetime(r,{fullYear:this._currentYear,month:this._currentMonth})):r=this._validateDatetime(r,{fullYear:this._currentYear}),t("#"+this._GetSubId(o+this._CALENDAR_DESCRIPTION_ID)).html(this._EscapeXSS(this.options.monthWide[this._drawMonth])+" "+V(this._drawYear,this._drawMonth)),this._adjustDate(0,0,!0,"M"===i?"day":this._toYearFromView)},_selectDay:function(e,i,n,r){if(!t(n).hasClass(this._UNSELECTABLE_CLASS)&&!this._IsDisabled()){this._isDateTimeSwitcher()||this._hide(this._ON_CLOSE_REASON_SELECTION),this._currentDay=t("a",n).html(),this._currentMonth=e,this._currentYear=i;var a=d.IntlConverterUtils,o=this.options.value,s=new Date(this._currentYear,this._currentMonth,this._currentDay);if(o)try{o=a._dateTime(o,{fullYear:s.getFullYear(),month:s.getMonth(),date:s.getDate()})}catch(e){f.info("The value of the InputDateTime element should be an ISOString, please use a valid ISOString"),o=a.dateToLocalIso(s)}else o=a.dateToLocalIso(s);this._setDisplayAndValue(o,{}),this._isDateTimeSwitcher()&&this._placeFocusOnCalendar()}},_setDisplayAndValue:function(e,t){if(this._isDateTimeSwitcher()){if(this._switcherDateValue=e,this._setCurrentDate(e),this._datepickerShowing()){var i=!(this._isInLine&&!this._dpDiv[0].contains(document.activeElement));this._updateDatepicker(i)}}else{var n=this._GetConverter().format(e);this._SetDisplayValue(n),this._SetValue(n,t)}},_getDefaultIsoDate:function(){return d.IntlConverterUtils.dateToLocalIso(this._getTodayDate())},_setCurrentDate:function(e,t){var i;i=this._validateDatetime(e||this._getDefaultIsoDate(),["fullYear","month","date"],!0),this._currentDay=i.date,this._currentMonth=i.month,this._isMultiMonth()&&!t||(this._drawMonth=i.month),this._currentYear=i.fullYear,this._currentMonth<this._drawMonth?this._drawYear=this._currentYear-1:this._drawYear=this._currentYear,this._adjustInstDate()},_getStepMonths:function(){var e=this.options.datePicker.stepMonths;return t.isNumeric(e)?e:this.options.datePicker.numberOfMonths},_isButtonActivated:function(e){return!this._IsDisabled()&&("click"===e.type||"keydown"===e.type&&(32===e.keyCode||13===e.keyCode))},_gotoPrev:function(e){null==this._animationResolve&&("year"===this._currentView?this._adjustDate(-10,"Y",!0,"year","previous"):"month"===this._currentView?this._adjustDate(-1,"Y",!0,"month","previous"):this._adjustDate(-e,"M",!0,"day","previous"))},_gotoNext:function(e){null==this._animationResolve&&("year"===this._currentView?this._adjustDate(10,"Y",!0,"year","next"):"month"===this._currentView?this._adjustDate(1,"Y",!0,"month","next"):this._adjustDate(+e,"M",!0,"day","next"))},_attachHandlers:function(){var e=this._getStepMonths(),i=this,n=function(e){if("keydown"===e.type){const n=t.ui.keyCode;switch(e.keyCode){case n.TAB:return!0;case n.ESCAPE:return i._hide(i._ON_CLOSE_REASON_CLOSE),!0}}return!1};this._dpDiv.find("[data-handler]").map(function(){var r={prev:function(t){return i._isButtonActivated(t)&&i._gotoPrev(e),n(t)},next:function(t){return i._isButtonActivated(t)&&i._gotoNext(e),n(t)},today:function(e){return i._isButtonActivated(e)&&i._gotoToday(),n(e)},selectDay:function(e){return i._isButtonActivated(e)&&i._selectDay(+this.getAttribute("data-month"),+this.getAttribute("data-year"),this,e),n(e)},selectMonth:function(e){return i._isButtonActivated(e)&&i._selectMonthYear(this,"M"),n(e)},selectYear:function(e){return i._isButtonActivated(e)&&i._selectMonthYear(this,"Y"),n(e)},calendarKey:function(e){"year"===i._currentView?i._doYearViewKeyDown(e):"month"===i._currentView?i._doMonthViewKeyDown(e):i._doCalendarKeyDown(e)},selectMonthHeader:function(e){return i._isButtonActivated(e)&&("month"===i._currentView?i._updateDatepicker(!0,"day"):i._updateDatepicker(!0,"month")),n(e)},selectYearHeader:function(e){return i._isButtonActivated(e)&&("year"===i._currentView?i._updateDatepicker(!0,"day"):(i._toYearFromView=i._currentView,i._updateDatepicker(!0,"year"))),n(e)}};t(this).bind(this.getAttribute("data-event"),r[this.getAttribute("data-handler")])}),this._dpDiv.find(".oj-datepicker-calendar").map(function(){D.makeFocusable({element:t(this),applyHighlight:!0})});var r=this._dpDiv.find(".oj-datepicker-header a, .oj-datepicker-buttonpane a");this._AddHoverable(r),this._AddActiveable(r)},_registerSwipeHandler:function(){if(D.isTouchSupported()){var e=this,t=this._getStepMonths(),i=this._IsRTL(),n={recognizers:[[c.Swipe,{direction:c.DIRECTION_HORIZONTAL}]]};this._dpDiv.ojHammer(n).on(i?"swiperight":"swipeleft",function(){return e._gotoNext(t),!1}).on(i?"swipeleft":"swiperight",function(){return e._gotoPrev(t),!1})}},_unregisterSwipeHandler:function(){this._dpDiv&&this._dpDiv.off("swiperight swipeleft").ojHammer("destroy")},_getMinMaxDateIso:function(e){var t=this.options[e];if(t){var i=this._getDateIso();t=d.IntlConverterUtils._minMaxIsoString(t,i)}return t},_generateHeader:function(e,t,i,n,r){var a=this._IsRTL(),o=this._EscapeXSS(this.getTranslatedString("prevText")),s=n?"<a role='button' href='#' class='oj-datepicker-prev-icon oj-enabled oj-default oj-component-icon oj-clickable-icon-nocontext' data-handler='prev' data-event='click keydown' aria-label='"+o+"'></a>":"<a class='oj-datepicker-prev-icon oj-disabled oj-component-icon oj-clickable-icon-nocontext' title='"+o+"'></a>",l=this._EscapeXSS(this.getTranslatedString("nextText")),c=r?"<a role='button' href='#' class='oj-datepicker-next-icon oj-enabled oj-default oj-component-icon oj-clickable-icon-nocontext' data-handler='next' data-event='click keydown' aria-label='"+l+"'></a>":"<a class='oj-datepicker-next-icon oj-disabled oj-component-icon oj-clickable-icon-nocontext' title='"+l+"'></a>",u="<div class='oj-datepicker-header"+(this._IsDisabled()?" oj-disabled ":" oj-enabled oj-default ")+"'>";return/all|left/.test(i)&&(u+=a?c:s),/all|right/.test(i)&&(u+=a?s:c),u+=this._generateMonthYearHeader(e,t),u+="</div>"},_generateFooter:function(e,t){var i="",n=this._EscapeXSS(this.getTranslatedString("currentText")),r="<a role='button' href='#' class='oj-datepicker-current oj-priority-secondary "+(this._IsDisabled()?"oj-disabled' disabled":"oj-enabled'")+" data-handler='today' data-event='click keydown'>"+n+"</a>";if(e.length>1){var a=0,o=[{index:e.indexOf("today"),content:this._isInRange(t)?r:""}];for(o.sort(function(e,t){return e.index-t.index});a<o.length&&o[a].index<0;)a+=1;for(;a<o.length;)i+=o[a].content,a+=1;i.length>0&&(i="<div class='oj-datepicker-buttonpane'>"+i+"</div>")}return i},_isMultiMonth:function(){var e=this._getNumberOfMonths();return 1!==e[0]||1!==e[1]},_generateViewHTML:function(e){var t,i,n=d.IntlConverterUtils,r=["date","month","fullYear"],a=this._GetConverter(),o=this._getCurrentDate(a),s=new Date(o.getFullYear(),o.getMonth(),o.getDate()),l=this._IsRTL(),c=this.options.datePicker.footerLayout,u=this._getNumberOfMonths(),h=this.options.datePicker.currentMonthPos,p=this._isMultiMonth(),_=this._getMinMaxDateIso("min"),m=this._getMinMaxDateIso("max"),v=this._drawMonth-h,g=this._drawYear,y=new Date(this._currentYear,this._currentMonth,this._currentDay),D=this._calculateValueDateIso(a),k=this._validateDatetime(D,r,!0),E=k.fullYear,I=k.date,S=k.month,b=new Date(E,S,I),O=this._IsDisabled(),T=this._EscapeXSS(this.getTranslatedString("weekText"));_&&(a instanceof Promise||(_=a.parse(_),t=this._validateDatetime(_,r,!0))),m&&(a instanceof Promise||(m=a.parse(m),i=this._validateDatetime(m,r,!0)));try{D=n._clearTime(D)}catch(e){f.info("The value of the InputDateTime element should be an ISOString, please use a valid ISOString"),D=n._clearTime(this._getDefaultIsoDate())}if(v<0&&(v+=12,g-=1),t){var w=new Date(t.fullYear,t.month,t.date);for(i&&d.IntlConverterUtils._compareISODates(m,_)<0&&(f.warn("min property is greater than max property, and should be fixed.\n         For now min is set to equal max."),w=new Date(i.fullYear,i.month,i.date));new Date(g,v,this._getDaysInMonth(g,v))<w;)(v+=1)>11&&(v=0,g+=1)}if(i){var P=new Date(i.fullYear,i.month-u[0]*u[1]+1,i.date);for(t&&d.IntlConverterUtils._compareISODates(m,_)<0&&(f.warn("max property is less than min property, and should be fixed.\n        For now max is set to equal min."),P=new Date(t.fullYear,t.month,t.date));new Date(g,v,1)>P;)(v-=1)<0&&(v=11,g-=1)}this._drawMonth=v,this._drawYear=g;var j=this._generateFooter(c,s),C=this.options.datePicker.weekDisplay;return"D"===e?this._generateDayHTMLContent(n,j,C,s,l,u,p,t,i,v,g,y,k,E,I,S,b,O,T):"M"===e?this._generateMonthHTMLContent(j,t,i,v,g,b,O):this._generateYearHTMLContent(n,j,t,i,v,g,b,O)},_generateDayHTMLContent:function(e,t,i,n,r,a,o,s,l,c,u,d,h,p,_,m,v,g,y){for(var D,k=this.options.dayWide,E=this.options.dayNarrow,I=this.options.firstDayOfWeek,S="",b=this.options.dayFormatter,O=null,T=this._canAdjustMonth(-1,u,c)&&!g,w=this._canAdjustMonth(1,u,c)&&!g,P=this.options.datePicker.daysOutsideMonth,j="",C="all",M=0;M<a[0];M++){var R="";this._maxRows=3;for(var A=0;A<a[1];A++){C=0===M?"all":"";var L="";if(o){if(L+="<div class='oj-datepicker-group",a[1]>1)switch(A){case 0:L+=" oj-datepicker-group-first",C=0===M?r?"right":"left":"";break;case a[1]-1:L+=" oj-datepicker-group-last",C=0===M?r?"left":"right":"";break;default:L+=" oj-datepicker-group-middle",C=""}L+="'>"}L+=this._generateHeader(c,u,C,T,w),L+="<table class='oj-datepicker-calendar"+("number"===i?" oj-datepicker-weekdisplay":"")+(g?" oj-disabled ":" oj-enabled oj-default ")+"' tabindex=-1 data-handler='calendarKey' data-event='keydown' aria-readonly='true' role='grid' aria-labelledby='"+this._GetSubId(u+"_"+c+"_"+this._CALENDAR_DESCRIPTION_ID)+"'><thead role='presentation'><tr role='row'>";var N="number"===i?"<th class='oj-datepicker-week-col'>"+this._EscapeXSS(this.getTranslatedString("weekHeader"))+"</th>":"";for(D=0;D<7;D++){var x=(D+parseInt(I,10))%7;N+="<th role='columnheader' aria-label='"+k[x]+"'"+((D+I+6)%7>=5?" class='oj-datepicker-week-end'":"")+"><span title='"+k[x]+"' aria-hidden = 'true'>"+E[x]+"</span></th>"}L+=N+"</tr></thead><tbody role='presentation'>";var G=this._getDaysInMonth(u,c);u===p&&c===m&&(_=Math.min(_,G));var V=(this._getFirstDayOfMonth(u,c)-I+7)%7,F=Math.ceil((V+G)/7),U=o&&this._maxRows>F?this._maxRows:F;this._maxRows=U;var Y=new Date(u,c,1-V);let t;for(var H=0;H<U;H++){L+="<tr role='row'>";var W=" ";if("none"!==i)try{t||(t=new Date(u,c,2-V));const i=e.dateToLocalIso(t);W=this._calculateWeek(i)}catch(e){f.info("The value of the InputDateTime element should be an ISOString,\n               please use a valid ISOString")}var z="none"===i?"":"<td class='oj-datepicker-week-col' role='rowheader' aria-label='"+y+" "+W+"'>"+W+"</td>";for(D=0;D<7;D++){var B,Z=Y.getMonth()!==c,X=Y.getTime()===v.getTime(),K="oj-dp-"+this.uuid+"-"+H+"-"+D+"-"+M+"-"+A,q=Y.getTime()===d.getTime()&&c===this._currentMonth;q?(S=K,B=" "+this._DAYOVER_CLASS):B="";var $=[!0,""],J=Y.getFullYear(),Q=Y.getMonth(),ee=Y.getDate();b&&(O=b({fullYear:J,month:Q+1,date:ee}))&&($=[!O.disabled,O.className||""],O.tooltip&&$.push(O.tooltip));var te=Y.getTime()===v.getTime(),ie=Z&&"selectable"!==P||!$[0]||this._outSideMinMaxRange(Y,s,l);z+="<td role='gridcell' aria-disabled='"+!!ie+"' aria-selected='"+X+"' id='"+K+"' class='"+((D+I+6)%7>=5?" oj-datepicker-week-end":"")+(Z?" oj-datepicker-other-month":"")+B+(ie||g?" "+this._UNSELECTABLE_CLASS+" oj-disabled":" oj-enabled ")+(Z&&"hidden"===P?"":" "+$[1]+(X?" "+this._CURRENT_CLASS:"")+(Y.getTime()===n.getTime()?" oj-datepicker-today":""))+"'"+(Z&&"hidden"===P||!$[2]?"":" title='"+$[2].replace(/'/g,"&#39;")+"'")+(ie?"":" data-handler='selectDay' data-event='click' data-month='"+Y.getMonth()+"' data-year='"+Y.getFullYear()+"'")+">"+(Z&&"hidden"===P?"&#xa0;":ie||g?"<span class='oj-disabled'>"+Y.getDate()+"</span>":"<a role='button' class='oj-enabled"+(te?" oj-selected":"")+(Z?" oj-priority-secondary":"")+"' "+(q?"":"tabindex='-1' ")+" href='#'>"+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),"none"!==i&&t.setDate(t.getDate()+1)}L+=z+"</tr>"}(c+=1)>11&&(c=0,u+=1),L+="</tbody></table>",o&&(L+="</div>",a[0]>0&&A===a[1]-1&&(L+="<div class='oj-datepicker-row-break'></div>")),R+=L}j+=R}return{html:j+=t,dayOverId:S}},_generateMonthYearHeader:function(e,t){var i=this.options.datePicker.changeMonth,n=this.options.datePicker.changeYear,r=this._isMonthPriorToYear()?"before":"after",a="<div class='oj-datepicker-title'>",o="",s=this.options.monthWide,l=this._IsDisabled(),c=t+"_"+e+"_";s&&("none"===i?o+="<span class='oj-datepicker-month'>"+s[e]+"</span>":(o+="<a role='button' href='#' data-handler='selectMonthHeader' data-event='click keydown' class='oj-datepicker-month "+(l?"oj-disabled' disabled":"oj-enabled'")+">",o+=s[e]+"</a>"),"before"===r&&(a+=o+("select"!==i||"select"!==n?"&#xa0;":""))),this.yearshtml||(this.yearshtml="","none"===n?a+="<span class='oj-datepicker-year'>"+V(t,e)+"</span>":(a+="<a role='button' href='#' data-handler='selectYearHeader' data-event='click keydown' class='oj-datepicker-year "+(l?"oj-disabled' disabled":"oj-enabled'")+">",a+=V(t,e)+"</a>",this.yearshtml=null)),s&&"after"===r&&(a+=("select"!==i||"select"!==n?"&#xa0;":"")+o);var u=this._drawYear===t&&this._drawMonth===e;return u&&(a+="<span aria-hidden='true' class='oj-helper-hidden-accessible' id='"+this._GetSubId(this._DATEPICKER_DIALOG_DESCRIPTION_ID)+"'>",a+=this._EscapeXSS(this.getTranslatedString("picker"))+"</span>"),a+="<span aria-hidden='true' class='oj-helper-hidden-accessible' id='"+this._GetSubId(c+this._CALENDAR_DESCRIPTION_ID)+"'>",a+=(s?s[e]+" ":"")+V(t,e)+"</span>",u&&(a+="<span aria-hidden='true' class='oj-helper-hidden-accessible' id='"+this._GetSubId(this._DATEPICKER_DESCRIPTION_ID)+"'>"+this._EscapeXSS(this.getTranslatedString("datePicker"))+"</span>"),a+="</div>"},_adjustInstDate:function(e,t){var i=this._drawYear+("Y"===t?e:0),n=this._drawMonth+("M"===t?e:0),r=Math.min(this._currentDay,this._getDaysInMonth(i,n))+("D"===t?e:0),a=new Date(i,n,r);this._currentDay=a.getDate(),this._currentMonth=a.getMonth(),this._drawMonth=this._currentMonth,this._currentYear=a.getFullYear(),this._drawYear=this._currentYear},_generateMonthHTMLContent:function(e,t,i,n,r,a,o){var s=this.options.monthAbbreviated,l="",c=this._canAdjustYear(-1,r)&&!o,u=this._canAdjustYear(1,r)&&!o,d="";this._maxRows=3;var h="";h+=this._generateHeader(n,r,"all",c,u),h+="<table class='oj-datepicker-calendar oj-datepicker-monthview"+(o?" oj-disabled ":" oj-enabled oj-default ")+"' tabindex=-1 data-handler='calendarKey' data-event='keydown' aria-readonly='true' role='grid' aria-labelledby='"+this._GetSubId(r+"_"+n+"_"+this._CALENDAR_DESCRIPTION_ID)+"'>",h+="<tbody role='presentation'>";for(var p=new Date(r,0,1),_=0;_<3;_++){h+="<tr role='row'>";for(var m="",f=0;f<4;f++){var v,g=4*_+f,y=p.getMonth()===a.getMonth(),D="oj-dp-"+this.uuid+"-"+_+"-"+f+"-0-0",k=g===this._currentMonth;k?(l=D,v=" "+this._DAYOVER_CLASS):v="";var E=p.getMonth()===a.getMonth(),I=t&&t.fullYear===r,S=i&&i.fullYear===r,b=!((!I||g>=t.month)&&(!S||g<=i.month));m+="<td role='gridcell' aria-disabled='"+!!b+"' aria-selected='"+y+"' id='"+D+"' class='"+v+(b||o?" "+this._UNSELECTABLE_CLASS+" oj-disabled":" oj-enabled ")+(y?" "+this._CURRENT_CLASS:"")+"'"+(b?"":" data-handler='selectMonth' data-event='click' data-month='"+p.getMonth()+"' data-year='"+p.getFullYear()+"'")+">"+(b||o?"<span class='oj-disabled'>"+s[g]+"</span>":"<a role='button' class='oj-enabled"+(E?" oj-selected":"")+"' "+(k?"":"tabindex='-1' ")+" href='#'>"+s[g]+"</a>")+"</td>",p.setMonth(p.getMonth()+1)}h+=m+"</tr>"}return d+=h+="</tbody></table>",{html:d+=e,dayOverId:l}},_generateYearHTMLContent:function(e,t,i,n,r,a,o,s){var l="",c=this._canAdjustDecade(-1,a)&&!s,u=this._canAdjustDecade(1,a)&&!s,d="";this._maxRows=3;var h="";h+=this._generateHeader(r,a,"all",c,u),h+="<table class='oj-datepicker-calendar oj-datepicker-yearview"+(s?" oj-disabled ":" oj-enabled oj-default ")+"' tabindex=-1 data-handler='calendarKey' data-event='keydown' aria-readonly='true' role='grid' aria-labelledby='"+this._GetSubId(a+"_"+r+"_"+this._CALENDAR_DESCRIPTION_ID)+"'>",h+="<tbody role='presentation'>";for(var p=this._getYearRange(a,i,n),_=10*Math.floor(a/10),m=new Date(_,r,1),f=0;f<3;f++){h+="<tr role='row'>";for(var v="",g=0;g<4&&(4!==f||1!==g);g++){var y,D=_+4*f+g,k=m.getFullYear()===o.getFullYear(),E="oj-dp-"+this.uuid+"-"+f+"-"+g+"-0-0",I=D===this._currentYear;I?(l=E,y=" "+this._DAYOVER_CLASS):y="";var S=m.getFullYear()===o.getFullYear(),b=V(D,r),O=D<p.startYear||D>p.endYear;v+="<td role='gridcell' aria-disabled='"+!!O+"' aria-selected='"+k+"' id='"+E+"' class='"+y+(O||s?" "+this._UNSELECTABLE_CLASS+" oj-disabled":" oj-enabled ")+(k?" "+this._CURRENT_CLASS:"")+"'"+(O?"":" data-handler='selectYear' data-event='click' data-month='"+m.getMonth()+"' data-year='"+m.getFullYear()+"'")+">"+(O||s?"<span class='oj-disabled'>"+b+"</span>":"<a role='button' class='oj-enabled"+(S?" oj-selected":"")+"' "+(I?"":"tabindex='-1' ")+" href='#'>"+b+"</a>")+"</td>",m.setFullYear(m.getFullYear()+1)}h+=v+"</tr>"}return d+=h+="</tbody></table>",{html:d+=t,dayOverId:l}},_isMonthPriorToYear:function(){var e=l.Config.getLocale(),t=new Date,i=new Intl.DateTimeFormat(e,{dateStyle:"long"}).formatToParts(t);return i.findIndex(e=>"month"===e.type)<i.findIndex(e=>"year"===e.type)},_calculateWeek:function(e){var t,i=d.OraI18nUtils._IsoStrParts(e),n=new Date(Date.UTC(i[0],i[1]-1,i[2]));return n.setUTCDate(n.getUTCDate()+4-(n.getUTCDay()||7)),t=n.getTime(),n.setUTCMonth(0),n.setUTCDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},_getYearRange:function(e,t,i){var n=this.options.datePicker.yearRange.split(":"),r=(new Date).getFullYear();function a(t){var i;return i=t.match(/c[+-].*/)?e+parseInt(t.substring(1),10):t.match(/[+-].*/)?r+parseInt(t,10):parseInt(t,10),isNaN(i)?r:i}var o=a(n[0]),s=Math.max(o,a(n[1]||""));return{startYear:o=t?Math.max(o,t.fullYear):o,endYear:s=i?Math.min(s,i.fullYear):s}},_getNumberOfMonths:function(){var e=this.options.datePicker.numberOfMonths;return null==(e="string"==typeof e?parseInt(e,10):e)?[1,1]:"number"==typeof e?[1,e]:e},_getDaysInMonth:function(e,t){return 32-new Date(e,t,32).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i){var n=this._getNumberOfMonths(),r=new Date(t,i+(e<0?e:n[0]*n[1]),1);return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(r)},_canAdjustYear:function(e,t){var i;return e<0?(i=new Date(t+e,12,1)).setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())):i=new Date(t+e,1,1),this._isInRange(i)},_canAdjustDecade:function(e,t){var i,n=10*Math.floor(t/10);return e<0?(i=new Date(n+9+10*e,12,1)).setDate(this._getDaysInMonth(i.getFullYear(),i.getMonth())):i=new Date(n+10*e,1,1),this._isInRange(i)},_outSideMinMaxRange:function(e,t,i){var n=t?new Date(t.fullYear,t.month,t.date):null,r=i?new Date(i.fullYear,i.month,i.date):null;return null!==n&&e<n||null!==r&&e>r},_isInRange:function(e){var t,i,n=this._GetConverter(),r=this._getMinMaxDateIso("min"),a=null,o=this._getMinMaxDateIso("max"),s=null,l=this.options.datePicker.yearRange;if(l){var c=l.split(":"),u=(new Date).getFullYear();a=parseInt(c[0],10),s=parseInt(c[1],10),c[0].match(/[+-].*/)&&(a+=u),c[1].match(/[+-].*/)&&(s+=u)}if(r){r=n.parse(r);var d=this._validateDatetime(r,["fullYear","month","date"],!0);t=new Date(d.fullYear,d.month,d.date)}if(o){o=n.parse(o);var h=this._validateDatetime(o,["fullYear","month","date"],!0);i=new Date(h.fullYear,h.month,h.date)}return(!t||e.getTime()>=t.getTime())&&(!i||e.getTime()<=i.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_GetCalendarTitle:function(){return this._EscapeXSS(this.getTranslatedString("tooltipCalendar"+(this._IsDisabled()?"Disabled":"")))},_disableEnable:function(e){this._triggerNode&&(M(this._triggerNode[0].children,e),this._triggerNode.find("."+this._TRIGGER_CALENDAR_CLASS).attr("title",this._GetCalendarTitle())),e&&this._hide(this._ON_CLOSE_REASON_CLOSE),this._isInLine&&this._updateDatepicker()},_AppendInputHelper:function(){this._isInLine||!0===this.options.readOnly||this._superApply(arguments)},_onBlurHandler:function(e){this._isInLine||this._superApply(arguments)},_onKeyDownHandler:function(e){if(!this._isInLine){this._superApply(arguments);var i=t.ui.keyCode,n=!1;if(this._datepickerShowing())switch(e.keyCode){case i.TAB:this._hide(this._ON_CLOSE_REASON_TAB);break;case i.ESCAPE:this._hide(this._ON_CLOSE_REASON_CANCELLED),n=!0;break;case i.UP:case i.DOWN:var r=this._dpDiv.find(".oj-datepicker-calendar")[0],a=y.focusFirstTabStop(r);a||r.focus(),n=!0}else switch(e.keyCode){case i.UP:case i.DOWN:this._SetValue(this._GetDisplayValue(),e),this.show(),n=!0}return n?(e.preventDefault(),e.stopPropagation(),!1):void 0}},_SetDisplayValue:function(e){if(this._isInLine||this._superApply(arguments),this._setCurrentDate(this._getDateIso()),this._datepickerShowing()){var t=!(this._isInLine&&!this._dpDiv[0].contains(document.activeElement));this._updateDatepicker(t)}},_ResetAllValidators:function(){this._datePickerDefaultValidators={},this._superApply(arguments)},_GetConverter:function(){if(this.options.converter)return this._superApply(arguments);var e=this._GetDefaultConverter();return this.option("converter",e,{_context:{writeback:!0,internalSet:!0}}),e},_GetElementValue:function(){return this.options.value||""},_GetDefaultStyleClass:function(){return"oj-inputdate"},_GetImplicitValidators:function(){var e=this._superApply(arguments);if(null!=this.options.min||null!=this.options.max){var t=j(this.options,this._GetConverter(),this._GetDefaultStyleClass());this._datePickerDefaultValidators.dateTimeRange=t}if(null!=this.options.dayFormatter){var i=C(this.options,this._GetConverter());this._datePickerDefaultValidators.dateRestriction=i}return Object.assign(this._datePickerDefaultValidators,e)},_NotifyDetached:function(){this._hide(this._ON_CLOSE_REASON_CLOSE),this._superApply(arguments)},_NotifyHidden:function(){this._hide(this._ON_CLOSE_REASON_CLOSE),this._superApply(arguments)},_createDateTimeRangeValidator:function(e){var t=this.options,i=this._GetDefaultStyleClass(),n=function(e){return this._dateTimeRangeValidator=j(t,e,i),this._dateTimeRangeValidator}.bind(this);return e instanceof Promise?e.then(function(e){return n(e)}):n(e)},_getDateTimeRangeValidator:function(){return this._dateTimeRangeValidator},_createDateRestrictionValidator:function(e){var t=function(e){return this._dateRestrictionValidator=C(this.options,e),this._dateRestrictionValidator}.bind(this);return e instanceof Promise?e.then(function(e){return t(e)}):t(e)},_getDateRestrictionValidator:function(){return this._dateRestrictionValidator},_getValidator:function(e){var t=null;return"min"===e||"max"===e?t=this._getDateTimeRangeValidator():"dayFormatter"===e&&(t=this._getDateRestrictionValidator()),t},_getTodayDate:function(){var e=this._getCurrentDate();return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},_getDateIso:function(){return this._isDateTimeSwitcher()&&this._switcherDateValue?this._switcherDateValue:this.options.value||this._getDefaultIsoDate()},getNodeBySubId:function(e){var i=null,n=e&&e.subId,r=this._dpDiv,a=this._getDatepickerContent();if(n)switch(n){case"oj-datepicker-content":i=a[0];break;case"oj-inputdatetime-calendar-icon":i=t(".oj-inputdatetime-calendar-icon",this._triggerNode)[0];break;case"oj-datepicker-prev-icon":i=t(".oj-datepicker-prev-icon",r)[0];break;case"oj-datepicker-next-icon":i=t(".oj-datepicker-next-icon",r)[0];break;case"oj-datepicker-month":i=t(".oj-datepicker-month",r)[0];break;case"oj-datepicker-year":i=t(".oj-datepicker-year",r)[0];break;case"oj-datepicker-current":i=t(".oj-datepicker-current",r)[0];break;case"oj-inputdatetime-date-input":i=this._isInLine?null:this.element[0];break;default:i=null}return i||this._superApply(arguments)},getSubIdByNode:function(e){var i=this._dpDiv,n=null,r=[{selector:".oj-inputdatetime-calendar-icon",ele:this._triggerNode},{selector:".oj-datepicker-prev-icon",ele:i},{selector:".oj-datepicker-next-icon",ele:i},{selector:".oj-datepicker-month",ele:i},{selector:".oj-datepicker-year",ele:i},{selector:".oj-datepicker-current",ele:i}];if(e===i[0])return"oj-datepicker-content";if(!this._isInLine&&e===this.element[0])return"oj-inputdatetime-date-input";for(var a=0,o=r.length;a<o;a++){var s=r[a],l=t(s.selector,s.ele);if(1===l.length&&l[0]===e){n=s.selector.substr(1);break}}return n||this._superApply(arguments)},hide:function(){return this._hide(this._ON_CLOSE_REASON_CLOSE)},_hide:function(e){return G(this)||!this._datepickerShowing()||this._isInLine||(this._popUpDpDiv.ojPopup("close"),this._onClose(e)),this},_onClose:function(e){const t=this._showOnIsFocusOrUserFocus();this._isMobile&&t?this._inputContainer.focus():(t&&(this._ignoreDatePickerShow=!0),this.element.focus())},refresh:function(){return this._triggerNode&&this._triggerNode.find("."+this._TRIGGER_CALENDAR_CLASS).attr("title",this._GetCalendarTitle()),this._superApply(arguments)||this},show:function(){if(!(this._datepickerShowing()||this._IsDisabled()||this.options.readOnly))if(this._ignoreDatePickerShow)this._ignoreDatePickerShow=!1;else if(G(this)){this.element.blur();var e={};e.date=w(this._getNativeDatePickerConverter(),this._getDateIso()),e.mode="date",this._ShowNativeDatePicker(e)}else this._ShowHTMLDatePicker()},_createNativeDatePickerConverter:function(e){if(null===this._nativePickerConverter){var i=e.resolvedOptions(),n={};t.extend(n,i,{isoStrFormat:"offset"}),this._nativePickerConverter=new _.IntlDateTimeConverter(n)}},_createOffsetConverter:function(e){var i=e.resolvedOptions(),n={};return t.extend(n,i,{isoStrFormat:"offset"}),new _.IntlDateTimeConverter(n)},_getNativeDatePickerConverter:function(){if(null===this._nativePickerConverter){var e=this._GetConverter().resolvedOptions(),i={};t.extend(i,e,{isoStrFormat:"offset"}),this._nativePickerConverter=new _.IntlDateTimeConverter(i)}return this._nativePickerConverter},_ShowNativeDatePicker:function(e){var i=this._getMinMaxDateIso("min"),n=this._getMinMaxDateIso("max"),r=this._getNativeDatePickerConverter();i&&(e.minDate=w(r,i).valueOf()),n&&(e.maxDate=w(r,n).valueOf());var a=this;a._nativePickerShowing=!0,window.datePicker.show(e,t.proxy(this._OnDatePicked,this),function(e){a._nativePickerShowing=!1,e.startsWith("cancel")?a._onClose(a._ON_CLOSE_REASON_CANCELLED):f.error("Error: native date or time picker failed: "+e)})},_OnDatePicked:function(e){if(this._nativePickerShowing=!1,e){var t=this._validateDatetime(this._getDateIso(),{month:e.getMonth(),date:e.getDate(),fullYear:e.getFullYear()}),i=this._GetConverter().format(t);this._SetValue(i,{})}this._onClose(this._ON_CLOSE_REASON_SELECTION)},_validateDatetime:function(e,t,i){var n;try{n=d.IntlConverterUtils._dateTime(e,t,i)}catch(e){f.info("The value of the InputDate element should be an ISOString, please use a valid ISOString"),n=d.IntlConverterUtils._dateTime(this._getDefaultIsoDate(),t,i)}return n},_labelledByUpdatedForSet:E._labelledByUpdatedForSet,_ShowHTMLDatePicker:function(){var e=this._IsRTL(),t=this._GetConverter();if(t instanceof Promise)this._switcherPrevValue=this._getDateIso();else{const e=this.options.value?this._getDateIso():"";if(e&&"zulu"===d.IntlConverterUtils._getISOStrFormatType(e)){const i=this._createOffsetConverter(t);this._switcherPrevValue=i.parse(e)}else this._switcherPrevValue=t.parse(e)}if(this._switcherPrevDay=this._currentDay,this._switcherPrevMonth=this._currentMonth,this._switcherPrevYear=this._currentYear,this._getDatepickerContent().empty(),this._updateDatepicker(),T()){const t={my:"start top",at:"start bottom",of:this._labelValueWrapper.parentNode,collision:"flipfit",offset:{x:0,y:this._dropdownVerticalOffset}},i=this._getDropdownPosition(t,e);this._popUpDpDiv.ojPopup("open",this._labelValueWrapper.parentNode,i)}else{const e={my:{horizontal:"center",vertical:"bottom"},at:{horizontal:"center",vertical:"bottom"},of:window,collision:"flipfit"};this._popUpDpDiv.ojPopup("open",this._labelValueWrapper.parentNode,e),this._dpDiv.find(".oj-datepicker-calendar").focus()}return this},_getDropdownPosition:function(e,t){let i=l.PositionUtils.normalizeHorizontalAlignment(e,t);return i=l.PositionUtils.coerceToJet(i),i=l.PositionUtils.coerceToJqUi(i),i.of=e.of,i}}),u.setDefaultOptions({ojInputDate:{converter:u.createDynamicPropertyGetter(function(){return null==S&&(S=A()),S}),firstDayOfWeek:u.createDynamicPropertyGetter(function(){return m.getFirstDayOfWeek()}),dayWide:u.createDynamicPropertyGetter(function(){return m.getDayNames("wide")}),dayNarrow:u.createDynamicPropertyGetter(function(){return m.getDayNames("narrow")}),monthWide:u.createDynamicPropertyGetter(function(){return m.getMonthNames("wide")}),monthAbbreviated:u.createDynamicPropertyGetter(function(){return m.getMonthNames("abbreviated")}),datePicker:u.createDynamicPropertyGetter(function(){return(v.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).datePicker}),renderMode:u.createDynamicPropertyGetter(function(){return(v.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).renderMode}),keyboardEdit:u.createDynamicPropertyGetter(function(){return(v.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).keyboardEdit})}}),H.counter=0;var z,B,Z,X=(v.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).showPickerOnDesktop||"disabled";function K(e){var t=e.split(":");if(4!==t.length)throw new Error("timeIncrement value should be in the format of hh:mm:ss:SSS");for(var i={hourIncr:parseInt(t[0].substring(0),10),minuteIncr:parseInt(t[1],10),secondIncr:parseInt(t[2],10),millisecondIncr:parseInt(t[3],10)},n=0,r=Object.keys(i),a=0;a<r.length;a++){n+=i[r[a]]}if(0===n)throw new Error("timeIncrement must have a non 00:00:00:000 value");return i}function q(e,i){for(var n=e.resolvedOptions(),r={},a=["hour","hour12","minute","second","millisecond","timeFormat","timeZone","timeZoneName","isoStrFormat","dst"],o=0,s=a.length;o<s;o++)a[o]in n&&("timeFormat"===a[o]&&(r.formatType="time"),r[a[o]]=n[a[o]]);var l={};if(t.extend(l,r),delete l.isoStrFormat,delete l.dst,t.isEmptyObject(l))throw new Error("Empty object for creating a time picker converter");return t.extend(r,i||{}),new _.IntlDateTimeConverter(r)}function $(){const e=I.getDateTimePreferences();return e&&e.timeStyle&&e.timeStyle.short?new _.IntlDateTimeConverter({formatType:"time",timeFormat:"short"}):new _.IntlDateTimeConverter({hour:"2-digit",minute:"2-digit"})}l.__registerWidget("oj.ojInputTime",t.oj.inputBase,{widgetEventPrefix:"oj",_CLASS_NAMES:"oj-inputdatetime-input",_WIDGET_CLASS_NAMES:"oj-inputdatetime-time-only oj-component oj-inputdatetime oj-text-field",_INPUT_CONTAINER_CLASS:"oj-inputdatetime-input-container oj-text-field-container",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_INPUT_HELPER_KEY:"inputHelp",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_GET_INIT_OPTIONS_PROPS_FOR_WIDGET:[{attribute:"disabled",validateOption:!0},{attribute:"pattern"},{attribute:"title"},{attribute:"placeholder"},{attribute:"value",coerceDomValue:P},{attribute:"required",coerceDomValue:!0,validateOption:!0},{attribute:"readonly",option:"readOnly",validateOption:!0},{attribute:"min",coerceDomValue:P},{attribute:"max",coerceDomValue:P}],_TIME_PICKER_ID:"ojInputTime",_TRIGGER_CLASS:"oj-inputdatetime-input-trigger",_TRIGGER_TIME_CLASS:"oj-inputdatetime-time-icon",_ON_CLOSE_REASON_SELECTION:"selection",_ON_CLOSE_REASON_CANCELLED:"cancelled",_ON_CLOSE_REASON_TAB:"tab",_ON_CLOSE_REASON_CLOSE:"close",_KEYBOARD_EDIT_OPTION_ENABLED:"enabled",_KEYBOARD_EDIT_OPTION_DISABLED:"disabled",options:{converter:void 0,keyboardEdit:"enabled",max:void 0,min:void 0,datePickerComp:null,pickerAttributes:null,renderMode:"jet",timePicker:{footerLayout:"",timeIncrement:"00:05:00:00",showOn:"focus"}},_InitOptions:function(e,t){this._super(e,t),null!==this.options.datePickerComp||this._IsCustomElement()||i.EditableValueUtils.initializeOptionsFromDom(this._GET_INIT_OPTIONS_PROPS_FOR_WIDGET,t,this)},_getPrependNode:function(){const e=this._IsCustomElement()?t(this.OuterWrapper):t("body");return this._isIndependentInput()?e:t(".oj-popup-content",this._datePickerComp.widget._popUpDpDiv.ojPopup("widget"))},_InitBase:function(){this._timePickerDefaultValidators={},this._datePickerComp=this.options.datePickerComp,this._inputContainer=null,this._redirectFocusToInputContainer=!1,this._isMobile=!1,this._ignoreTimePickerShow=!1,this._nativePickerShowing=!1,!0!==this.options.readOnly&&this._createWheelPicker(),this._isIndependentInput()&&(this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES+=this._INPUT_CONTAINER_CLASS)},_UseReadonlyDiv:function(){return(!this._isContainedInDateTimePicker()||!this._isDatePickerInline())&&this._superApply(arguments)},_createWheelPicker:function(){var e=this.options.pickerAttributes,n=document.createElement("div");n.className="oj-timepicker-popup",n.style.display="none";var r=document.createElement("div");r.id=this._GetSubId(this._TIME_PICKER_ID);var a="oj-timepicker-content";if("phone"===k.getDeviceRenderMode()){a+=this._isContainedInDateTimePicker()?" oj-timepicker-datetime-mobile-content":" oj-timepicker-mobile-content"}r.className=a,n.appendChild(r),this._wheelPicker=t(n);var o=this._getPrependNode()[0];if(o.insertBefore(n,o.firstElementChild),this._isIndependentInput()){this._popUpWheelPicker=this._wheelPicker.ojPopup({initialFocus:"none",role:"dialog",chrome:"default",modality:T?"modeless":"modal",open:function(){},beforeClose:function(){},animateStart:function(e,t){"open"===t.action&&(e.preventDefault(),AnimationUtils.slideIn(t.element,{offsetY:t.element.offsetHeight+"px"}).then(t.endCallback))},animation:{open:null,close:null}}).attr("data-oj-internal",""),this.element.attr("data-oj-popup-"+this._popUpWheelPicker.attr("id")+"-parent",""),e&&i.EditableValueUtils.setPickerAttributes(this._popUpWheelPicker.ojPopup("widget"),e)}},_timepickerShowing:function(){var e;if(this._isIndependentInput())return(e=this._popUpWheelPicker)&&u.isComponentInitialized(e,"ojPopup")&&e.ojPopup("isOpen")||this._nativePickerShowing;var t=this._datePickerComp.widget;return e=t._popUpDpDiv,t._isShowingDatePickerSwitcher()&&e&&u.isComponentInitialized(e,"ojPopup")&&e.ojPopup("isOpen")||this._nativePickerShowing},_GetDefaultConverter:function(){return null==this._timeDefaultConverter&&(this._timeDefaultConverter=$()),this._timeDefaultConverter},_CreateConverters:function(){var e=function(e){this._createOffsetConverter(e)}.bind(this),t=this._GetConverter();t instanceof Promise?(this._resolveConverterBusyState=this._SetConverterBusyState("time"),this._converterPromise=t.then(function(t){e(t)})):e(t)},_ComponentCreate:function(){d.IntlConverterUtils._verifyValueMinMax(this.options.value,this.options.min,this.options.max),this._CreateConverters(),this._InitBase();var e=this._superApply(arguments);if(this._isContainedInDateTimePicker()&&!this._isDatePickerInline()?this._CLASS_NAMES="":x(this),this._IsCustomElement()){let e=this._getRootElement(),t=this._GetContentElement()[0];e.focus=()=>{!0===this.options.readOnly?this.GetFocusElement().focus():t.focus(!0)};let i=Object.getPrototypeOf(t);t.focus=function(e){const n=this.options.timePicker.showOn;"focus"===n?this._ignoreTimePickerShow=!e:"userFocus"===n&&(this._ignoreTimePickerShow=!0),i.focus.call(t)}.bind(this)}return this._processReadOnlyKeyboardEdit(),e},_SetConverterBusyState:function(e){var t=this.element[0],i=g.getContext(t).getBusyContext(),n="The page is waiting for async "+e+" converter loading ";return t&&t.id&&(n+='for "'+t.id+'" '),n+="to finish.",i.addBusyState({description:n})},_AfterCreate:function(){var e=this._superApply(arguments);return e},_AfterCreateConverterCached:function(){var e=this._super(),t=function(){var e;if((!0!==this.options.readOnly&&this._isIndependentInput()&&this._attachTrigger(),this._isIndependentInput())&&(!0!==this.options.readOnly&&M(this._triggerNode[0].children,this.options.disabled),!this._IsCustomElement())){var t=this.$label;this._inputContainer&&t&&1===t.length&&(e=t.attr("id"),this._inputContainer.attr("aria-labelledby",e))}this._resolveConverterBusyState&&(this._resolveConverterBusyState(),delete this._resolveConverterBusyState)}.bind(this);if(this._converterPromise){var i=this;this._converterPromise.then(function(){t(),delete i._converterPromise})}else t();return e},_createDateTimeRangeValidator:function(e){var t=this.options,i=this._GetDefaultStyleClass(),n=function(e){var n=j(t,e,i);if(n instanceof Promise){var r=this;return n.then(function(e){return r._dateTimeRangeValidator=e,e})}return this._dateTimeRangeValidator=n,n}.bind(this);return e instanceof Promise?e.then(function(e){return n(e)}):n(e)},_getDateTimeRangeValidator:function(){return this._dateTimeRangeValidator},_setValidatorOption:function(e,t){var i=this,n=function(t){i._timePickerDefaultValidators[e]=t,i._AfterSetOptionValidators()};t instanceof Promise?t.then(function(e){n(e)}):n(t)},_setOption:function(e,t,n){var r,a=null;if("value"===e)return t||(t=null),a=this._super(e,t,n),this._createWheelPickerDom(!0),a;"timePicker"===e&&void 0===t.footerLayout&&(r=this.options.timePicker.footerLayout),a=this._superApply(arguments),r&&(this.options.timePicker.footerLayout=r),"disabled"===e&&this._isIndependentInput()?(t&&this._hide(this._ON_CLOSE_REASON_CLOSE),this._triggerNode&&(this._triggerNode.find("."+this._TRIGGER_TIME_CLASS).attr("title",this._getTimeTitle()),M(this._triggerNode[0].children,t))):"max"!==e&&"min"!==e||this._isContainedInDateTimePicker()?"readOnly"===e?(this._processReadOnlyKeyboardEdit(),t?this._hide(this._ON_CLOSE_REASON_CLOSE):null==this._wheelPicker&&(this._createWheelPicker(),this._isIndependentInput()&&(this._attachTrigger(),M(this._triggerNode[0].children,this.options.disabled)),this._setupResizePopupBind()),this._AfterSetOptionDisabledReadOnly("readOnly",i.EditableValueUtils.readOnlyOptionOptions)):"keyboardEdit"===e&&this._processReadOnlyKeyboardEdit():this._setValidatorOption("dateTimeRange",this._createDateTimeRangeValidator(this._GetConverter()));var o={max:!0,min:!0,converter:!0,timePicker:!0};return e in o&&this._createWheelPickerDom(),a},_destroy:function(){return this._cleanUpTimeResources(),this._super()},_clearWheelModels:function(){var e=this._timePickerModel;if(e){var t=e.getWheelModel("hour");t&&(t.wheel=void 0),(t=e.getWheelModel("minute"))&&(t.wheel=void 0),(t=e.getWheelModel("ampm"))&&(t.wheel=void 0)}},_destroyHammer:function(){if(this._wheelGroup&&this._wheelGroup.length)for(var e=this._wheelGroup[0].children,t=0;t<e.length;t++)e[t].ojDestroy()},_SetupResources:function(){return!0!==this.options.readOnly&&this._setupResizePopupBind(),this._super()},_setupResizePopupBind:function(){this._resizePopupBind=function(){t(".oj-timepicker-content",this._wheelPicker)[T?"removeClass":"addClass"]("oj-timepicker-fixedheight"),this._isIndependentInput()&&u.isComponentInitialized(this._popUpWheelPicker,"ojPopup")&&this._popUpWheelPicker.ojPopup("option","modality",T?"modeless":"modal")}.bind(this),window.addEventListener("resize",this._resizePopupBind,!1)},_ReleaseResources:function(){return this._removeResizePopupBind(),this._destroyHammer(),this._super()},_cleanUpTimeResources:function(){this._isIndependentInput()&&(this.element.off("focus"),this.element[0].removeEventListener("touchstart",this._timepickerTouchStartListener,{passive:!1}),delete this._timepickerTouchStartListener,this._wrapper[0].removeEventListener("touchstart",this._timepickerWrapperTouchStartListener,{passive:!0}),delete this._timepickerWrapperTouchStartListener),this._triggerNode&&this._triggerNode.remove(),this._wheelPicker&&(this._wheelPicker.remove(),this._clearWheelModels()),this._isIndependentInput()&&this._popUpWheelPicker&&u.isComponentInitialized(this._popUpWheelPicker,"ojPopup")&&this._popUpWheelPicker.ojPopup("destroy")},_removeResizePopupBind:function(){this._resizePopupBind&&window.removeEventListener("resize",this._resizePopupBind)},_processReadOnlyKeyboardEdit:function(){if(this._isIndependentInput()){var e=this.options.readOnly||this._isKeyboardEditDisabled();this.element.prop("readOnly",!!e)}},_isKeyboardEditDisabled:function(){return this.options.keyboardEdit===this._KEYBOARD_EDIT_OPTION_DISABLED},_AppendInputHelper:function(){this._isIndependentInput()&&this._isTimePickerSupported()&&this._superApply(arguments)},_onKeyDownHandler:function(e){if(this._isIndependentInput()){this._superApply(arguments);var i=t.ui.keyCode,n=!1;if(this._timepickerShowing())switch(e.keyCode){case i.TAB:this._hide(this._ON_CLOSE_REASON_TAB);break;case i.ESCAPE:this._hide(this._ON_CLOSE_REASON_CANCELLED),n=!0;break;case i.UP:case i.DOWN:this._wheelGroup.children().first().focus(),n=!0}else switch(e.keyCode){case i.UP:case i.DOWN:var r=this._GetConverter().parse(this._GetDisplayValue());this._SetValue(r,e),this._isTimePickerSupported()&&this.show(),n=!0}if(n||e.keyCode===i.ENTER)return e.preventDefault(),e.stopPropagation(),!1}},_getTimeTitle:function(){return this._EscapeXSS(this.getTranslatedString("tooltipTime"+(this.options.disabled?"Disabled":"")))},_CreateContainerWrapper:function(){return this._inputContainer=t(this._superApply(arguments)),this._inputContainer.attr({role:"presentation",tabindex:"-1"}),this._isTimePickerSupported()&&this.element.attr({role:"combobox","aria-haspopup":"true"}),this._inputContainer[0]},_IsTextFieldComponent:function(){return!this._isInLine},_GetContentWrapper:function(){if(this._IsCustomElement())return this._getRootElement().querySelector(".oj-text-field-middle")},_onElementFocus:function(){this._redirectFocusToInputContainer?(this._redirectFocusToInputContainer=!1,G(this)?this._inputContainer.focus():this._wheelGroup.children().first().focus()):this._showOnIsFocusOrUserFocus()?this._isTimePickerSupported()&&this.show():this._timepickerShowing()&&this._hide(this._ON_CLOSE_REASON_CLOSE)},_showOnIsFocusOrUserFocus:function(){var e=this.options.timePicker.showOn;return"focus"===e||"userFocus"===e},_OnElementTouchStart:function(e){if(e.preventDefault(),this._showOnIsFocusOrUserFocus())if(this._timepickerShowing())this._ignoreTimePickerShow=!0,this._hide(this._ON_CLOSE_REASON_CLOSE);else{var t=this.element[0]===document.activeElement;this._isTimePickerSupported()&&(this.show(),this._redirectFocusToInputContainer=!0),G(this)&&t&&this._inputContainer.focus()}},_attachTrigger:function(){var e=this.options.timePicker.showOn,i=document.createElement("span");i.className=this._TRIGGER_CLASS;var n=document.createElement("span");n.setAttribute("title",this._getTimeTitle()),n.className=this._TRIGGER_TIME_CLASS+" oj-clickable-icon-nocontext oj-component-icon";var r=this;this.element.on("focus",t.proxy(this._onElementFocus,this)),this._timepickerTouchStartListener=t.proxy(this._OnElementTouchStart,this),this.element[0].addEventListener("touchstart",this._timepickerTouchStartListener,{passive:!1});var a=this._wrapper;if(this._timepickerWrapperTouchStartListener=function(){r._isMobile=!0},a[0].addEventListener("touchstart",this._timepickerWrapperTouchStartListener,{passive:!0}),"image"===e&&(n.style.display="block",this._IsRTL()?(this.element.css("border-top-left-radius",0),this.element.css("border-bottom-left-radius",0)):(this.element.css("border-top-right-radius",0),this.element.css("border-bottom-right-radius",0))),!G(this)){i.appendChild(n),n.addEventListener("click",function(){r._timepickerShowing()?r._hide(r._ON_CLOSE_REASON_CLOSE):r._isTimePickerSupported()&&(r.show(),r._wheelGroup.children().first().focus())});var o=t(n);this._AddHoverable(o),this._AddActiveable(o),this._triggerIcon=o}this._triggerNode=t(i);var s=this.element[0].parentNode;this._isTimePickerSupported()&&s.parentNode.insertBefore(i,s.nextElementSibling)},_getValue:function(){return this._isContainedInDateTimePicker()?this._datePickerComp.widget.getValueForInputTime():this.options.value},_onBlurHandler:function(e){this._isIndependentInput()&&this._superApply(arguments)},show:function(){this._timepickerShowing()||this.options.disabled||this.options.readOnly||(this._ignoreTimePickerShow?this._ignoreTimePickerShow=!1:G(this)?(this.element.blur(),this._showNativeTimePicker()):this._showWheelPicker())},_createOffsetConverter:function(e){this._offsetConverter=q(e,{isoStrFormat:"offset"})},_getOffsetConverter:function(){return this._offsetConverter},_showNativeTimePicker:function(){var e={},t=this._getOffsetConverter(),i=w(t,this._getIsoDateValue(t));e.date=i,e.mode="time";var n=K(this.options.timePicker.timeIncrement);e.minuteInterval=0===n.hourIncr?n.minuteIncr:1;var r=this._isContainedInDateTimePicker()?this._datePickerComp.widget.options.min:this.options.min,a=this._isContainedInDateTimePicker()?this._datePickerComp.widget.options.max:this.options.max;if(r){var o=w(t,d.IntlConverterUtils._minMaxIsoString(r,this._getIsoDateValue(t)));e.minDate=o.valueOf()}if(a){var s=w(t,d.IntlConverterUtils._minMaxIsoString(a,this._getIsoDateValue(t)));e.maxDate=s.valueOf()}var l=this;this._nativePickerShowing=!0,window.datePicker.show(e,function(e){if(l._nativePickerShowing=!1,e){var t=l._getOffsetConverter(),i=d.IntlConverterUtils._dateTime(l._getIsoDateValue(t),{hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()}),n=l._GetConverter().format(i);l._SetValue(n,{})}l._onClose(l._ON_CLOSE_REASON_SELECTION)},function(e){l._nativePickerShowing=!1,e.startsWith("cancel")?l._onClose(l._ON_CLOSE_REASON_CANCELLED):f.error("Error: native time picker failed: "+e)})},hide:function(){return this._hide(this._ON_CLOSE_REASON_CLOSE)},_hide:function(e){return!G(this)&&this._timepickerShowing()&&(this._popUpWheelPicker.ojPopup("close"),this._onClose(e)),this},_onClose:function(e){const t=this._showOnIsFocusOrUserFocus();this._isMobile&&t?(this._isIndependentInput()?this._inputContainer:this._datePickerComp.widget._inputContainer).focus():(t&&(this._isIndependentInput()?this._ignoreTimePickerShow=!0:this._datePickerComp.widget._ignoreDatePickerShow=!0),this.element.focus())},refresh:function(){return this._triggerNode&&this._triggerNode.find("."+this._TRIGGER_TIME_CLASS).attr("title",this._getTimeTitle()),this._superApply(arguments)||this},_SetDisplayValue:function(e){this._isIndependentInput()&&this._superApply(arguments),this._timepickerShowing()&&this._createWheelPickerDom(!0)},_SetValue:function(e,t,i){var n=!1;if(this._isContainedInDateTimePicker())try{var r,a=this._datePickerComp.widget;r=t&&t.target&&t.target===this.element[0]&&!this._isDatePickerInline()?a._GetConverter():this._GetConverter();var o=new Date,s=d.IntlConverterUtils,l=a.getValueForInputTime()||s.dateToLocalIso(o),c=e;try{s._dateTime(e,{month:o.getMonth(),date:o.getDate(),fullYear:o.getFullYear(),hours:o.getHours(),minutes:o.getMinutes(),seconds:o.getSeconds()})}catch(t){c=r.parse(e)}var u=s._copyTimeOver(c,l),h=r.parse(u);if(h&&0===d.IntlConverterUtils._compareISODates(l,h))return!1;a.timeSelected(h,t),this._isDatePickerInline()&&(n=this._super(e,null,i))}catch(t){n=this._super(e,null,i)}else n=this._superApply(arguments);return n},_DoWrapElement:function(){return this._isIndependentInput()},_isIndependentInput:function(){return!this._isContainedInDateTimePicker()||this._isDatePickerInline()},_GetDefaultStyleClass:function(){return"oj-inputtime"},_GetElementValue:function(){return this.options.value||""},_GetImplicitValidators:function(){var e=this._superApply(arguments);if((null!=this.options.min||null!=this.options.max)&&!this._isContainedInDateTimePicker()){var t=j(this.options,this._GetConverter(),this._GetDefaultStyleClass());this._timePickerDefaultValidators.dateTimeRange=t}return Object.assign(this._timePickerDefaultValidators,e)},_ResetAllValidators:function(){this._timePickerDefaultValidators={},this._superApply(arguments)},_GetConverter:function(){if(this.options.converter)return this._superApply(arguments);var e=this._GetDefaultConverter();return this.option("converter",e,{_context:{writeback:!0,internalSet:!0}}),e},_isContainedInDateTimePicker:function(){return null!==this._datePickerComp},_isDatePickerInline:function(){return this._datePickerComp.inline},_NotifyDetached:function(){this._hide(this._ON_CLOSE_REASON_CLOSE),this._superApply(arguments)},_NotifyHidden:function(){this._hide(this._ON_CLOSE_REASON_CLOSE),this._superApply(arguments)},_generateHeader:function(){var e=this._EscapeXSS(this.getTranslatedString("cancelText")),t="<a role='button' href='#' class='oj-enabled oj-default oj-timepicker-cancel-button' aria-label='"+e+"'>"+e+"</a>",i=this._EscapeXSS(this.getTranslatedString("okText")),n="<a role='button' href='#' class='oj-enabled oj-default oj-timepicker-ok-button' aria-label='"+i+"'>"+i+"</a>",r="<div class='oj-timepicker-header"+(this.options.disabled?" oj-disabled ":" oj-enabled oj-default ")+"'>";return r+=t,r+=n,r+="</div>"},_generateFooter:function(e,t){var i="",n="<a role='button' href='#' class='oj-timepicker-now oj-priority-secondary oj-enabled'>"+this._EscapeXSS(this.getTranslatedString("currentTimeText"))+"</a>";if(e&&e.length>1){var r=0,a=[{index:e.indexOf("now"),content:t?n:""}];for(a.sort(function(e,t){return e.index-t.index});r<a.length&&a[r].index<0;)r+=1;for(;r<a.length;)i+=a[r].content,r+=1;i.length>0&&(i="<div class='oj-timepicker-footer'>"+i+"</div>")}return i},_getTimePositioning:function(e){let t=e.replace(/'[^']*'/g,"").replace(/[^hHkKma]*/g,"");t=t.replace(/(h|H|k|K)+/,"h").replace(/m+/,"m");const i=m.__getBundle(),n=d.OraI18nUtils.getLocaleElementsMainNodeKey(i).split("-")[0],r="ar"===n||"he"===n;let a,o={},s=0,l=t.length;for(s=0;s<l;s++)a=t.charAt(s),o[a]=s;return r&&(s=o.h,o.h=o.m,o.m=s),o},_getIsoDateLimit:function(e,t,i){var n=this._isContainedInDateTimePicker()?this._datePickerComp.widget.options[t]:this.options[t],r=(n=(n=n?d.IntlConverterUtils._minMaxIsoString(n,this._getValue()):n)?e.parse(n):n)?d.IntlConverterUtils._clearTime(n):null;return i&&r&&i.substring(0,i.indexOf("T"))!==r.substring(0,r.indexOf("T"))&&(n=null),n},_getIsoDateValue:function(e){var t=this._getValue();return t||((t=new Date).setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t=d.IntlConverterUtils.dateToLocalIso(t)),t=e.parse(t)},_getAmPmStrings:function(){var e=new _.IntlDateTimeConverter({pattern:"hh:a"}),t=e.format("2016-01-01T01:00:00").split(":"),i=e.format("2016-01-01T15:00:00").split(":");return[t[1],i[1]]},_getWheelPickerContent:function(e){return e?t(e.find(".oj-timepicker-content")[0]):null},_createWheelPickerDom:function(e){if(null!=this._wheelPicker){e||this._detachWheelHandler();var i=this._wheelPicker,n=this._getWheelPickerContent(i);this._destroyHammer(),e?t(".oj-timepicker-wheel-group",n).remove():n.empty();var r=this._GetConverter(),a=r.resolvedOptions(),o=t.extend({},a);"zulu"===o.isoStrFormat&&(o.isoStrFormat="offset",o=(r=new _.IntlDateTimeConverter(o)).resolvedOptions());var s,l=d.IntlConverterUtils,c=this._getValue(),u=new Date;c||(c=d.IntlConverterUtils.dateToLocalIso(u));try{c=r.parse(c),s=l._clearTime(c)}catch(e){f.info("The value of the InputTime element must be an ISOString, please use a valid ISOString"),c=d.IntlConverterUtils.dateToLocalIso(u),s=l._clearTime(c)}var h=this._getIsoDateLimit(r,"min",s),p=this._getIsoDateLimit(r,"max",s),m=this.options.timePicker.footerLayout,v=new U(null);this._timePickerModel=v;var g=["","","",""],y=a.pattern||a.patternFromOptions;if(void 0===y){let e=new _.IntlDateTimeConverter(a).resolvedOptions();y=e.pattern||e.patternFromOptions,f.warning("time component's converter.resolvedOptions has no pattern or patternFromOptions\n        property. The most likely cause is the component's converter does not\n        override the resolvedOptions method like it should.")}for(var D=this._getTimePositioning(y),k=Object.keys(D),E=0;E<k.length;E++){var I=k[E];g[D[I]]=I}v.wheelOrder=g.filter(function(e){return!!e}).join(""),v.format=y,v.ampmStrings=this._getAmPmStrings();var S=this.options.timePicker.timeIncrement;if(S){var b=K(S);v.increment=60*b.hourIncr+b.minuteIncr}try{v.isoValue=this._getIsoDateValue(r)}catch(e){var O=t.oj.ojInputTime.prototype.options.converter;v.isoValue=O.parse(c),f.info("The value of the InputTime element must be an ISOString, please use a valid ISOString")}h&&(v.isoMin=h),p&&(v.isoMax=p),!this._isIndependentInput()||e&&0!==t(".oj-timepicker-header",n).length||n.append(t(this._generateHeader(i))),this._wheelGroup=t(W(v)),this._isIndependentInput()?this._wheelGroup.insertAfter(t(".oj-timepicker-header",n)):n.append(this._wheelGroup),e&&0!==t(".oj-timepicker-footer",n).length||n.append(t(this._generateFooter(m,u))),n.find(".oj-timepicker-hour").attr("aria-label",this.getTranslatedString("hourWheelLabel")),n.find(".oj-timepicker-minute").attr("aria-label",this.getTranslatedString("minuteWheelLabel")),n.find(".oj-timepicker-meridian").attr("aria-label",this.getTranslatedString("ampmWheelLabel")),e||this._attachWheelHandler()}},_detachWheelHandler:function(){this._wheelPicker.find(".oj-timepicker-now").off("click"),this._isIndependentInput()?(this._wheelPicker.find(".oj-timepicker-cancel-button").off("click"),this._wheelPicker.find(".oj-timepicker-ok-button").off("click"),this._wheelPicker.off("keydown")):this._wheelPicker.find(".oj-timepicker-wheel").off("blur")},_attachWheelHandler:function(){var e=this;if(this._wheelPicker.find(".oj-timepicker-now").on("click",function(t){var i,n=new Date,r=e._GetConverter(),a=r.resolvedOptions();i=void 0!==a.timeZone&&"local"!==a.isoStrFormat?n.toISOString():d.IntlConverterUtils.dateToLocalIso(n),i=r.parse(i),e._timePickerModel.isoValue=i,e._isIndependentInput()||e._SetValue(e._timePickerModel.isoValue,t),t.preventDefault()}),!this._isIndependentInput())return this._wheelPicker.find(".oj-timepicker-wheel").on("blur",function(t){e._SetValue(e._timePickerModel.isoValue,t)}),this._datePickerComp.widget._togglePicker(),void this._wheelGroup.children().first().focus();this._wheelPicker.find(".oj-timepicker-cancel-button").on("click",function(t){t.preventDefault(),e._hide(e._ON_CLOSE_REASON_CANCELLED)}),this._wheelPicker.find(".oj-timepicker-ok-button").on("click",function(t){e._hide(e._ON_CLOSE_REASON_SELECTION),e._SetValue(e._timePickerModel.isoValue,t),t.preventDefault()}),this._wheelPicker.on("keydown",function(i){i.keyCode===t.ui.keyCode.ESCAPE&&(i.preventDefault(),e._hide(e._ON_CLOSE_REASON_CANCELLED))})},_isTimePickerSupported:function(){return"enabled"===X||"disabled"===X&&"others"!==l.Config.getDeviceRenderMode()},_showWheelPicker:function(){this._createWheelPickerDom();var e=this._popUpWheelPicker;if(e)if(T){var t=l.PositionUtils.normalizeHorizontalAlignment({my:"start top",at:"start bottom",of:this.element,collision:"flipfit"},this._IsRTL());e.ojPopup("open",this.element[0].parentNode.parentNode,t)}else e.ojPopup("open",this.element[0].parentNode.parentNode,{my:{horizontal:"center",vertical:"bottom"},at:{horizontal:"center",vertical:"bottom"},of:window,collision:"flipfit"}),this._wheelGroup.children().first().focus()},getNodeBySubId:function(e){var i=null,n=e&&e.subId,r=this._wheelPicker,a=this._getWheelPickerContent(r);if(n)switch(n){case"oj-inputdatetime-time-icon":i=t(".oj-inputdatetime-time-icon",this._triggerNode)[0];break;case"oj-inputdatetime-time-input":i=this.element[0];break;case"oj-timepicker-content":i=a?a[0]:null;break;case"oj-timepicker-cancel-button":i=t(".oj-timepicker-cancel-button",r)[0];break;case"oj-timepicker-ok-button":i=t(".oj-timepicker-ok-button",r)[0];break;case"oj-timepicker-hour":i=t(".oj-timepicker-hour",r)[0];break;case"oj-timepicker-minute":i=t(".oj-timepicker-minute",r)[0];break;case"oj-timepicker-meridian":i=t(".oj-timepicker-meridian",r)[0];break;case"oj-timepicker-now":i=t(".oj-timepicker-now",r)[0];break;default:i=null}return i||this._superApply(arguments)},getSubIdByNode:function(e){var i=t(".oj-inputdatetime-time-icon",this._triggerNode),n=null,r=this._wheelPicker,a=this._getWheelPickerContent(r),o=[{selector:".oj-timepicker-cancel-button",ele:r},{selector:".oj-timepicker-ok-button",ele:r},{selector:".oj-timepicker-hour",ele:r},{selector:".oj-timepicker-minute",ele:r},{selector:".oj-timepicker-meridian",ele:r},{selector:".oj-timepicker-now",ele:r}];if(e===i[0])n="oj-inputdatetime-time-icon";else if(e===this.element[0])n="oj-inputdatetime-time-input";else if(a&&e===a[0])n="oj-timepicker-content";else for(var s=0;s<o.length;s++){var l=o[s],c=t(l.selector,l.ele);if(1===c.length&&c[0]===e){n=l.selector.substr(1);break}}return n||this._superApply(arguments)},widget:function(){return this._isIndependentInput()?this._super():this._datePickerComp.widget.widget()}}),u.setDefaultOptions({ojInputTime:{converter:u.createDynamicPropertyGetter(function(){return null==z&&(z=$()),z}),renderMode:u.createDynamicPropertyGetter(function(){return(v.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).renderMode}),keyboardEdit:u.createDynamicPropertyGetter(function(){return(v.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).keyboardEdit}),timePicker:u.createDynamicPropertyGetter(function(){return(v.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).timePicker})}});var J,Q=(v.parseJSONFromFontFamily("oj-inputdatetime-option-defaults")||{}).converterYear||"numeric";function ee(){const e=I.getDateTimePreferences();return e&&e.dateStyle&&e.dateStyle.short&&e.timeStyle&&e.timeStyle.short?new _.IntlDateTimeConverter({formatType:"datetime",dateFormat:"short",timeFormat:"short"}):new _.IntlDateTimeConverter({day:"2-digit",month:"2-digit",year:Q,hour:"2-digit",minute:"2-digit"})}l.__registerWidget("oj.ojInputDateTime",t.oj.ojInputDate,{widgetEventPrefix:"oj",_WIDGET_CLASS_NAMES:"oj-inputdatetime-date-time oj-component oj-inputdatetime",_INPUT_HELPER_KEY:"inputHelpBoth",_TRIGGER_CALENDAR_CLASS:"oj-inputdatetime-calendar-clock-icon",options:{converter:void 0,rawValue:void 0,renderMode:"jet",timePicker:{footerLayout:"",timeIncrement:"00:05:00:00",showOn:"focus"}},_GetDefaultConverter:function(){return null==this._dateTimeDefaultConverter&&(this._dateTimeDefaultConverter=ee()),this._dateTimeDefaultConverter},_CreateConverters:function(){this._super();var e=function(e){var t,i=[];return(t=this._createTimePickerConverter(e))instanceof Promise&&(this._timeConverterPromise=t,i.push(t)),i.length?Promise.all(i):null}.bind(this),t=this._GetConverter();t instanceof Promise?(this._resolveDateTimeConverterBusyState=this._SetConverterBusyState("datetime"),this._dateTimeConverterPromise=e(t)):e(t)},_InitBase:function(){this._super(),this._timePickerElement=this.element,this._timePicker=null,this._previousValue=null,this._switcherDiv=null,this._switcherPrevValue=null,this._switcherPrevDay=null,this._switcherPrevMonth=null,this._switcherPrevYear=null,this._switcherDateValue=null,this._switcherTimeValue=null,this._dateTimeSwitcherActive=null,this._isInLine||!0!==this.options.readOnly&&this._createSwitcherDiv()},_UseReadonlyDiv:function(){return!this._isInLine&&this._superApply(arguments)},_createSwitcherDiv:function(){this._switcherDiv=t(this._generateSwitcher()),this._popUpDpDiv.ojPopup("widget")[0].querySelector(".oj-popup-content").appendChild(this._switcherDiv[0]);var e=this;this._popUpDpDiv.on("ojclose",function(){null===e._switcherDateValue&&null===e._switcherTimeValue||(e._currentDay=e._switcherPrevDay,e._currentMonth=e._switcherPrevMonth,e._drawMonth=e._currentMonth,e._currentYear=e._switcherPrevYear,e._drawYear=e._currentYear,e._SetValue(e._switcherPrevValue),e._switcherTimeValue=null,e._switcherDateValue=null,e._switcherPrevDay=null,e._switcherPrevMonth=null,e._switcherPrevYear=null,e._switcherPrevValue=null)}),this._switcherDiv.find("[data-handler]").map(function(){var i={switchMe:function(i){var n=i.keyCode;if("keydown"===i.type&&(t.ui.keyCode.ENTER===n||t.ui.keyCode.SPACE===n)||"click"===i.type)return e._isShowingDatePickerSwitcher()?(e.show(),e._placeFocusOnCalendar()):e._timePicker.ojInputTime("show"),!1},switchDone:function(i){var n=i.keyCode;if("keydown"===i.type&&(t.ui.keyCode.ENTER===n||t.ui.keyCode.SPACE===n)||"click"===i.type){var r;if(e._switcherDateValue)r=e._switcherDateValue;else{var a=e._GetConverter().format(e._getDateIso());r=e._GetConverter().parse(a)}e._switcherTimeValue&&(r=d.IntlConverterUtils._copyTimeOver(e._switcherTimeValue,r)),e._switcherPrevValue&&r&&!e._switcherTimeValue&&(r=d.IntlConverterUtils._copyTimeOver(e._switcherPrevValue,r));var o=e._GetConverter().format(r);return e._SetDisplayValue(o),e._SetValue(o,{}),e._switcherTimeValue=null,e._switcherDateValue=null,e._switcherPrevDay=null,e._switcherPrevMonth=null,e._switcherPrevYear=null,e._switcherPrevValue=null,e._hide(e._ON_CLOSE_REASON_SELECTION),!1}},switchCancel:function(i){var n=i.keyCode;if("keydown"===i.type&&(t.ui.keyCode.ENTER===n||t.ui.keyCode.SPACE===n)||"click"===i.type)return e._hide(e._ON_CLOSE_REASON_CANCELLED),!1}};t(this).bind(this.getAttribute("data-event"),i[this.getAttribute("data-handler")])})},_setupSwitcherButtons:function(){var e=this._switcherDiv.find("a");this._AddHoverable(e),this._AddActiveable(e)},_ComponentCreate:function(){var e=this._super();if(this._isInLine){var i=this.getTranslatedString("time");var n=t(`<input type='text' aria-label=${i}>`);n.insertAfter(this.element),this._timePickerElement=n}else!0!==this.options.readOnly&&this._setupSwitcherButtons();return e},_createTimePicker:function(){for(var e=["title","placeholder","disabled","required","readOnly","keyboardEdit","pickerAttributes","renderMode"],i={},n=0,r=e.length;n<r;n++)i[e[n]]=this.options[e[n]];var a=this._isInLine?this.options.displayOptions.messages:"none",o=this.options.timePicker;if(this._GetConverter()instanceof Promise)this._timePicker=this._timePickerElement.ojInputTime(t.extend(i,{converter:this._timeConverter||this._timeConverterPromise,userAssistanceDensity:"compact",displayOptions:{converterHint:"none",title:"none",messages:a},value:this.options.value,timePicker:o,datePickerComp:{widget:this,inline:this._isInLine}}));else{var s=this._formatValueWithTimeConverter(this.options.value);this._timePicker=this._timePickerElement.ojInputTime(t.extend(i,{converter:this._timeConverter,userAssistanceDensity:"compact",displayOptions:{converterHint:"none",title:"none",messages:a},value:s,timePicker:o,datePickerComp:{widget:this,inline:this._isInLine}}))}},_AfterCreate:function(){var e=this._superApply(arguments);return this._createTimePicker(),this._dateTimeSwitcherActive=!G(this)&&this._timePicker&&!this._isInLine,e},_AfterCreateConverterCached:function(){var e=this._super(),t=function(){if(this._resolveDateTimeConverterBusyState&&(this._resolveDateTimeConverterBusyState(),delete this._resolveDateTimeConverterBusyState),null===this._timeConverter)throw new Error("Please use ojInputDate if your converter doesn't specify a time format.")}.bind(this);if(this._dateTimeConverterPromise){var i=this;this._dateTimeConverterPromise.then(function(){t(),delete i._dateTimeConverterPromise})}else t();return e},_setOption:function(e,t,i){var n=this._superApply(arguments);switch(e){case"value":var r=this._formatValueWithTimeConverter(this.options.value);this._previousValue=r;break;case"readOnly":this._isInLine||t||null!=this._switcherDiv||(this._createSwitcherDiv(),this._setupSwitcherButtons(),this._createTimePicker())}if(this._timePicker){var a={disabled:!0,readOnly:!0,keyboardEdit:!0,value:!0};if(e in a)this._timePicker.ojInputTime("option",e,t);else if("timePicker"===e)this._timePicker.ojInputTime("option","timePicker.timeIncrement",t.timeIncrement);else if("converter"===e){var o=function(t){this._createTimePickerConverter(t),this._timePicker.ojInputTime("option",e,this._timeConverter)}.bind(this),s=t||this._GetDefaultConverter();s instanceof Promise?s.then(function(e){o(e)}):s&&o(s)}}return n},_ReleaseResources:function(){if(this._IsCustomElement()&&this._timePicker){const e=this._timePicker.ojInputTime("instance");e&&(e._ReleaseResources(),this._timePickerResourcesReleased=!0)}return this._super()},_SetupResources:function(){var e=this._superApply(arguments);if(this._IsCustomElement()&&this._timePickerResourcesReleased&&this._timePicker){const e=this._timePicker.ojInputTime("instance");e&&(e._SetupResources(),this._timePickerResourcesReleased=!1)}return e},_destroy:function(){return this._cleanUpDateTimeResources(),this._super()},_cleanUpDateTimeResources:function(){if(this._timePicker&&this._timePicker.ojInputTime("destroy"),this._isInLine)this._timePickerElement.remove();else if(this._switcherDiv){var e=this._switcherDiv.find("a");this._RemoveActiveable(e),this._RemoveHoverable(e),this._switcherDiv.remove()}},_formatValueWithTimeConverter:function(e){var t=e;try{this._getTimePickerConverter().format(e)}catch(e){f.info("The value of the InputDateTime element should be an ISOString, please use a valid ISOString"),t=this._getDefaultIsoDate()}return t},_GetCalendarTitle:function(){return this._EscapeXSS(this.getTranslatedString("tooltipCalendarTime"+(this.options.disabled?"Disabled":"")))},_generateSwitcher:function(){var e=document.createElement("div");e.className="oj-datetimepicker-switcher";var t=document.createElement("div");t.setAttribute("data-handler","switchMe"),t.setAttribute("data-event","click keydown");var i=document.createElement("div");return i.className="oj-inputdatetime-time-icon oj-clickable-icon-nocontext oj-component-icon oj-enabled oj-default",t.appendChild(i),(i=document.createElement("a")).addEventListener("click",e=>{e.preventDefault()}),i.setAttribute("href","#"),i.className="oj-enabled oj-datetimepicker-switcher-text",i.setAttribute("role","button"),t.appendChild(i),e.appendChild(t),(t=document.createElement("div")).className="oj-datetimepicker-switcher-buttons",(i=document.createElement("a")).addEventListener("click",e=>{e.preventDefault()}),i.setAttribute("href","#"),i.className="oj-enabled",i.setAttribute("data-handler","switchDone"),i.setAttribute("data-event","click keydown"),i.setAttribute("role","button"),i.textContent=this._EscapeXSS(this.getTranslatedString("done")),t.appendChild(i),(i=document.createElement("a")).addEventListener("click",e=>{e.preventDefault()}),i.setAttribute("href","#"),i.className="oj-enabled",i.setAttribute("data-handler","switchCancel"),i.setAttribute("data-event","click keydown"),i.setAttribute("role","button"),i.textContent=this._EscapeXSS(this.getTranslatedString("cancel")),t.appendChild(i),e.appendChild(t),e},_updateSwitcherText:function(){if(this._switcherDiv){B||(B=new _.IntlDateTimeConverter({day:"2-digit",month:"2-digit",year:Q}));var e="";if(this._isShowingDatePickerSwitcher())try{e=B.format(this._switcherDateValue||this._getDateIso())}catch(t){e=B.format(this._getDefaultIsoDate())}else{Z||(Z=new _.IntlDateTimeConverter({hour:"2-digit",minute:"2-digit"}));try{e=this._getTimePickerConverter().format(this._switcherTimeValue||this._getDateIso())}catch(t){e=Z.format(this._getDefaultIsoDate())}}t(".oj-datetimepicker-switcher-text",this._switcherDiv).text(e)}},_isShowingDatePickerSwitcher:function(){return!this._switcherDiv||0===t(".oj-inputdatetime-time-icon",this._switcherDiv).length},_togglePicker:function(){var e,i,n,r,a,o=this._switcherDiv,s=!this._isShowingDatePickerSwitcher();s?(r="oj-inputdatetime-calendar-icon",n="oj-inputdatetime-time-icon",a="Set Date"):(r="oj-inputdatetime-time-icon",n="oj-inputdatetime-calendar-icon",a="Set Time");var l=t(o.children()[0]).children();t(l[0]).removeClass(n).addClass(r),t(l[1]).text(a),(l=t(".oj-popup-content",this._popUpDpDiv.ojPopup("widget")).children())[0].classList.contains("oj-datepicker-popup")?(e=t(l[0]),i=t(l[1])):(e=t(l[1]),i=t(l[0])),s?(e.css("display","none"),i.css("display","block")):(i.css("display","none"),e.css("display","block")),this._updateSwitcherText()},_createTimePickerConverter:function(e){var t=this,i=function(e){return t._timeConverter=q(e),t._timeConverter};return e instanceof Promise?e.then(function(e){return i(e)}):i(e)},_getTimePickerConverter:function(){return this._timeConverter},timeSelected:function(e,t){if(this._dateTimeSwitcherActive)this._switcherTimeValue=e;else{var i=this._GetConverter().format(e);this._SetDisplayValue(i),this._SetValue(i,t)}},getValueForInputTime:function(){var e=null;if(this.isValid())e=this.options.value;else if(this._previousValue)try{e=this._GetConverter().parse(this._previousValue)}catch(t){e=this.options.value}else e=null;return this._isDateTimeSwitcher()&&(e=this._switcherDateValue||e,this._switcherTimeValue&&e&&(e=d.IntlConverterUtils._copyTimeOver(this._switcherTimeValue,e))),e},_SetValue:function(e,t,i){var n=this._superApply(arguments);return this._previousValue=e,n},_SetDisplayValue:function(e){if(this._isInLine){var t=!(this._isInLine&&!this._dpDiv[0].contains(document.activeElement));this._updateDatepicker(t)}else this._superApply(arguments),this._updateSwitcherText();this._switcherTimeValue=null},_onKeyDownHandler:function(e){var i=t.ui.keyCode,n=!1;switch(e.keyCode){case i.UP:case i.DOWN:e.shiftKey&&(this._SetValue(this._GetDisplayValue(),e),this._timePicker.ojInputTime("show"),n=!0)}return n?(e.preventDefault(),e.stopPropagation(),!1):this._superApply(arguments)},show:function(){return this._isShowingDatePickerSwitcher()&&this._togglePicker(),this._super()},_ShowNativeDatePicker:function(e){e.mode="datetime";var t=K(this.options.timePicker.timeIncrement);return e.minuteInterval=0===t.hourIncr?t.minuteIncr:1,this._super(e)},_OnDatePicked:function(e){if(this._nativePickerShowing=!1,e){var t;t=this._validateDatetime(this._getDateIso(),{month:e.getMonth(),date:e.getDate(),fullYear:e.getFullYear(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()});var i=this._GetConverter().format(t);this._SetValue(i,{})}this._onClose(this._ON_CLOSE_REASON_SELECTION)},_ShowHTMLDatePicker:function(){var e=this._superApply(arguments);return this._updateSwitcherText(),e},showTimePicker:function(){this._datepickerShowing()||this.show(),this._isShowingDatePickerSwitcher()||this._timePicker.ojInputTime("show")},hideTimePicker:function(){return this.hide()},refresh:function(){var e=this._superApply(arguments)||this;return this._timePicker&&this._timePicker.ojInputTime("refresh"),this._switcherDiv&&(t("a[data-handler='switchDone']",this._switcherDiv).text(this.getTranslatedString("done")),t("a[data-handler='switchCancel']",this._switcherDiv).text(this.getTranslatedString("cancel"))),e},getNodeBySubId:function(e){var i=e&&e.subId,n=null;return i&&(n="oj-inputdatetime-date-input"===i?this._isInLine?this._timePickerElement[0]:this.element[0]:"oj-inputdatetime-calendar-clock-icon"===i?t(".oj-inputdatetime-calendar-clock-icon",this._triggerNode)[0]:this._timePicker?this._timePicker.ojInputTime("getNodeBySubId",e):null),n||this._superApply(arguments)},getSubIdByNode:function(e){var i=null;return this._isInLine?e===this._timePickerElement[0]&&(i="oj-inputdatetime-date-input"):e===this.element[0]?i="oj-inputdatetime-date-input":e===t(".oj-inputdatetime-calendar-clock-icon",this._triggerNode)[0]&&(i="oj-inputdatetime-calendar-clock-icon"),i||(this._timePicker?this._timePicker.ojInputTime("getSubIdByNode",e):null)||this._superApply(arguments)},_GetConverter:function(){if(this.options.converter)return this._superApply(arguments);var e=this._GetDefaultConverter();return this.option("converter",e,{_context:{writeback:!0,internalSet:!0}}),e},_NotifyDetached:function(){this._timePicker&&this.hideTimePicker(),this._superApply(arguments)},_NotifyHidden:function(){this._timePicker&&this.hideTimePicker(),this._superApply(arguments)},_GetMessagingLauncherElement:function(){return this._isInLine?this._timePickerElement:this._super()},_GetDefaultStyleClass:function(){return"oj-inputdatetime"},_SetLoading:function(){this._super(),this._timePicker&&this._timePicker.ojInputTime("option","readOnly",!0)},_ClearLoading:function(){this._super(),this._timePicker&&this._timePicker.ojInputTime("option","readOnly",this.options.readOnly)},_GetTranslationsSectionName:function(){return"oj-ojInputDate"}}),u.setDefaultOptions({ojInputDateTime:{converter:u.createDynamicPropertyGetter(function(){return null==J&&(J=ee()),J})}})}),define("ojs/ojvalidationfactory-datetime",["ojs/ojcore","ojs/ojvalidationfactory-base","ojs/ojconverter-datetime","ojs/ojvalidator-datetimerange","ojs/ojvalidator-daterestriction"],function(e,t,i,n,r){"use strict";var a={createConverter:function(e){return function(e){return new i.IntlDateTimeConverter(e)}(e)}};t.Validation.__registerDefaultConverterFactory(t.ConverterFactory.CONVERTER_TYPE_DATETIME,a);var o={createValidator:function(e){return function(e){return new n(e)}(e)}};t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_DATETIMERANGE,o);var s={createValidator:function(e){return function(e){return new r(e)}(e)}};t.Validation.__registerDefaultValidatorFactory(t.ValidatorFactory.VALIDATOR_TYPE_DATERESTRICTION,s);var l={};return l.DateTimeConverterFactory=a,l.DateTimeRangeValidatorFactory=o,l.DateRestrictionValidatorFactory=s,l}),define("ojs/ojvalidation-datetime",["ojs/ojcore","jquery","ojs/ojconfig","ojs/ojtranslation","ojL10n!ojtranslations/nls/localeElements","ojs/ojlocaledata","ojs/ojvalidation-base","ojs/ojlogger","ojs/ojvalidator-datetimerange","ojs/ojvalidator-daterestriction","ojs/ojconverter-datetime","ojs/ojvalidationfactory-datetime"],function(e,t,i,n,r,a,o,s,l,c,u,d){"use strict";e.DateTimeRangeValidator=l,e.DateRestrictionValidator=c,e.DateTimeConverter=u.DateTimeConverter,e.IntlDateTimeConverter=u.IntlDateTimeConverter,e.DateTimeConverterFactory=d.DateTimeConverterFactory,e.DateTimeRangeValidatorFactory=d.DateTimeRangeValidatorFactory,e.DateRestrictionValidatorFactory=d.DateRestrictionValidatorFactory;var h={};return h.DateRestrictionValidator=e.DateRestrictionValidator,h.DateTimeConverter=e.DateTimeConverter,h.DateTimeRangeValidator=e.DateTimeRangeValidator,h.IntlDateTimeConverter=e.IntlDateTimeConverter,h}),define("ojs/ojasyncvalidator-daterestriction",["require","ojs/ojasyncvalidator-adapter"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
return class extends t{constructor(e){super(e),this.options=e}get hint(){return super._GetHint()}_InitLoadingPromise(){this._loadingPromise||(this._loadingPromise=new Promise(function(t,i){e(["ojs/ojvalidator-daterestriction"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t}(e))},i)}))}}}),define("ojs/ojasyncvalidator-datetimerange",["require","ojs/ojasyncvalidator-adapter"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
return class extends t{constructor(e){super(e),this.options=e}get hint(){return super._GetHint()}_InitLoadingPromise(){this._loadingPromise||(this._loadingPromise=new Promise(function(t,i){e(["ojs/ojvalidator-datetimerange"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),t.default=e,t}(e))},i)}))}}}),define("bundles/ojdatetimebundle",function(){});
//# sourceMappingURL=ojdatetimebundle.js.map