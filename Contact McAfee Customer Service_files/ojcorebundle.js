/**
 * @license
 * Copyright (c) 2014, 2023, Oracle and/or its affiliates.
 * Licensed under The Universal Permissive License (UPL), Version 1.0
 * as shown at https://oss.oracle.com/licenses/upl/
 * @ignore
 */
!function(){"use strict";var e=/(^.*(^|\/)nls(\/|$))([^/]*)\/?([^/]*)/;function t(e,t,n,r,i,o,s){if(t[e]||(e=e.replace(/^zh-(Hans|Hant)-([^-]+)$/,"zh-$2")),t[e]){if(n.push(e),!0===t[e]||1===t[e]){var a=s?s+e:e;r.push(i+a+"/"+o)}return!0}return!1}function n(e){return"object"==typeof e}function r(e,t){for(var i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];null==e[s]?e[s]=t[s]:n(t[s])&&n(e[s])&&r(e[s],t[s])}}define("ojL10n",["module"],function(n){var i=n.config?n.config():{};return{version:"2.0.1+",load:function(n,o,s,a){var l;(a=a||{}).locale&&(i.locale=a.locale);var u,c,d,h,p,f,_,m,g,v,y,E=e.exec(n),b=E[1],T=E[5],S=[],C={},P="";E[5]?(l=(b=E[1])+T,u=E[4]):(l=n,T=E[4],u=i.locale,"undefined"!=typeof document?(u||(u=a.isBuild?"root":document.documentElement.lang)||(u=void 0===navigator?"root":navigator.systemLanguage||navigator.language||navigator.userLanguage||"root"),i.locale=u):u="root"),c=function(e){var t,n=e.toLowerCase().split(/-|_/),r=[n[0]],i=1;for(t=1;t<n.length;t++){var o=n[t],s=o.length;if(1===s)break;switch(i){case 1:if(i=2,4===s){r.push(o.charAt(0).toUpperCase()+o.slice(1));break}case 2:i=3,r.push(o.toUpperCase());break;default:r.push(o)}}return function(e){if("zh"!==e[0]||e.length>1&&4===e[1].length)return;var t="Hans",n=e.length>1?e[1]:null;"TW"!==n&&"MO"!==n&&"HK"!==n||(t="Hant");e.splice(1,0,t)}(r),r}(u),h=i.noOverlay,p=i.defaultNoOverlayLocale;var O=i.localePrefix;for((g=i.merge)&&(f=g[b+T])&&(E=e.exec(f),_=E[1],m=E[4]),v=[],d=0;d<c.length;d++)P+=(P?"-":"")+c[d],v.push(P);a.isBuild?(S.push(l),f&&S.push(f),o(S,function(){s()})):("query"===i.includeLocale&&(l=o.toUrl(l+".js"),l+=(-1===l.indexOf("?")?"?":"&")+"loc="+u),y=[l],f&&y.push(f),o(y,function(e,n){var i=[],a=function(e,n,r){for(var o=h||!0===e.__noOverlay,s=p||e.__defaultNoOverlayLocale,a=!1,l=v.length-1;l>=0&&(!a||!o);l--)a=t(v[l],e,i,S,n,r,O);var u=1===v.length&&"root"===v[0];o&&(u||!a)&&s&&t(s,e,i,S,n,r,O),u||t("root",e,i,S,n,r,O)};a(e,b,T);var l=i.length;n&&a(n,_,m),o(S,function(){var t=function(e,t,n,s,a){for(var l=t;l<n&&i[l];l++){var u=i[l],c=O?O+u:u,d=e[u];!0!==d&&1!==d||(d=o(s+c+"/"+a)),r(C,d||{})}};t(n,l,i.length,_,m),t(e,0,l,b,T),C._ojLocale_=c.join("-"),s(C)})}))}}})}(),define("ojtranslations/nls/ojtranslations",{root:{"oj-message":{fatal:"Fatal",error:"Error",warning:"Warning",info:"Info",confirmation:"Confirmation","compact-type-summary":"{0}: {1}"},"oj-converter":{summary:"Value is not in the expected format.",detail:"Enter a value in the expected format.","plural-separator":", ",hint:{summary:"Example: {exampleValue}",detail:"Enter a value in this format: '{exampleValue}'.","detail-plural":"Enter a value in these formats: '{exampleValue}'."},optionHint:{detail:"An accepted value for option '{propertyName}' is '{propertyValueValid}'.","detail-plural":"Accepted values for option '{propertyName}' are '{propertyValueValid}'."},optionTypesMismatch:{summary:"A value for the option '{requiredPropertyName}' is required when the option '{propertyName}' is set to '{propertyValue}'."},optionTypeInvalid:{summary:"A value of the expected type was not provided for option '{propertyName}'."},optionOutOfRange:{summary:"Value {propertyValue} is out of range for the option '{propertyName}'."},optionValueInvalid:{summary:"An invalid value '{propertyValue}' was specified for the option '{propertyName}'."},number:{decimalFormatMismatch:{summary:"The provided value is not in the expected number format."},shortLongUnsupportedParse:{summary:"'short' and 'long' are not supported for converter parsing.",detail:"Change component to readonly. readonly fields do not call the converter's parse function."},currencyFormatMismatch:{summary:"The provided value is not in the expected currency format."},percentFormatMismatch:{summary:"The provided value is not in the expected percent format."},invalidNumberFormat:{summary:"The provided value is not a valid number.",detail:"Please provide valid number."}},color:{invalidFormat:{summary:"Invalid color format.",detail:"Invalid color format option specification."},invalidSyntax:{summary:"Invalid color specification.",detail:"Enter a color value that conforms to the CSS3 standard."}},datetime:{datetimeOutOfRange:{summary:"Value '{value}' is out of range for the '{propertyName}'.",detail:"Enter a value between '{minValue}' and '{maxValue}'.",hour:"hour",minute:"minute",second:"second",millisec:"millisec",month:"month",day:"day",year:"year","month name":"month name",weekday:"weekday"},dateFormatMismatch:{summary:"The provided value is not in the expected date format."},invalidTimeZoneID:{summary:"Invalid timezone id {timeZoneID} provided."},nonExistingTime:{summary:"The input time does not exist because it falls during the transition to daylight saving time."},missingTimeZoneData:{summary:"TimeZone data is missing. Please call require 'ojs/ojtimezonedata' in order to load the TimeZone data."},timeFormatMismatch:{summary:"The provided value is not in the expected time format."},datetimeFormatMismatch:{summary:"The provided value is not in the expected date and time format."},dateToWeekdayMismatch:{summary:"Day '{date}' does not fall on a '{weekday}'.",detail:"Enter a weekday that corresponds with the date."},invalidISOString:{invalidRangeSummary:"The value '{value}' is out of range for the '{propertyName}' field in the ISO 8601 string '{isoStr}'.",summary:"The provided '{isoStr}' is not a valid ISO 8601 string.",detail:"Please provide valid ISO 8601 string."}}},"oj-validator":{length:{hint:{min:"Enter {min} or more characters.",max:"Enter {max} or fewer characters.",inRange:"Enter {min} to {max} characters.",exact:"Enter {length} characters."},messageDetail:{tooShort:"Enter {min} or more characters.",tooLong:"Enter no more than {max} characters."},messageSummary:{tooShort:"There are too few characters.",tooLong:"There are too many characters."}},range:{number:{hint:{min:"Enter a number greater than or equal to {min}.",max:"Enter a number less than or equal to {max}.",inRange:"Enter a number between {min} and {max}.",exact:"Enter the number {num}."},messageDetail:{rangeUnderflow:"Enter {min} or a higher number.",rangeOverflow:"Enter {max} or a lower number.",exact:"Enter the number {num}."},messageSummary:{rangeUnderflow:"The number is too low.",rangeOverflow:"The number is too high."}},datetime:{hint:{min:"Enter a date and time on or after {min}.",max:"Enter a date and time on or before {max}.",inRange:"Enter a date and time between {min} and {max}."},messageDetail:{rangeUnderflow:"Enter a date on or after {min}.",rangeOverflow:"Enter a date on or before {max}."},messageSummary:{rangeUnderflow:"Date and time is earlier than the minimum date and time.",rangeOverflow:"Date and time is later than the maximum date and time."}},date:{hint:{min:"Enter a date on or after {min}.",max:"Enter a date on or before {max}.",inRange:"Enter a date between {min} and {max}."},messageDetail:{rangeUnderflow:"Enter a date on or after {min}.",rangeOverflow:"Enter a date on or before {max}."},messageSummary:{rangeUnderflow:"Date is earlier than the minimum date.",rangeOverflow:"Date is later than the maximum date."}},time:{hint:{min:"Enter a time on or after {min}.",max:"Enter a time on or before {max}.",inRange:"Enter a time between {min} and {max}."},messageDetail:{rangeUnderflow:"Enter a time at or after {min}.",rangeOverflow:"Enter a time at or before {max}."},messageSummary:{rangeUnderflow:"Time is earlier than the minimum time.",rangeOverflow:"Time is later than the maximum time."}}},restriction:{date:{messageSummary:"Date {value} is of a disabled entry.",messageDetail:"The date you selected isn't available. Try another date."}},regExp:{summary:"Format is incorrect.",detail:"Enter allowable values described in this regular expression: '{pattern}'."},required:{summary:"Value is required.",detail:"Enter a value."}},"oj-ojEditableValue":{loading:"Loading",requiredText:"Required",helpSourceText:"Learn more..."},"oj-ojInputDate":{done:"Done",cancel:"Cancel",time:"Time",prevText:"Previous",nextText:"Next",currentText:"Today",weekHeader:"Wk",tooltipCalendar:"Select Date.",tooltipCalendarTime:"Select Date Time.",tooltipCalendarDisabled:"Select Date Disabled.",tooltipCalendarTimeDisabled:"Select Date Time Disabled.",picker:"Picker",weekText:"Week",datePicker:"Date Picker",inputHelp:"Press Key down or Key up for access to Calendar.",inputHelpBoth:"Press Key down or Key up for access to Calendar and Shift + Key down or Shift Key up for access to time drop down.",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},dateRestriction:{hint:"",messageSummary:"",messageDetail:""}},"oj-ojInputTime":{cancelText:"Cancel",okText:"OK",currentTimeText:"Now",hourWheelLabel:"Hour",minuteWheelLabel:"Minute",ampmWheelLabel:"AMPM",tooltipTime:"Select Time.",tooltipTimeDisabled:"Select Time Disabled.",inputHelp:"Press Key down or Key up for access to time drop down.",dateTimeRange:{hint:{min:"",max:"",inRange:""},messageDetail:{rangeUnderflow:"",rangeOverflow:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}}},"oj-inputBase":{required:{hint:"",messageSummary:"",messageDetail:""},regexp:{messageSummary:"",messageDetail:""},accessibleMaxLengthExceeded:"Maximum length {len} exceeded.",accessibleMaxLengthRemaining:"{chars} characters left."},"oj-ojInputPassword":{regexp:{messageDetail:"Value must match this pattern: '{pattern}'."},accessibleShowPassword:"Show password.",accessibleHidePassword:"Hide password."},"oj-ojFilmStrip":{labelAccFilmStrip:"Displaying page {pageIndex} of {pageCount}",labelAccArrowNextPage:"Select Next to display next page",labelAccArrowPreviousPage:"Select Previous to display previous page",tipArrowNextPage:"Next",tipArrowPreviousPage:"Previous"},"oj-ojDataGrid":{accessibleSortAscending:"{id} sorted in ascending order",accessibleSortDescending:"{id} sorted in descending order",accessibleSortable:"{id} sortable",accessibleActionableMode:"Enter actionable mode.",accessibleNavigationMode:"Enter navigation mode, press F2 to enter edit or actionable mode.",accessibleEditableMode:"Enter editable mode, press escape to navigate outside the data grid.",accessibleSummaryExact:"This is a data grid with {rownum} rows and {colnum} columns",accessibleSummaryEstimate:"This is a data grid with unknown number of rows and columns",accessibleSummaryExpanded:"There are currently {num} rows expanded",accessibleRowExpanded:"Row expanded",accessibleExpanded:"Expanded",accessibleRowCollapsed:"Row collapsed",accessibleCollapsed:"Collapsed",accessibleRowSelected:"Row {row} selected",accessibleColumnSelected:"Column {column} selected",accessibleStateSelected:"selected",accessibleMultiCellSelected:"{num} cells selected",accessibleColumnSpanContext:"{extent} wide",accessibleRowSpanContext:"{extent} high",accessibleRowContext:"Row {index}",accessibleColumnContext:"Column {index}",accessibleRowHeaderContext:"Row Header {index}",accessibleColumnHeaderContext:"Column Header {index}",accessibleRowEndHeaderContext:"Row End Header {index}",accessibleColumnEndHeaderContext:"Column End Header {index}",accessibleRowHeaderLabelContext:"Row Header Label {level}",accessibleColumnHeaderLabelContext:"Column Header Label {level}",accessibleRowEndHeaderLabelContext:"Row End Header Label {level}",accessibleColumnEndHeaderLabelContext:"Column End Header Label {level}",accessibleLevelContext:"Level {level}",accessibleRangeSelectModeOn:"Add selected range of cells mode on.",accessibleRangeSelectModeOff:"Add selected range of cells mode off.",accessibleFirstRow:"You have reached the first row.",accessibleLastRow:"You have reached the last row.",accessibleFirstColumn:"You have reached the first column",accessibleLastColumn:"You have reached the last column.",accessibleSelectionAffordanceTop:"Top selection handle.",accessibleSelectionAffordanceBottom:"Bottom selection handle.",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",labelResize:"Resize",labelResizeWidth:"Resize Width",labelResizeHeight:"Resize Height",labelSortAsc:"Sort Ascending",labelSortDsc:"Sort Descending",labelSortRow:"Sort Row",labelSortRowAsc:"Sort Row Ascending",labelSortRowDsc:"Sort Row Descending",labelSortCol:"Sort Column",labelSortColAsc:"Sort Column Ascending",labelSortColDsc:"Sort Column Descending",labelCut:"Cut",labelPaste:"Paste",labelCutCells:"Cut",labelPasteCells:"Paste",labelCopyCells:"Copy",labelAutoFill:"Autofill",labelEnableNonContiguous:"Enable Non-Contiguous Selection",labelDisableNonContiguous:"Disable Non-Contiguous Selection",labelResizeDialogSubmit:"OK",labelResizeDialogCancel:"Cancel",accessibleContainsControls:"Contains Controls",labelSelectMultiple:"Select Multiple Cells",labelResizeDialogApply:"Apply",labelResizeFitToContent:"Resize to Fit",columnWidth:"Width in Pixels",rowHeight:"Height in Pixels",labelResizeColumn:"Resize Column",labelResizeRow:"Resize Row",resizeColumnDialog:"Resize column",resizeRowDialog:"Resize row",collapsedText:"Collapse",expandedText:"Expand",tooltipRequired:"Required"},"oj-ojRowExpander":{accessibleLevelDescription:"Level {level}",accessibleRowDescription:"Level {level}, Row {num} of {total}",accessibleRowExpanded:"Row expanded",accessibleRowCollapsed:"Row collapsed",accessibleStateExpanded:"expanded",accessibleStateCollapsed:"collapsed"},"oj-ojStreamList":{msgFetchingData:"Fetching Data..."},"oj-ojListView":{msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",msgItemsAppended:"{count} items appended to the end.",msgFetchCompleted:"All items are fetched.",indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z",accessibleReorderTouchInstructionText:"Double tap and hold.  Wait for the sound then drag to rearrange.",accessibleReorderBeforeItem:"Before {item}",accessibleReorderAfterItem:"After {item}",accessibleReorderInsideItem:"Into {item}",accessibleNavigateSkipItems:"Skipping {numSkip} items",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-ojWaterfallLayout":{msgFetchingData:"Fetching Data..."},"oj-_ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojLabel":{tooltipHelp:"Help",tooltipRequired:"Required"},"oj-ojInputNumber":{required:{hint:"",messageSummary:"",messageDetail:""},numberRange:{hint:{min:"",max:"",inRange:"",exact:""},messageDetail:{rangeUnderflow:"",rangeOverflow:"",exact:""},messageSummary:{rangeUnderflow:"",rangeOverflow:""}},tooltipDecrement:"Decrement",tooltipIncrement:"Increment"},"oj-ojTable":{accessibleAddRow:"Enter data to add a new row.",accessibleColumnContext:"Column {index}",accessibleColumnFooterContext:"Column Footer {index}",accessibleColumnHeaderContext:"Column Header {index}",accessibleContainsControls:"Contains Controls",accessibleColumnsSpan:"Spans {count} Columns",accessibleRowContext:"Row {index}",accessibleSortable:"{id} sortable",accessibleSortAscending:"{id} sorted in ascending order",accessibleSortDescending:"{id} sorted in descending order",accessibleStateSelected:"selected",accessibleStateUnselected:"unselected",accessibleSummaryEstimate:"Table with {colnum} columns and more than {rownum} rows",accessibleSummaryExact:"Table with {colnum} columns and {rownum} rows",labelAccSelectionAffordanceTop:"Top selection handle",labelAccSelectionAffordanceBottom:"Bottom selection handle",labelEnableNonContiguousSelection:"Enable Non-Contiguous Selection",labelDisableNonContiguousSelection:"Disable Non-Contiguous Selection",labelResize:"Resize",labelResizeColumn:"Resize Column",labelResizePopupSubmit:"OK",labelResizePopupCancel:"Cancel",labelResizePopupSpinner:"Resize Column",labelResizeColumnDialog:"Resize column",labelColumnWidth:"Width in Pixels",labelResizeDialogApply:"Apply",labelSelectRow:"Select Row",labelSelectAllRows:"Select All Rows",labelEditRow:"Edit Row",labelSelectAndEditRow:"Select And Edit Row",labelSelectColumn:"Select Column",labelSort:"Sort",labelSortAsc:"Sort Ascending",labelSortDsc:"Sort Descending",msgFetchingData:"Fetching Data...",msgNoData:"No data to display.",msgInitializing:"Initializing...",msgColumnResizeWidthValidation:"Width value must be an integer.",msgScrollPolicyMaxCountSummary:"Exceeded maximum rows for table scrolling.",msgScrollPolicyMaxCountDetail:"Please reload with smaller data set.",msgStatusSortAscending:"{0} sorted in ascending order.",msgStatusSortDescending:"{0} sorted in descending order.",tooltipRequired:"Required"},"oj-ojTabs":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",labelReorder:"Reorder",removeCueText:"Removable"},"oj-ojCheckboxset":{readonlyNoValue:"",required:{hint:"",messageSummary:"",messageDetail:"Select a value."}},"oj-ojRadioset":{readonlyNoValue:"",required:{hint:"",messageSummary:"",messageDetail:"Select a value."}},"oj-ojSelect":{required:{hint:"",messageSummary:"",messageDetail:"Select a value."},searchField:"Search field",noMatchesFound:"No matches found",noMoreResults:"No more results",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found",filterFurther:"More results available, please filter further."},"oj-ojSwitch":{SwitchON:"On",SwitchOFF:"Off"},"oj-ojCombobox":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",noMoreResults:"No more results",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found",filterFurther:"More results available, please filter further."},"oj-ojSelectSingle":{required:{hint:"",messageSummary:"",messageDetail:"Select a value."},noMatchesFound:"No matches found",oneMatchFound:"One match found",multipleMatchesFound:"{num} matches found",nOrMoreMatchesFound:"{num} or more matches found",cancel:"Cancel",labelAccOpenDropdown:"expand",labelAccClearValue:"clear value",noResultsLine1:"No results found",noResultsLine2:"We can't find anything matching your search."},"oj-ojInputSearch2":{cancel:"Cancel",noSuggestionsFound:"No suggestions found"},"oj-ojInputSearch":{required:{hint:"",messageSummary:"",messageDetail:""},noMatchesFound:"No matches found",oneMatchesFound:"One match found",moreMatchesFound:"{num} matches found"},"oj-ojTreeView":{treeViewSelectorAria:"TreeView Selector {rowKey}",retrievingDataAria:"Retrieving data for node: {nodeText}",receivedDataAria:"Received data for node: {nodeText}"},"oj-ojTree":{stateLoading:"Loading...",labelNewNode:"New Node",labelMultiSelection:"Multiple Selection",labelEdit:"Edit",labelCreate:"Create",labelCut:"Cut",labelCopy:"Copy",labelPaste:"Paste",labelPasteAfter:"Paste After",labelPasteBefore:"Paste Before",labelRemove:"Remove",labelRename:"Rename",labelNoData:"No data"},"oj-ojPagingControl":{labelAccPaging:"Pagination",labelAccPageNumber:"Page {pageNum} content loaded",labelAccNavFirstPage:"First Page",labelAccNavLastPage:"Last Page",labelAccNavNextPage:"Next Page",labelAccNavPreviousPage:"Previous Page",labelAccNavPage:"Page",labelLoadMore:"Show More...",labelLoadMoreMaxRows:"Reached Maximum Limit of {maxRows} rows",labelNavInputPage:"Page",labelNavInputPageMax:"of {pageMax}",fullMsgItemRange:"{pageFrom}-{pageTo} of {pageMax} items",fullMsgItemRangeAtLeast:"{pageFrom}-{pageTo} of at least {pageMax} items",fullMsgItemRangeApprox:"{pageFrom}-{pageTo} of approx {pageMax} items",msgItemRangeNoTotal:"{pageFrom}-{pageTo} items",fullMsgItem:"{pageTo} of {pageMax} items",fullMsgItemAtLeast:"{pageTo} of at least {pageMax} items",fullMsgItemApprox:"{pageTo} of approx {pageMax} items",msgItemNoTotal:"{pageTo} items",msgItemRangeCurrent:"{pageFrom}-{pageTo}",msgItemRangeCurrentSingle:"{pageFrom}",msgItemRangeOf:"of",msgItemRangeOfAtLeast:"of at least",msgItemRangeOfApprox:"of approx.",msgItemRangeItems:"items",tipNavInputPage:"Go To Page",tipNavPageLink:"Go To Page {pageNum}",tipNavNextPage:"Next",tipNavPreviousPage:"Previous",tipNavFirstPage:"First",tipNavLastPage:"Last",pageInvalid:{summary:"The page value entered is invalid.",detail:"Please enter a value greater than 0."},maxPageLinksInvalid:{summary:"Value for maxPageLinks is invalid.",detail:"Please enter a value greater than 4."}},"oj-ojMasonryLayout":{labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After"},"oj-panel":{labelAccButtonExpand:"Expand",labelAccButtonCollapse:"Collapse",labelAccButtonRemove:"Remove",labelAccFlipForward:"Flip forward",labelAccFlipBack:"Flip back",tipDragToReorder:"Drag to reorder",labelAccDragToReorder:"Drag to reorder, context menu available"},"oj-ojChart":{labelDefaultGroupName:"Group {0}",labelSeries:"Series",labelGroup:"Group",labelDate:"Date",labelValue:"Value",labelTargetValue:"Target",labelX:"X",labelY:"Y",labelZ:"Z",labelPercentage:"Percentage",labelLow:"Low",labelHigh:"High",labelOpen:"Open",labelClose:"Close",labelVolume:"Volume",labelQ1:"Q1",labelQ2:"Q2",labelQ3:"Q3",labelMin:"Min",labelMax:"Max",labelOther:"Other",tooltipPan:"Pan",tooltipSelect:"Marquee select",tooltipZoom:"Marquee zoom",componentName:"Chart"},"oj-dvtBaseGauge":{componentName:"Gauge"},"oj-ojDiagram":{promotedLink:"{0} link",promotedLinks:"{0} links",promotedLinkAriaDesc:"Indirect",componentName:"Diagram"},"oj-ojGantt":{componentName:"Gantt",accessibleDurationDays:"{0} days",accessibleDurationHours:"{0} hours",accessibleTaskInfo:"Start time is {0}, end time is {1}, duration is {2}",accessibleMilestoneInfo:"Time is {0}",accessibleRowInfo:"Row {0}",accessibleTaskTypeMilestone:"Milestone",accessibleTaskTypeSummary:"Summary",accessiblePredecessorInfo:"{0} predecessors",accessibleSuccessorInfo:"{0} successors",accessibleDependencyInfo:"Dependency type {0}, connects {1} to {2}",startStartDependencyAriaDesc:"start to start",startFinishDependencyAriaDesc:"start to finish",finishStartDependencyAriaDesc:"finish to start",finishFinishDependencyAriaDesc:"finish to finish",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out",labelLevel:"Level",labelRow:"Row",labelStart:"Start",labelEnd:"End",labelDate:"Date",labelBaselineStart:"Baseline Start",labelBaselineEnd:"Baseline End",labelBaselineDate:"Baseline Date",labelDowntimeStart:"Downtime Start",labelDowntimeEnd:"Downtime End",labelOvertimeStart:"Overtime Start",labelOvertimeEnd:"Overtime End",labelAttribute:"Attribute",labelLabel:"Label",labelProgress:"Progress",labelMoveBy:"Move By",labelResizeBy:"Resize By",taskMoveInitiated:"Task move initiated",taskResizeEndInitiated:"Task resize end initiated",taskResizeStartInitiated:"Task resize start initiated",taskMoveSelectionInfo:"{0} others selected",taskResizeSelectionInfo:"{0} others selected",taskMoveInitiatedInstruction:"Use the arrow keys to move",taskResizeInitiatedInstruction:"Use the arrow keys to resize",taskMoveFinalized:"Task move finalized",taskResizeFinalized:"Task resize finalized",taskMoveCancelled:"Task move cancelled",taskResizeCancelled:"Task resize cancelled",taskResizeStartHandle:"Task resize start handle",taskResizeEndHandle:"Task resize end handle"},"oj-ojLegend":{componentName:"Legend",tooltipExpand:"Expand",tooltipCollapse:"Collapse"},"oj-ojNBox":{highlightedCount:"{0}/{1}",labelOther:"Other",labelGroup:"Group",labelSize:"Size",labelAdditionalData:"Additional Data",componentName:"{0} Box"},"oj-ojPictoChart":{componentName:"Picture Chart"},"oj-ojSparkChart":{componentName:"Chart"},"oj-ojSunburst":{labelColor:"Color",labelSize:"Size",tooltipExpand:"Expand",tooltipCollapse:"Collapse",componentName:"Sunburst"},"oj-ojTagCloud":{componentName:"Tag Cloud"},"oj-ojThematicMap":{componentName:"Thematic Map",areasRegion:"Areas",linksRegion:"Links",markersRegion:"Markers"},"oj-ojTimeAxis":{componentName:"Time Axis"},"oj-ojTimeline":{componentName:"Timeline",accessibleItemDesc:"Description is {0}.",accessibleItemEnd:"End time is {0}.",accessibleItemStart:"Start time is {0}.",accessibleItemTitle:"Title is {0}.",labelSeries:"Series",tooltipZoomIn:"Zoom In",tooltipZoomOut:"Zoom Out",labelStart:"Start",labelEnd:"End",labelAccNavNextPage:"Next Page",labelAccNavPreviousPage:"Previous Page",tipArrowNextPage:"Next",tipArrowPreviousPage:"Previous",navArrowDisabledState:"Disabled",labelDate:"Date",labelTitle:"Title",labelDescription:"Description",labelMoveBy:"Move By",labelResizeBy:"Resize By",itemMoveInitiated:"Item move initiated",itemResizeEndInitiated:"Item resize end initiated",itemResizeStartInitiated:"Item resize start initiated",itemMoveSelectionInfo:"{0} others selected",itemResizeSelectionInfo:"{0} others selected",itemMoveInitiatedInstruction:"Use the arrow keys to move",itemResizeInitiatedInstruction:"Use the arrow keys to resize",itemMoveFinalized:"Item move finalized",itemResizeFinalized:"Item resize finalized",itemMoveCancelled:"Item move cancelled",itemResizeCancelled:"Item resize cancelled",itemResizeStartHandle:"Item resize start handle",itemResizeEndHandle:"Item resize end handle"},"oj-ojTreemap":{labelColor:"Color",labelSize:"Size",tooltipIsolate:"Isolate",tooltipRestore:"Restore",componentName:"Treemap"},"oj-dvtBaseComponent":{labelScalingSuffixThousand:"K",labelScalingSuffixMillion:"M",labelScalingSuffixBillion:"B",labelScalingSuffixTrillion:"T",labelScalingSuffixQuadrillion:"Q",labelInvalidData:"Invalid data",labelNoData:"No data to display",labelClearSelection:"Clear Selection",labelDataVisualization:"Data Visualization",stateSelected:"Selected",stateUnselected:"Unselected",stateMaximized:"Maximized",stateMinimized:"Minimized",stateExpanded:"Expanded",stateCollapsed:"Collapsed",stateIsolated:"Isolated",stateHidden:"Hidden",stateVisible:"Visible",stateDrillable:"Drillable",labelAndValue:"{0}: {1}",labelCountWithTotal:"{0} of {1}",accessibleContainsControls:"Contains Controls"},"oj-ojNavigationList":{defaultRootLabel:"Navigation List",hierMenuBtnLabel:"Hierarchical Menu button",selectedLabel:"selected",previousIcon:"Previous",msgFetchingData:"Fetching Data...",msgNoData:"No items to display.",overflowItemLabel:"More",accessibleReorderTouchInstructionText:"Double tap and hold.  Wait for the sound then drag to rearrange.",accessibleReorderBeforeItem:"Before {item}",accessibleReorderAfterItem:"After {item}",labelCut:"Cut",labelPasteBefore:"Paste Before",labelPasteAfter:"Paste After",labelRemove:"Remove",removeCueText:"Removable"},"oj-ojSlider":{noValue:"ojSlider has no value",maxMin:"Max must not be less than or equal to min",startEnd:"value.start must not be greater than value.end",valueRange:"Value must be within min to max range",optionNum:"{option} option is not a number",invalidStep:"Invalid step; step must be > 0",lowerValueThumb:"lower value thumb",higherValueThumb:"higher value thumb"},"oj-ojDialog":{labelCloseIcon:"Close"},"oj-ojPopup":{ariaLiveRegionInitialFocusFirstFocusable:"Entering pop-up. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusNone:"Pop-up opened. Press F6 to navigate between the pop-up and associated control.",ariaLiveRegionInitialFocusFirstFocusableTouch:"Entering pop-up. Pop-up can be closed by navigating to the last link within the pop-up.",ariaLiveRegionInitialFocusNoneTouch:"Pop-up opened. Navigate to the next link to establish focus within the pop-up.",ariaFocusSkipLink:"Double tap to navigate to the open pop-up.",ariaCloseSkipLink:"Double tap to close the open pop-up."},"oj-ojRefresher":{ariaRefreshLink:"Activate link to refresh content",ariaRefreshingLink:"Refreshing content",ariaRefreshCompleteLink:"Refresh complete"},"oj-ojSwipeActions":{ariaShowStartActionsDescription:"Show start actions",ariaShowEndActionsDescription:"Show end actions",ariaHideActionsDescription:"Hide actions"},"oj-ojIndexer":{indexerCharacters:"A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z",indexerOthers:"#",ariaDisabledLabel:"No matching group header",ariaOthersLabel:"number",ariaInBetweenText:"Between {first} and {second}",ariaKeyboardInstructionText:"Press enter to select value.",ariaTouchInstructionText:"Double tap and hold to enter gesture mode, then drag up or down to adjust value."},"oj-ojMenu":{labelCancel:"Cancel",ariaFocusSkipLink:"Focus is within the menu, double tap or swipe to move focus to the first menu item."},"oj-ojColorSpectrum":{labelHue:"Hue",labelOpacity:"Opacity",labelSatLum:"Saturation/Luminance",labelThumbDesc:"Color spectrum four way slider."},"oj-ojColorPalette":{labelNone:"None"},"oj-ojColorPicker":{labelSwatches:"Swatches",labelCustomColors:"Custom Colors",labelPrevColor:"Previous Color",labelDefColor:"Default Color",labelDelete:"Delete",labelDeleteQ:"Delete?",labelAdd:"Add",labelAddColor:"Add color",labelMenuHex:"HEX",labelMenuRgba:"RGBa",labelMenuHsla:"HSLa",labelSliderHue:"Hue",labelSliderSaturation:"Saturation",labelSliderSat:"Sat",labelSliderLightness:"Lightness",labelSliderLum:"Luminosity",labelSliderAlpha:"Alpha",labelOpacity:"Opacity",labelSliderRed:"Red",labelSliderGreen:"Green",labelSliderBlue:"Blue"},"oj-ojFilePicker":{dropzoneText:"Drop files here or click to upload",singleFileUploadError:"Upload one file at a time.",singleFileTypeUploadError:"You can't upload files of type {fileType}.",multipleFileTypeUploadError:"You can't upload files of type: {fileTypes}.",dropzonePrimaryText:"Drag and Drop",secondaryDropzoneText:"Select a file or drop one here.",secondaryDropzoneTextMultiple:"Select or drop files here.",unknownFileType:"unknown"},"oj-ojProgressbar":{ariaIndeterminateProgressText:"In Progress"},"oj-ojMessage":{labelCloseIcon:"Close",categories:{error:"Error",warning:"Warning",info:"Information",confirmation:"Confirmation"}},"oj-ojSelector":{checkboxAriaLabel:"Checkbox Select {rowKey}",checkboxAriaLabelSelected:" selected",checkboxAriaLabelUnselected:" unselected"},"oj-ojMessages":{labelLandmark:"Messages",ariaLiveRegion:{navigationFromKeyboard:"Entering messages region. Press F6 to navigate back to prior focused element.",navigationToTouch:"Messages region has new messages. Use the voice-over rotor to navigate to the messages landmark.",navigationToKeyboard:"Messages region has new messages.  Press F6 to navigate to the most recent message region.",newMessage:"Message category {category}. {summary}. {detail}."}},"oj-ojMessageBanner":{close:"Close",navigationFromMessagesRegion:"Entering messages region. Press F6 to navigate back to prior focused element.",navigationToMessagesRegion:"Messages region has new messages. Press F6 to navigate to the most recent message region.",error:"Error",warning:"Warning",info:"Information",confirmation:"Confirmation"},"oj-ojConveyorBelt":{tipArrowNext:"Next",tipArrowPrevious:"Previous"}},ar:1,"ar-XB":1,bg:1,bs:1,"bs-Cyrl":1,cs:1,da:1,de:1,el:1,"en-XA":1,"en-XC":1,es:1,et:1,fi:1,fr:1,"fr-CA":1,he:1,hr:1,hu:1,is:1,it:1,ja:1,ko:1,lt:1,lv:1,ms:1,nl:1,no:1,pl:1,pseudo:1,pt:1,"pt-PT":1,ro:1,ru:1,sk:1,sl:1,sr:1,"sr-Latn":1,sv:1,th:1,tr:1,uk:1,vi:1,"zh-Hans":1,"zh-Hant":1}),define("ojs/ojlogger",["exports"],function(e){"use strict";const t={LEVEL_NONE:0,LEVEL_ERROR:1,LEVEL_WARN:2,LEVEL_INFO:3,LEVEL_LOG:4,_METHOD_ERROR:"error",_METHOD_WARN:"warn",_METHOD_INFO:"info",_METHOD_LOG:"log"};t._defaultOptions={level:t.LEVEL_ERROR,writer:null},t._options=t._defaultOptions,t.error=function(e,n){t._write(t.LEVEL_ERROR,t._METHOD_ERROR,arguments)},t.info=function(e,n){t._write(t.LEVEL_INFO,t._METHOD_INFO,arguments)},t.warn=function(e,n){t._write(t.LEVEL_WARN,t._METHOD_WARN,arguments)},t.log=function(e,n){t._write(t.LEVEL_LOG,t._METHOD_LOG,arguments)},t.option=function(e,n){var r,i,o={};if(0===arguments.length){for(i=Object.keys(t._options),r=0;r<i.length;r++)o[i[r]]=t._options[i[r]];return o}if("string"==typeof e&&void 0===n)return void 0===t._options[e]?null:t._options[e];if("string"==typeof e)t._options[e]=n;else{var s=e;for(i=Object.keys(s),r=0;r<i.length;r++)t.option(i[r],s[i[r]])}},t._write=function(e,n,r){if(!(t.option("level")<e)){var i=t._getWriter();if(null!=i){if(1===r.length&&r[0]instanceof Function){var o=r[0]();r=[o]}i[n]&&i[n].apply?i[n].apply(i,r):i[n]&&(i[n]=Function.prototype.bind.call(i[n],i),t._write(e,n,r))}}},t._getWriter=function(){var e=null;return t.option("writer")?e=t.option("writer"):"undefined"!=typeof window&&void 0!==window.console&&(e=window.console),e};const n=t.info,r=t.error,i=t.warn,o=t.log,s=t.option,a=t.LEVEL_ERROR,l=t.LEVEL_INFO,u=t.LEVEL_LOG,c=t.LEVEL_NONE,d=t.LEVEL_WARN;e.LEVEL_ERROR=a,e.LEVEL_INFO=l,e.LEVEL_LOG=u,e.LEVEL_NONE=c,e.LEVEL_WARN=d,e.error=r,e.info=n,e.log=o,e.option=s,e.warn=i,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojcore-base",["ojs/ojlogger"],function(e){"use strict";let t={};"undefined"!=typeof window?t=window:"undefined"!=typeof self&&(t=self);var n=t.oj;const r={version:"13.1.14",revision:"2023-05-08_11-10-20",noConflict:function(){t.oj=n},_registerLegacyNamespaceProp:function(e,t){this[e]=t}};t.oj=r;const i={};r._registerLegacyNamespaceProp("StringUtils",i),i._TRIM_ALL_RE=/^\s*|\s*$/g,i.isEmpty=function(e){return null===e||0===i.trim(e).length},i.isEmptyOrUndefined=function(e){return!(void 0!==e&&!i.isEmpty(e))},i.isString=function(e){return null!==e&&("string"==typeof e||e instanceof String)},i.trim=function(e){return i.isString(e)?e.replace(i._TRIM_ALL_RE,""):e},i.hashCode=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t};const o=function(){};r._registerLegacyNamespaceProp("AgentUtils",o),o.BROWSER={IE:"ie",FIREFOX:"firefox",SAFARI:"safari",CHROME:"chrome",EDGE:"edge",EDGE_CHROMIUM:"edge-chromium",UNKNOWN:"unknown"},o.ENGINE={TRIDENT:"trident",WEBKIT:"webkit",GECKO:"gecko",BLINK:"blink",EDGE_HTML:"edgehtml",UNKNOWN:"unknown"},o.OS={WINDOWS:"Windows",SOLARIS:"Solaris",MAC:"Mac",UNKNOWN:"Unknown",ANDROID:"Android",IOS:"IOS",WINDOWSPHONE:"WindowsPhone",LINUX:"Linux"},o.DEVICETYPE={PHONE:"phone",TABLET:"tablet",OTHERS:"others"},o.getAgentInfo=function(e){i.isEmptyOrUndefined(e)&&(e=navigator.userAgent),e=e.toLowerCase();var t=i.hashCode(e),n=o._currAgentInfo;if(n&&n.hashCode===t)return{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode};var r=o.OS.UNKNOWN,s=o.BROWSER.UNKNOWN,a=0,l=o.DEVICETYPE.OTHERS,u=o.ENGINE.UNKNOWN,c=0;return e.indexOf("iphone")>-1||e.indexOf("ipad")>-1||"MacIntel"===navigator.platform&&void 0!==navigator.standalone?r=o.OS.IOS:e.indexOf("mac")>-1?r=o.OS.MAC:e.indexOf("sunos")>-1?r=o.OS.SOLARIS:e.indexOf("android")>-1?r=o.OS.ANDROID:e.indexOf("linux")>-1?r=o.OS.LINUX:e.indexOf("windows phone")>-1?r=o.OS.WINDOWSPHONE:e.indexOf("win")>-1&&(r=o.OS.WINDOWS),r===o.OS.ANDROID?l=e.indexOf("mobile")>-1?o.DEVICETYPE.PHONE:o.DEVICETYPE.TABLET:r===o.OS.IOS&&(l=e.indexOf("iphone")>-1?o.DEVICETYPE.PHONE:o.DEVICETYPE.TABLET),e.indexOf("msie")>-1?(s=o.BROWSER.IE,a=o._parseFloatVersion(e,/msie (\d+[.]\d+)/),e.indexOf("trident")&&(u=o.ENGINE.TRIDENT,c=o._parseFloatVersion(e,/trident\/(\d+[.]\d+)/))):e.indexOf("trident")>-1?(s=o.BROWSER.IE,a=o._parseFloatVersion(e,/rv:(\d+[.]\d+)/),e.indexOf("trident")&&(u=o.ENGINE.TRIDENT,c=o._parseFloatVersion(e,/trident\/(\d+[.]\d+)/))):e.indexOf("edge")>-1?(s=o.BROWSER.EDGE,a=c=o._parseFloatVersion(e,/edge\/(\d+[.]\d+)/),u=o.ENGINE.EDGE_HTML):e.indexOf("edg")>-1?(s=o.BROWSER.EDGE_CHROMIUM,a=o._parseFloatVersion(e,/edg\/(\d+[.]\d+)/),u=o.ENGINE.BLINK,c=a):e.indexOf("chrome")>-1?(s=o.BROWSER.CHROME,(a=o._parseFloatVersion(e,/chrome\/(\d+[.]\d+)/))>=28?(u=o.ENGINE.BLINK,c=a):(u=o.ENGINE.WEBKIT,c=o._parseFloatVersion(e,/applewebkit\/(\d+[.]\d+)/))):e.indexOf("safari")>-1?(s=o.BROWSER.SAFARI,a=o._parseFloatVersion(e,/version\/(\d+[.]\d+)/),u=o.ENGINE.WEBKIT,c=o._parseFloatVersion(e,/applewebkit\/(\d+[.]\d+)/)):e.indexOf("firefox")>-1&&(s=o.BROWSER.FIREFOX,a=o._parseFloatVersion(e,/rv:(\d+[.]\d+)/),u=o.ENGINE.GECKO,c=o._parseFloatVersion(e,/gecko\/(\d+)/)),o._currAgentInfo=n={hashCode:t,os:r,browser:s,browserVersion:a,deviceType:l,engine:u,engineVersion:c},{os:n.os,browser:n.browser,browserVersion:n.browserVersion,deviceType:n.deviceType,engine:n.engine,engineVersion:n.engineVersion,hashCode:n.hashCode}},o._parseFloatVersion=function(e,t){var n=e.match(t);if(n){var r=n[1];if(r)return parseFloat(r)}return 0};const s={};r._registerLegacyNamespaceProp("Assert",s);var a="DEBUG";const l="' doesn't match prototype ";s.forceDebug=function(){s[a]=!0},s.clearDebug=function(){s[a]=!1},s.isDebug=function(){return!0===s[a]},s.assert=function(e,t){if(s[a]&&!e){var n=t||"";if(arguments.length>2){n+="(";for(var r=2;r<arguments.length;r+=1)n+=arguments[r];n+=")"}s.assertionFailed(n,1)}},s.failedInAbstractFunction=function(){s[a]&&s.assertionFailed("Abstract function called",1)},s.assertPrototype=function(e,t,n){if(s[a]){var r=t.prototype;if(null!=e)s.assertType(t,"function",null,1,!1),Object.prototype.isPrototypeOf.call(r,e)||s.assertionFailed("object '"+e+l+r,1,n);else s.assertionFailed("null object doesn't match prototype "+r,1,n)}},s.assertPrototypeOrNull=function(e,t,n){if(s[a]&&null!=e){s.assertType(t,"function",null,1,!1);var r=t.prototype;Object.prototype.isPrototypeOf.call(r,e)||s.assertionFailed("object '"+e+l+r,1,n)}},s.assertPrototypes=function(e,t,n,r){if(s[a]){var i=t.prototype,o=n.prototype,u=Object.prototype.isPrototypeOf;u.call(i,e)||u.call(o,e)||s.assertionFailed("object '"+e+l+i+" or "+o,1,r)}},s.assertDomNodeOrNull=function(e,t){s[a]&&e&&void 0===e.nodeType&&s.assertionFailed(e+" is not a DOM Node",t+1)},s.assertDomNode=function(e,t){s[a]&&(e&&void 0!==e.nodeType||s.assertionFailed(e+" is not a DOM Node",t+1))},s.assertDomElement=function(e,t){s[a]&&(s.assertDomNode(e,1),1!==e.nodeType?s.assertionFailed(e+" is not a DOM Element",1):t&&e.nodeName!==t&&s.assertionFailed(e+" is not a "+t+" Element",1))},s.assertDomElementOrNull=function(e,t){s[a]&&null!=e&&(s.assertDomNode(e,1),1!==e.nodeType?s.assertionFailed(e+" is not a DOM Element",1):t&&e.nodeName!==t&&s.assertionFailed(e+" is not a "+t+" Element",1))},s.assertType=function(e,t,n,r,i){if(s[a]&&!(null==e&&i||typeof e===t)){var o=e+" is not of type "+t;n&&(o=n+o),r||(r=0),s.assertionFailed(o,r+1)}},s.assertObject=function(e,t){s[a]&&s.assertType(e,"object",t,1,!1)},s.assertObjectOrNull=function(e,t){s[a]&&s.assertType(e,"object",t,1,!0)},s.assertNonEmptyString=function(e,t){s[a]&&(s.assertType(e,"string",t,1,!1),s.assert(e.length>0,"empty string"))},s.assertString=function(e,t){s[a]&&s.assertType(e,"string",t,1,!1)},s.assertStringOrNull=function(e,t){s[a]&&s.assertType(e,"string",t,1,!0)},s.assertFunction=function(e,t){s[a]&&s.assertType(e,"function",t,1,!1)},s.assertFunctionOrNull=function(e,t){s[a]&&s.assertType(e,"function",t,1,!0)},s.assertBoolean=function(e,t){s[a]&&s.assertType(e,"boolean",t,1,!1)},s.assertNumber=function(e,t){s[a]&&s.assertType(e,"number",t,1,!1)},s.assertNumberOrNull=function(e,t){s[a]&&s.assertType(e,"number",t,1,!0)},s.assertArray=function(e,t){s[a]&&(Array.isArray(e)||(void 0===t&&(t=e+" is not an array"),s.assertionFailed(t,1)))},s.assertArrayOrNull=function(e,t){s[a]&&null!=e&&(Array.isArray(e)||(void 0===t&&(t=e+" is not an array"),s.assertionFailed(t,1)))},s.assertNonNumeric=function(e,t){s[a]&&(isNaN(e)||(void 0===t&&(t=e+" is convertible to a number"),s.assertionFailed(t,1)))},s.assertNumeric=function(e,t){s[a]&&isNaN(e)&&(void 0===t&&(t=e+" is not convertible to a number"),s.assertionFailed(t,1))},s.assertInSet=function(e,t,n){if(null==e||void 0===t[e.toString()]){if(void 0===n){for(var r=" is not in set: {",i=Object.keys(t),o=0;o<i.length;o++){r+=i[o],r+=","}n=e+(r+="}")}s.assertionFailed(n,1)}},s.assertionFailed=function(e,t,n){t||(t=0);var r="Assertion";throw n&&(r+=" ("+n+")"),r+=" failed: ",void 0!==e&&(r+=e),new Error(r)};var u=t.__oj_Assert_DEBUG;void 0!==u&&(s[a]=u),o.getAgentInfo().browser===o.BROWSER.IE&&e.error("Internet Explorer is not supported with this version of JET.");const c={};r._registerLegacyNamespaceProp("CollectionUtils",c),c.copyInto=function(e,t,n,r,i){return c._copyIntoImpl(e,t,n,r,i,0)},c.mergeDeep=function(e,...t){if(!t.length)return e;const n=c.isPlainObject,r=c.mergeDeep,i=t.shift();return n(e)&&n(i)&&Object.keys(i).forEach(t=>{n(i[t])?(e[t]||Object.assign(e,{[t]:{}}),r(e[t],i[t])):Object.assign(e,{[t]:i[t]})}),r(e,...t)},c.isPlainObject=function(e){if(null!==e&&"object"==typeof e)try{var t=Object.prototype.hasOwnProperty;if(e.constructor&&t.call(e.constructor.prototype,"isPrototypeOf"))return!0}catch(e){}return!1},c._copyIntoImpl=function(e,t,n,r,i,o){var s;if(null==i&&(i=Number.MAX_VALUE),e&&t&&e!==t)for(var a=Object.keys(t),l=0;l<a.length;l++){var u=a[l];s=n?n(u):u;var d=t[u],h=!1;if(r&&o<i){var p=e[s];c.isPlainObject(d)&&(null==p||c.isPlainObject(p))&&(h=!0,e[s]=p||{},c._copyIntoImpl(e[s],d,n,!0,i,o+1))}h||(e[s]=d)}return e},"undefined"!=typeof window&&window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),r=this;do{for(t=n.length;--t>=0&&n.item(t)!==r;);}while(t<0&&(r=r.parentElement));return r}),function(){function e(e){return function(t,n,r){return e.call(this,t,n,function(e){return"boolean"==typeof e?e:!!e&&e.capture}(r))}}if("undefined"!=typeof window&&!function(){let e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,e}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}()){let t;window.EventTarget?t=EventTarget.prototype:window.Node&&(t=Node.prototype),t&&(t.addEventListener=e(t.addEventListener),t.removeEventListener=e(t.removeEventListener))}}(),
/**
     * @license
     * Code taken from
     * https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/queueMicrotask
     * under "When queueMicrotask() isn't available".
     * @ignore
     */
"undefined"!=typeof window&&"function"!=typeof window.queueMicrotask&&(window.queueMicrotask=function(e){Promise.resolve().then(e).catch(function(e){setTimeout(function(){throw e})})}),function(){if("undefined"!=typeof window){var e;if(!((e=document.createEvent("Event")).initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented)){var t=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(t.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}"function"!=typeof window.CustomEvent&&(n.prototype=Object.getPrototypeOf(new n("bogusEvent")),window.CustomEvent=n)}function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(){function e(e){var t=document.createEvent("FocusEvent");return t.initEvent(e,!1,!1),t}"undefined"!=typeof window&&"function"!=typeof window.FocusEvent&&(e.prototype=Object.getPrototypeOf(new e("focus")),window.FocusEvent=e)}(),function(){var e,t;"undefined"!=typeof window&&!window.setImmediate&&window.postMessage&&(window.setImmediate=function(){var t=arguments[0],i=Array.prototype.slice,o=i.call(arguments,1);s.assertFunction(t);var a=n();return e||(e=new Map),e.set(a,{callback:t,args:o}),1===e.size&&window.addEventListener("message",r),window.postMessage({id:a,message:"oj-setImmediate"},"*"),a},window.clearImmediate=i);function n(){return isNaN(t)&&(t=0),t+=1}function r(t){var n=t.data;if(n&&"oj-setImmediate"===n.message){var r=n.id,o=e.get(r);if(i(r),o){var s=o.callback,a=o.args;s.apply(window,a)}}}function i(t){e&&(e.delete(t),e.size<1&&(window.removeEventListener("message",r),e=null))}}(),"undefined"!=typeof window&&(window.Symbol?(window.Symbol.asyncIterator||(window.Symbol.asyncIterator="asyncIterator"),window.Symbol.iterator||(window.Symbol.iterator="iterator")):(window.Symbol={},window.Symbol.asyncIterator="asyncIterator",window.Symbol.iterator="iterator")),function(){if("undefined"!=typeof window&&0===new window.Set([0]).size){var e=window.Set;function t(t){var n=new e;return t&&t.forEach(n.add,n),n}t.prototype=e.prototype,t.prototype.constructor=t,window.Set=t}}(),"undefined"!=typeof window&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.DOMTokenList&&!DOMTokenList.prototype.forEach&&(DOMTokenList.prototype.forEach=Array.prototype.forEach)),"undefined"!=typeof window&&"undefined"!==window.Node&&("isConnected"in Node.prototype||Object.defineProperty(Node.prototype,"isConnected",{get(){return!(this.ownerDocument&&this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}}));const d=function(){this.Init()};r._registerLegacyNamespaceProp("Object",d),d.superclass=null,d._typeName="oj.Object",d._GET_FUNCTION_NAME_REGEXP=/function\s+([\w$][\w$\d]*)\s*\(/,(d.prototype={}).constructor=d,d.createSubclass=function(e,t,n){s.assertFunction(e),s.assertFunctionOrNull(t),s.assertStringOrNull(n),void 0===t&&(t=d),s.assert(e!==t,"Class can't extend itself");var r=d._tempSubclassConstructor;r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,n&&(e._typeName=n)},d.copyPropertiesForClass=function(e,t){s.assertFunction(e),s.assert(null!=t,"source object cannot be null");for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];e.prototype[i]=t[i]}},d._tempSubclassConstructor=function(){},d.prototype.getClass=function(e){if(void 0===e)e=this;else if(null===e)return null;return e.constructor},d.prototype.clone=function(){var e=new this.constructor;return c.copyInto(e,this),e},d.prototype.toString=function(){return this.toDebugString()},d.prototype.toDebugString=function(){return this.getTypeName()+" Object"},d.getTypeName=function(e){s.assertFunction(e);var t=e._typeName;if(null==t){var n=e.toString(),r=d._GET_FUNCTION_NAME_REGEXP.exec(n);t=r?r[1]:"anonymous",e._typeName=t}return t},d.prototype.getTypeName=function(){return d.getTypeName(this.constructor)},d.prototype.Init=function(){s.isDebug()&&s.assert(this.getTypeName,"Not an oj.Object");var e=this.constructor;e._initialized||d._initClasses(e)},d.ensureClassInitialization=function(e){s.assertFunction(e),e._initialized||d._initClasses(e)},d.prototype.equals=function(e){return this===e},d.createCallback=function(e,t){return s.assertFunction(t),t.bind(e)},d._initClasses=function(e){s.isDebug()&&(s.assertFunction(e),s.assert(!e._initialized)),e._initialized=!0;var t=e.superclass;if(t){var n=t.constructor;n&&!n._initialized&&d._initClasses(n)}var r=e.InitClass;r&&r.call(e)},d.compareValues=function(e,t){if(e===t)return!0;var n=typeof e,r=typeof t;if(n!==r)return!1;if(null===e||null===t)return!1;if(e.constructor===t.constructor){if(Array.isArray(e))return d._compareArrayValues(e,t);if(e.constructor===Object){const n=arguments[2]||new Set;return d.__innerEquals(e,t,n)}if(e.valueOf&&"function"==typeof e.valueOf)return e.valueOf()===t.valueOf()}return!1},d._compareArrayValues=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!d.compareValues(e[n],t[n]))return!1;return!0},d._compareIdIndexObject=function(e,t){if("number"==typeof e&&"number"==typeof t||"string"==typeof e&&"string"==typeof t)return e===t;if("object"==typeof e&&"object"==typeof t){if(e.id&&t.id)return e.id===t.id&&(!e.index||!t.index||e.index===t.index);if(e.index&&t.index)return e.index===t.index}return!1},d._compareArrayIdIndexObject=function(e,t){if(!e)return!t||0===t.length;if(!t)return!e||0===e.length;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){for(var r=!1,i=0;i<t.length;i++)if(d._compareIdIndexObject(e[n],t[i])){r=!0;break}if(!r)return!1}return!0},d.__innerEquals=function(t,n,r=new Set){if(t===n)return!0;if(r.has(t)||r.has(n))return e.warn("cyclic dependency detected",t,n),!1;if(r.add(t),r.add(n),!(t instanceof Object&&n instanceof Object))return!1;if(t.constructor!==n.constructor)return!1;var i,o,s=Object.prototype.hasOwnProperty,a=Object.keys(t);for(o=0;o<a.length;o++)if(i=a[o],s.call(t,i)){if(!s.call(n,i))return!1;if(t[i]!==n[i]){if("object"!=typeof t[i])return!1;if(!d.compareValues(t[i],n[i],r))return!1}}var l=Object.keys(n);for(o=0;o<l.length;o++)if(i=l[o],s.call(n,i)&&!s.call(t,i))return!1;return 0!==a.length||0!==l.length||JSON.stringify(t)===JSON.stringify(n)},d.isEmpty=function(e){var t;if(null==e)return!0;for(t in e)if(e.hasOwnProperty(t))return!1;return!0};const h=function(){this.Init()};d.createSubclass(h,d,"oj.EventSource"),r._registerLegacyNamespaceProp("EventSource",h),h.prototype.Init=function(){this._eventHandlers=[],h.superclass.Init.call(this)},h.prototype.on=function(e,t){for(var n=!1,r=0;r<this._eventHandlers.length;r++)if(this._eventHandlers[r].eventType===e&&this._eventHandlers[r].eventHandlerFunc===t){n=!0;break}n||this._eventHandlers.push({eventType:e,eventHandlerFunc:t})},h.prototype.off=function(e,t){for(var n=this._eventHandlers.length-1;n>=0;n--)if(this._eventHandlers[n].eventType===e&&this._eventHandlers[n].eventHandlerFunc===t){this._eventHandlers.splice(n,1);break}},h.prototype.handleEvent=function(e,t){for(var n=0;n<this._eventHandlers.length;n++){var r=this._eventHandlers[n];if(r.eventType===e&&!1===r.eventHandlerFunc.apply(this,Array.prototype.slice.call(arguments).slice(1)))return!1}return!0};const p={};r._registerLegacyNamespaceProp("KeyUtils",p),p.equals=function(e,t){return d.compareValues(e,t)};var f=t.__ojCheckpointManager;const _={};return r._registerLegacyNamespaceProp("CHECKPOINT_MANAGER",_),_.startCheckpoint=function(e,t){f&&f.startCheckpoint(e,t)},_.endCheckpoint=function(e){f&&f.endCheckpoint(e)},_.getRecord=function(e){return f?f.getRecord(e):void 0},_.matchRecords=function(e){return f?f.matchRecords(e):[]},_.dump=function(t){e.info(function(){for(var e="Checkpoint Records:",n=_.matchRecords(t),r=0;r<n.length;r++){var i=n[r];e=e+"\n"+i.name;var o=i.description;null!=o&&(e=e+" ("+o+")"),e=(e+=":\n")+"start: "+i.start+"\tduration: "+i.duration}return e})},r}),define("ojs/ojcontext",["ojs/ojcore-base","ojs/ojlogger"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const n=function(e){this._description=e,this._addedWaitTs=n._getTs(),this._id=this._addedWaitTs.toString(36)+"_"+Math.random().toString(36)};e._registerLegacyNamespaceProp("BusyState",n),Object.defineProperties(n.prototype,{id:{get:function(){return this._id},enumerable:!0},description:{get:function(){if(this._description)return this._description instanceof Function?this._description():this._description.toString()},enumerable:!0}}),n.prototype.toString=function(){var e="Busy state: [description=",t=this.description;return null!==t&&(e+=t),e+=", elapsed="+(n._getTs()-this._addedWaitTs)+"]"},n._getTs=function(){return window.performance?window.performance.now():(new Date).getTime()};const r=function(e,t){this.Init(e,t)};let i;function o(){return i||(i=new Promise(function(e){window.setImmediate(function(){i=null,e(!0)})})),i}e.Object.createSubclass(r,e.Object,"oj.BusyContext"),e._registerLegacyNamespaceProp("BusyContext",r),r._defaultTimeout=Number.NaN,r.setDefaultTimeout=function(e){isNaN(e)||(r._defaultTimeout=e)},r.prototype.Init=function(e,t){r.superclass.Init.call(this),this._hostNode=e,this._context=t,this._statesMap=new Map,this._mediator={getMasterWhenReadyPromise:function(){return this._masterWhenReadyPromise||(this._masterWhenReadyPromise=new Promise(this._captureWhenReadyPromiseResolver.bind(this))),this._masterWhenReadyPromise},resolveMasterWhenReadyPromise:function(){this._masterWhenReadyPromiseResolver&&this._masterWhenReadyPromiseResolver(!0),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseResolver=null,this._masterWhenReadyPromiseRejecter=null},rejectMasterWhenReadyPromise:function(e){this._masterWhenReadyPromiseRejecter&&this._masterWhenReadyPromiseRejecter(e),this._masterWhenReadyPromise=null,this._masterWhenReadyPromiseRejecter=null,this._masterWhenReadyPromiseResolver=null},getSlaveTimeoutPromise:function(e,t,n){var r,i=new Promise(function(e,i){r=window.setTimeout(function(){i(t())},n)});return this._slaveTimeoutPromiseTimers.push(r),Promise.race([e,i]).finally(this._clearAllSlaveTimeouts.bind(this))},_clearAllSlaveTimeouts:function(){var e=this._slaveTimeoutPromiseTimers;this._slaveTimeoutPromiseTimers=[];for(var t=0;t<e.length;t++)window.clearTimeout(e[t]);return!0},_captureWhenReadyPromiseResolver:function(e,t){this._masterWhenReadyPromiseResolver=e,this._masterWhenReadyPromiseRejecter=t},_slaveTimeoutPromiseTimers:[]}},r._log=function(e){if(t.option("level")===t.LEVEL_LOG){t.log(">> Busy states: %d",e.size);var n=r._values(e);n.length>0&&t.log(n.join("\n"))}},r._values=function(e){var t=[];return e.forEach(function(e){t.push(e)}),t},r.prototype.addBusyState=function(e){t.log("BusyContext.addBusyState: start scope='%s'",this._getDebugScope());var i=this._statesMap,o=new n(e[r._DESCRIPTION]);return t.log(">> "+o),i.set(o.id,o),this._addBusyStateToParent(),t.log("BusyContext.addBusyState: end scope='%s'",this._getDebugScope()),this._removeBusyState.bind(this,o)},r.prototype.dump=function(e){t.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),e||"");var n=this._statesMap;t.info(">> Busy states: %d",n.size);var i=r._values(n);i.length>0&&t.info(i.join("\n")),t.info("BusyContext.dump: start scope='%s' %s",this._getDebugScope(),e||"")},r.prototype.getBusyStates=function(){var e=this._statesMap;return r._values(e)},r.prototype.clear=function(){t.log("BusyContext.clear: start scope='%s'",this._getDebugScope());for(var e=this._statesMap,n=r._values(e),i=0;i<n.length;i++){var o=n[i];try{this._removeBusyState(o)}catch(e){t.log("BusyContext.clear: %o",e)}Object.defineProperty(o,r._OJ_RIP,{value:!0,enumerable:!1})}t.log("BusyContext.clear: end scope='%s'",this._getDebugScope())},r.prototype.whenReady=function(e){var n=this._getDebugScope();t.log("BusyContext.whenReady: start, scope='%s', timeout=%d",n,e);var i=this._statesMap,s=this._mediator,a=o(),l=r._BOOTSTRAP_MEDIATOR.whenReady();const u=s.getMasterWhenReadyPromise();var c=Promise.all([a,l]).then(function(){t.log("BusyContext.whenReady: bootstrap mediator ready scope=%s",n);try{r._deliverThrottledUpdates()}catch(e){throw t.error("Fatal exception delivering binding updates: %o",e),e}return 0!==i.size||this._waitingOnNextTickBusynessEval||(t.log("BusyContext.whenReady: resolved no busy states scope=%s",n),s.resolveMasterWhenReadyPromise()),t.log("BusyContext.whenReady: busy states returning master scope=%s",n),u}.bind(this));if(isNaN(e)&&!isNaN(r._defaultTimeout)&&(e=r._defaultTimeout),!isNaN(e)){c=s.getSlaveTimeoutPromise(c,function(){var o,s="whenReady timeout of "+e+"ms expired ";r._log(i);var a=r._values(i);return(o=r._BOOTSTRAP_MEDIATOR.isReady()?new Error(s+"with the following busy states: "+a.join(", ")):new Error(s+'while the application is loading. Busy state enabled by setting the "window.oj_whenReady = true;" global variable. Application bootstrap busy state is released by calling "oj.Context.getPageContext().getBusyContext().applicationBootstrapComplete();".')).busyStates=a,t.log("BusyContext.whenReady: rejected scope='%s'\n%s",n,o.message),o},e)}return t.log("BusyContext.whenReady: end scope='%s'",this._getDebugScope()),c},r.prototype.isReady=function(){t.log("BusyContext.isReady: start scope='%s'",this._getDebugScope());var e=!1;if(r._BOOTSTRAP_MEDIATOR.isReady()&&!this._waitingOnNextTickBusynessEval){var n=this._statesMap;e=0===n.size,r._log(n)}return t.log("BusyContext.isReady: end scope='%s'",this._getDebugScope()),e},r.prototype._removeBusyState=function(e){var n=this._getDebugScope();t.log("BusyContext._removeBusyState: start scope='%s'",n);var i=this._statesMap;if(e[r._OJ_RIP])t.log("Busy state has been forcefully resolved via clear:\n"+e);else{if(!i.delete(e.id))throw new Error("Busy state has already been resolved:\n"+e);t.log("BusyContext._removeBusyState: resolving busy state:\n"+e),0!==i.size||this._waitingOnNextTickBusynessEval||(this._waitingOnNextTickBusynessEval=!0,o().then(this._evalBusyness.bind(this))),t.log("BusyContext._removeBusyState: end scope='%s'",n)}},r.prototype._evalBusyness=function(){var e=this._getDebugScope();t.log("BusyContext._evalBusyness: begin scope='%s'",e);try{r._deliverThrottledUpdates()}catch(e){return t.error("Fatal exception delivering binding updates: %o",e),this._waitingOnNextTickBusynessEval=!1,void this._rejectWhenReadyPromises(e)}var n=this._statesMap,i=this._mediator;this._waitingOnNextTickBusynessEval=!1,0===n.size?(t.log("BusyContext._evalBusyness: resolving whenReady promises"),i.resolveMasterWhenReadyPromise(),this._resolveBusyStateForParent()):r._log(n),t.log("BusyContext._evalBusyness: end scope='%s'",e)},r.prototype.applicationBootstrapComplete=function(){var e=this._getDebugScope();t.log("BusyContext.applicationBootstrapComplete: begin scope='%s'",e),r._BOOTSTRAP_MEDIATOR.notifyComplete(),t.log("BusyContext.applicationBootstrapComplete: end scope='%s'",e)},r.prototype._getParentBusyContext=function(){var e=this._context.getParentContext();return e?e.getBusyContext():null},r.prototype._addBusyStateToParent=function(){if(!this._parentNotified){this._parentNotified=!0;var e=this._getParentBusyContext();if(e){var t={};t[r._DESCRIPTION]=this.toString.bind(this),this._parentResolveCallback=e.addBusyState(t)}}},r.prototype._resolveBusyStateForParent=function(){this._parentNotified=!1,this._parentResolveCallback&&(this._parentResolveCallback(),this._parentResolveCallback=null)},r.prototype._rejectWhenReadyPromises=function(e){this._mediator.rejectMasterWhenReadyPromise(e);const t=this._getParentBusyContext();t&&(t._rejectWhenReadyPromises(e),this._resolveBusyStateForParent())},r.prototype._getCompoundDescription=function(){return"["+r._values(this._statesMap).join(", ")+"]"},r.prototype._getDebugScope=function(){function e(e){var t="undefined";if(e)if(e.id&&e.id.length>0)t="#"+e.id;else{t=e.nodeName,e.hasAttribute("data-oj-context")&&(t+="[data-oj-context]");var n=e.getAttribute("class");n&&(t+="."+n.split(" ").join("."))}return t}return this._debugScope||(this._hostNode?this._debugScope=e(this._hostNode.parentElement)+" > "+e(this._hostNode):this._debugScope="page"),this._debugScope},r.prototype.toString=function(){var e="Busy Context: [scope=";return e+=this._getDebugScope(),e+=" states="+this._getCompoundDescription()+"]"},r._deliverThrottledUpdates=function(){e.ComponentBinding&&e.ComponentBinding.deliverChanges()},r._DESCRIPTION="description",r._OJ_RIP="__ojRip",r._BOOTSTRAP_MEDIATOR=new function(){var e,t,n;"undefined"!=typeof window&&(e=window.oj_whenReady),this.whenReady=function(){return t||(t=e?new Promise(function(e){n=e}):Promise.resolve(!0))},this.isReady=function(){return!e},this.notifyComplete=function(){n?o().then(function(){e=!1,"function"==typeof n&&n(!0),n=null}):e=!1}};const s=function(e){this.Init(e)};return e.Object.createSubclass(s,e.Object,"oj.Context"),s.prototype.Init=function(e){s.superclass.Init.call(this),this._node=e},s.prototype.getParentContext=function(){return this._node?s.getContext(s.getParentElement(this._node)):null},s.getContext=function(e){for(;e;){var t=e[s._OJ_CONTEXT_INSTANCE];if(t)return t;if(e.hasAttribute(s._OJ_CONTEXT_ATTRIBUTE))return t=new s(e),Object.defineProperty(e,s._OJ_CONTEXT_INSTANCE,{value:t}),t;e=s.getParentElement(e)}return s.getPageContext()},s.getPageContext=function(){return s._pageContext||(s._pageContext=new s),s._pageContext},s.prototype.getBusyContext=function(){return this._busyContext||(this._busyContext=new r(this._node,this)),this._busyContext},s.setBusyContextDefaultTimeout=function(e){r.setDefaultTimeout(e)},s._OJ_CONTEXT_ATTRIBUTE="data-oj-context",s._OJ_CONTEXT_INSTANCE="__ojContextInstance",s._OJ_SURROGATE_ATTR="data-oj-surrogate-id",s.getParentElement=function(e){if(e&&e.hasAttribute(s._OJ_SURROGATE_ATTR)){var t=document.getElementById(e.getAttribute(s._OJ_SURROGATE_ATTR));if(t)return t.parentElement}return e._ojReportBusy||e.parentElement},s}),define("ojs/ojthemeutils",["exports","ojs/ojcore-base","ojs/ojlogger"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={getThemeName:function(){return(r.parseJSONFromFontFamily("oj-theme-json")||{}).name},getThemeTargetPlatform:function(){return(r.parseJSONFromFontFamily("oj-theme-json")||{}).targetPlatform},clearCache:function(){r._cache=null,r._cssVarCache=null},parseJSONFromFontFamily:function(e){null==r._cache&&(r._cache={},r._null_cache_value={},r._headfontstring=window.getComputedStyle(document.head).getPropertyValue("font-family"));var t=r._cache[e];if(t===r._null_cache_value)return null;if(null!=t)return t;if("undefined"==typeof document)return null;var i=document.createElement("meta");i.className=e,document.head.appendChild(i);var o=window.getComputedStyle(i).getPropertyValue("font-family");if(null!=o)if(o===r._headfontstring)n.warn("parseJSONFromFontFamily: When the selector ",e," is applied the font-family read off the dom element is ",o,". The parent dom elment has the same font-family value."," This is interpreted to mean that no value was sent down for selector ",e,". Null will be returned.");else{var s=o.replace(/^['"]+|\s+|\\|(;\s?})+|['"]$/g,"");if(s)try{t=JSON.parse(s)}catch(r){var a=s.indexOf(","),l=!1;if(a>-1){s=s.substring(a+2);try{t=JSON.parse(s),l=!0}catch(e){}}if(!1===l)throw n.error("Error parsing json for selector "+e+".\nString being parsed is "+s+". Error is:\n",r),document.head.removeChild(i),r}}return document.head.removeChild(i),r._cache[e]=null==t?r._null_cache_value:t,t}};var i=e=>(r._cssVarCache||(r._cssVarCache=new Map),r._cssVarCache.has(e)||r._cssVarCache.set(e,(e=>(r._rootCSSStyles||(r._rootCSSStyles=window.getComputedStyle(document.documentElement)),r._rootCSSStyles.getPropertyValue(e).replace(/^['"\s]+|\s+|\\|(;\s?})+|['"\s]$/g,"")))(e)),r._cssVarCache.get(e));r.getCachedCSSVarValues=e=>e.map(e=>i(e)),r.verifyThemeVersion=(()=>{let e=!1;return()=>{if(!e&&"undefined"!=typeof window){e=!0;const i=t.version.split(".");let o;try{o=(r.parseJSONFromFontFamily("oj-theme-json")||{}).jetReleaseVersion}catch(e){o=void 0}const s=(o||"").replace(/^v/,"").split("."),a=`Your CSS file is incompatible with this version of JET (${t.version}).\n  Please see the Migration section of the Developer's Guide for how to update it.\n      `;i[0]!==s[0]||i[1]!==s[1]?n.error(a):i[2]!==s[2]&&n.warn(a)}}})();const o=r.clearCache,s=r.getThemeName,a=r.getThemeTargetPlatform,l=r.parseJSONFromFontFamily,u=r.verifyThemeVersion,c=r.getCachedCSSVarValues;e.clearCache=o,e.getCachedCSSVarValues=c,e.getThemeName=s,e.getThemeTargetPlatform=a,e.parseJSONFromFontFamily=l,e.verifyThemeVersion=u,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojcustomelement-utils",["exports","ojs/ojcore-base","ojs/ojcontext","ojs/ojlogger","ojs/ojthemeutils"],function(e,t,n,r,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const o={};class s{static isValidCustomElementName(e){const t=s._RESERVED_TAGS.has(e),n=s._ELEMENT_NAME_REGEXP.test(e);return!t&&n&&!e.startsWith("oj-bind-",0)}static getSupportedTypes(e){if(!e)return{};let t=o[e];if(!t){t={};const n=e.toLowerCase(),r=n.match(/(?=[^|])(?:[^|]*<[^>]+>)*[^|]*/g);let i=0;r.forEach(e=>{const n=e.trim();"any"===n||"boolean"===n||"number"===n||"string"===n||"array"===n||"object"===n||"null"===n?t[n]=1:0===n.indexOf("array<")?t.array=1:0===n.indexOf("object<")?t.object=1:t.other=1,i++}),t.typeCount=i,o[n]=t}return t}static getUniqueId(e){if(e)return e;const t=s._UNIQUE+s._UNIQUE_INCR;return s._UNIQUE_INCR+=1,t}static comparePropertyValues(e,n,r){return e.writeback?t.Object.compareValues(n,r):n===r}}s._UNIQUE_INCR=0,s._UNIQUE="_oj",s._RESERVED_TAGS=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),s._ELEMENT_NAME_REGEXP=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/;const a={accessKey:"accesskey",autocapitalize:"autocapitalize",autofocus:"autofocus",class:"class",contentEditable:"contenteditable",dir:"dir",draggable:"draggable",enterKeyHint:"enterkeyhint",hidden:"hidden",id:"id",inputMode:"inputmode",lang:"lang",role:"role",slot:"slot",spellcheck:"spellcheck",style:"style",tabIndex:"tabindex",translate:"translate",title:"title"};class l extends Error{constructor(e,t){super(`${e.localName} with id '${e.id||""}': ${t}`),Error.captureStackTrace&&Error.captureStackTrace(this,l),this.name="JetElementError"}}const u=/^\s*\[[^]*\]\s*$/,c=/^\s*\{[^]*\}\s*$/,d=/^(?:\{\{)([^]+)(?:\}\})$/,h=/^(?:\[\[)([^]+)(?:\]\])$/,p={};Object.keys(a).forEach(function(e){const t=a[e];e!==t&&(p[t]=e)});class f{static getExpressionInfo(e){let t,n=!1;if(e){const r=e.trim();let i=d.exec(r);t=null==i?void 0:i[1],t||(n=!0,i=h.exec(r),t=null==i?void 0:i[1])}return{downstreamOnly:n,expr:t}}static attributeToPropertyValue(e,t,n,r){if(null!=n)try{return f.coerceValue(e,t,n,r.type)}catch(n){throw new l(e,`Error while parsing parsing attribute ${t}. ${n.stack||n}`)}}static parseAttributeValue(e,t,n,r,i=null){if(!r)throw new Error(`Unable to parse ${t}='${n}' for ${e} with id '${i}'.         This attribute only supports data bound values. Check the API doc for supported types`);const o=s.getSupportedTypes(r),a=u.test(n),l=c.test(n);if(o.array&&a||o.object&&l||o.any&&(a||l))try{return JSON.parse(n)}catch(r){throw new Error(`Unable to parse ${t}='${n}' for ${e} with id '${i}'           to a JSON Object. Check the value for correct JSON syntax, e.g. double quoted strings. ${r}`)}else{if(o.string||o.any)return n;if(o.boolean)return f.parseBooleanValue(e,t,n,r,i);if(o.number&&!isNaN(n))return Number(n)}throw new Error(`Unable to parse ${t}='${n}' for ${e} with id '${i}'       to a ${r}.`)}static parseBooleanValue(e,t,n,r,i){if(null==n||"true"===n||""===n||n.toLowerCase()===t)return!0;if("false"===n)return!1;throw new Error(`Unable to parse ${t}='${n}' for ${e} with id '${i}' to a ${r}.`)}static coerceValue(e,t,n,r){const i=e.tagName.toLowerCase();return f.parseAttributeValue(i,t,n,r,e.id)}static coerceBooleanValue(e,t,n,r){return f.parseBooleanValue(e.tagName.toLowerCase(),t,n,r,e.id)}static isGlobalOrData(e){return Object.prototype.hasOwnProperty.call(a,e)||e.startsWith("data-")||e.startsWith("aria-")}static getGlobalAttrForProp(e){return a[e]||e}static getGlobalPropForAttr(e){return p[e]||e}}function _(e,t){let n=e.cache;return n||(n=new Map,e.cache=n),n.has(t)||n.set(t,e(t)),n.get(t)}f.attributeToPropertyName=_.bind(null,e=>e.toLowerCase().replace(/-(.)/g,(e,t)=>t.toUpperCase())),f.propertyNameToAttribute=_.bind(null,e=>e.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())),f.eventTypeToEventListenerProperty=_.bind(null,e=>"on"+e.substr(0,1).toUpperCase()+e.substr(1)),f.isEventListenerProperty=_.bind(null,e=>/^on[A-Z]/.test(e)),f.isEventListenerAttr=_.bind(null,e=>/^on-[a-z]/.test(e)),f.eventListenerPropertyToEventType=_.bind(null,e=>e.substr(2,1).toLowerCase()+e.substr(3)),f.propertyNameToChangeEventType=_.bind(null,e=>e+"Changed"),f.propertyNameToChangedCallback=_.bind(null,e=>`on${e[0].toUpperCase()}${e.substr(1)}Changed`),f.eventTriggerToEventType=_.bind(null,e=>`oj${e.substr(0,1).toUpperCase()}${e.substr(1)}`),f.eventAttrToPreactPropertyName=_.bind(null,e=>e.toLowerCase().split("-").reduce((e,t,n)=>{return n>1?e+((r=t).charAt(0).toUpperCase()+r.substr(1)):e+t;var r},""));const m=new Set;class g{static registerElement(e,t,n){const r=e.toUpperCase();if(!g._CUSTOM_ELEMENT_REGISTRY[r]){if(!t.descriptor)throw new Error(`Custom element ${e} must be registered with a descriptor.`);g._CUSTOM_ELEMENT_REGISTRY[e]=t,g._CUSTOM_ELEMENT_REGISTRY[r]=t,Object.defineProperty(n,"name",{value:g.tagNameToElementClassName(e)}),customElements.define(e,n)}}static tagNameToElementClassName(e){return e.toLowerCase().match(/-(?<match>.*)/)[0].replace(/-(.)/g,(e,t)=>t.toUpperCase())+"Element"}static isComposite(e){var t,n;return null!==(n=null===(t=g.getElementRegistration(e))||void 0===t?void 0:t.composite)&&void 0!==n&&n}static isVComponent(e){var t,n;return null!==(n=null===(t=g.getElementRegistration(e))||void 0===t?void 0:t.vcomp)&&void 0!==n&&n}static isElementRegistered(e){return null!=g._CUSTOM_ELEMENT_REGISTRY[e]}static getElementRegistration(e){var t;return null!==(t=g._CUSTOM_ELEMENT_REGISTRY[e])&&void 0!==t?t:null}static getElementDescriptor(e){var t;return(null===(t=g.getElementRegistration(e))||void 0===t?void 0:t.descriptor)||{}}static getElementProperties(e){return g.getPropertiesForElementTag(e.tagName)}static getPropertiesForElementTag(e){var t,n;const r=g.getElementDescriptor(e);return(null===(n=null!==(t=r._metadata)&&void 0!==t?t:r.metadata)||void 0===n?void 0:n.properties)||{}}static getElementInfo(e){return e?`${e.tagName.toLowerCase()} with id '${e.id}'`:""}static getElementState(e){let t=e[g._ELEMENT_STATE_KEY];if(!t&&g.isElementRegistered(e.tagName)){t=new(0,g.getElementRegistration(e.tagName).stateClass)(e),Object.defineProperty(e,g._ELEMENT_STATE_KEY,{value:t})}return null!=t?t:null}static getElementBridge(e){let t=e[g._ELEMENT_BRIDGE_KEY];if(void 0===t&&g.isElementRegistered(e.tagName)){t=null;const n=g.getElementRegistration(e.tagName).bridgeProto;if(void 0!==n){t=Object.create(n);const r=g.getElementDescriptor(e.tagName);t.initializeBridge(e,r)}Object.defineProperty(e,g._ELEMENT_BRIDGE_KEY,{value:t})}return null!=t?t:null}static getSlotMap(e){const t={},n=e.childNodes;for(let e=0;e<n.length;e++){const r=n[e];if(g.isSlotable(r)){const e=g.getSlotAssignment(r);t[e]||(t[e]=[]),t[e].push(r)}}return t}static getSlotAssignment(e){const t=null!=e.__oj_slots?e.__oj_slots:e.getAttribute&&e.getAttribute("slot");return t||""}static isSlotable(e){return 1===e.nodeType||3===e.nodeType&&!!e.nodeValue.trim()}static getElementProperty(e,t){if(g.isElementRegistered(e.tagName)){let n=e._vcomp;return n&&!n.isCustomElementFirst()||(n=e[g.VCOMP_INSTANCE])?g.getPropertyValue(n.props,t):e.getProperty(t)}return e[t]}static getPropertyValue(e,t){let n=e;const r=t.split(".");try{r.forEach(e=>n=n[e])}catch(e){return}return n}static allowSlotRelocation(e){g._ALLOW_RELOCATION_COUNT+=e?1:-1}static canRelocateNode(e,t){const n=g.getElementState(e);if(!n.getSlotMap()||g._ALLOW_RELOCATION_COUNT>0)return!0;const r=n.getSlotSet();if(n.isPostCreateCallbackOrComplete()&&r.has(t)){if(e.hasAttribute("data-oj-preact"))throw new l(e,t.localName+" cannot be relocated as a child of this element.");if("preact"===n.getBindingProviderType())return!1}return!0}static getClassSet(e){if(e){const t=e.split(/\s+/).filter(e=>e.length>0);if(t.length>0)return new Set(t)}return m}}g._CUSTOM_ELEMENT_REGISTRY={},g._ELEMENT_STATE_KEY="_ojElementState",g._ELEMENT_BRIDGE_KEY="_ojBridge",g._ALLOW_RELOCATION_COUNT=0,g.VCOMP_INSTANCE=Symbol("vcompInstance");const v=Symbol("childBindingProvider"),y=Symbol("cachedBindingProvider");class E{constructor(e){this.dirtyProps=new Set,this._componentState=b.WaitingToCreate,this._outerClasses=new Set,this.Element=e}startCreationCycle(){this._isInErrorState()||(null!=this._preCreatedPromise&&this._componentState!==b.WaitingToCreate||this._updateComponentState(b.Creating),this._registerBusyState())}pauseCreationCycle(){this._resolveBusyState()}resetCreationCycle(){this._updateComponentState(b.WaitingToCreate),this._bindingProviderPromise=null,this._preCreatedPromise=null,this._createdPromise=null}isComplete(){return this._componentState===b.Complete}isCreating(){return this._componentState===b.Creating}isPostCreateCallbackOrComplete(){return this._componentState===b.PostCreateCallback||this.isComplete()}canHandleAttributes(){return!this._isInErrorState()&&this._componentState!==b.WaitingToCreate}beginApplyingBindings(){this.isComplete()||(this._bindingProviderType="knockout",this._updateComponentState(b.ApplyingBindings))}allowPropertySets(){return this._componentState===b.Creating||this._componentState===b.ApplyingBindings||this._componentState===b.BindingsApplied||this._componentState===b.PostCreateCallback||this._componentState===b.Complete}allowPropertyChangedEvents(){return this._componentState===b.BindingsApplied||this._componentState===b.PostCreateCallback||this._componentState===b.Complete}getTrackChildrenOption(){var e,t;const n=g.getElementDescriptor(this.Element.tagName).metadata;return null!==(t=null===(e=null==n?void 0:n.extension)||void 0===e?void 0:e._TRACK_CHILDREN)&&void 0!==t?t:"none"}setCreateCallback(e){this._isInErrorState()||(this._updateComponentState(b.WaitingForBindings),this._preCreatedPromise||(this._preCreatedPromise=this.GetPreCreatedPromise()),this._createdPromise=this._preCreatedPromise.then(()=>{if(!this._isInErrorState()){const t=e();return this._updateComponentState(b.PostCreateCallback),t}return Promise.reject()}),this._createdPromise.then(()=>{this._updateComponentState(b.Complete)},e=>{if(this._updateComponentState(b.Incomplete),e)throw e}))}setBindingsDisposedCallback(e){this._disposedCallback=e}resolveBindingProvider(e){this._bpClean=e.__CleanNode,this._resolveBindingProviderCallback&&(this._bindingsApplied(),this._resolveBindingProviderCallback(e),this._resolveBindingProviderCallback=null,this._rejectBindingProviderCallback=null),this._bindingProvider=e}rejectBindingProvider(e){this._rejectBindingProviderCallback&&(this._rejectBindingProviderCallback(e),this._resolveBindingProviderCallback=null,this._rejectBindingProviderCallback=null)}disposeBindingProvider(){var e;this.isComplete()?null===(e=this._disposedCallback)||void 0===e||e.call(this):(this.rejectBindingProvider(),this._updateComponentState(b.BindingsDisposed))}setBindingProviderCallback(e){this._bindingProviderCallback=e}getBindingProviderPromise(){const e=this.getBindingProviderType();if(!this._bindingProviderPromise)if(i.verifyThemeVersion(),"none"===e||"preact"===e)this._bindingsApplied(),this._bindingProviderPromise=Promise.resolve(null);else{if("knockout"!==e)throw new l(this.Element,`Unknown binding provider '${e}'.`);this._bindingProvider?(this._bindingsApplied(),this._bindingProviderPromise=Promise.resolve(this._bindingProvider)):this._bindingProviderPromise=new Promise((e,t)=>{this._resolveBindingProviderCallback=e,this._rejectBindingProviderCallback=t})}return this._bindingProviderPromise}getBindingProvider(){return this._bindingProvider}getBindingProviderType(){return this._bindingProviderType||(this._bindingProviderType=E._walkBindingProviders(this.Element)),this._bindingProviderType}getUseKoFlag(){return void 0===this._useKoFlag&&(this._useKoFlag=E._findKoUseFlag(this.Element)),this._useKoFlag}getBindingProviderCleanNode(){return this._bpClean||E._NOOP}getDescriptiveText(){let e=this.GetDescriptiveValue("aria-label")||this.GetDescriptiveValue("title")||this.GetDescriptiveLabelByValue("labelled-by")||this.GetDescriptiveValue("label-hint")||this.GetDescriptiveLabelByValue("aria-labelledby");return e=e?e.trim().replace(/\s+/g," "):"",e}getSlotMap(e){return!this._slotMap&&e&&(this._slotMap=g.getSlotMap(this.Element)),this._slotMap}getSlotSet(){if(!this._slotSet){const e=Object.keys(this._slotMap);let t=[];e.forEach(e=>t=t.concat(this._slotMap[e])),this._slotSet=new Set(t)}return this._slotSet}setOuterClasses(e){this.PatchClasses(this._outerClasses,e),this._outerClasses=e}PatchClasses(e,t){e.forEach(e=>{t.has(e)||this.Element.classList.remove(e)}),t.forEach(t=>{e.has(t)||this.Element.classList.add(t)})}GetCreatedPromise(){return this._createdPromise}GetPreCreatedPromise(){let e=this.getBindingProviderPromise();return"none"!==this.getTrackChildrenOption()&&(e=e.then(e=>this._getTrackedChildrenPromises(e))),e}IsTransferAttribute(e){return!1}GetDescriptiveValue(e){const t=f.attributeToPropertyName(e),n=g.getElementProperties(this.Element);let r;return r=n&&n[t]?this.Element[t]:this.IsTransferAttribute(e)?this.GetDescriptiveTransferAttributeValue(e):this.Element.getAttribute(e),r}GetDescriptiveTransferAttributeValue(e){return""}GetDescriptiveLabelByValue(e){const t=this.GetDescriptiveValue(e);if(t){const e=document.getElementById(t);if(e)return e.textContent}return null}_updateComponentState(e){if(this._componentState!==b.BindingsDisposed){switch(e){case b.WaitingToCreate:this.Element.classList.remove("oj-complete"),this._createdPromise=null;break;case b.Complete:this.Element.classList.add("oj-complete"),this._resolveBusyState();break;case b.BindingsDisposed:case b.Incomplete:this.Element.classList.add("oj-incomplete"),this._resolveBusyState()}this._componentState=e}}_bindingsApplied(){var e;this._updateComponentState(b.BindingsApplied),null===(e=this._bindingProviderCallback)||void 0===e||e.call(this)}_registerBusyState(){const e=n.getContext(this.Element).getBusyContext();if(this._resolveCreatedBusyState)throw new l(this.Element,"Registering busy state before previous state is resolved.");this._resolveCreatedBusyState=e.addBusyState({description:g.getElementInfo(this.Element)+" is being upgraded."})}_resolveBusyState(){this._resolveCreatedBusyState&&(this._resolveCreatedBusyState(),this._resolveCreatedBusyState=null)}static _findKoUseFlag(e){return!!e.querySelector(":scope > template[data-oj-use-ko]")}static _walkBindingProviders(e,t=e){var n;let r=e[y];if(r)return r;if(r=e.getAttribute("data-oj-binding-provider"),!r){const i=e.parentElement;if(null==i){if(e!==document.documentElement)throw new l(t,"Cannot determine binding provider for a disconnected subtree.");r="knockout"}else r=null!==(n=i[v])&&void 0!==n?n:E._walkBindingProviders(i,t)}return e[y]=r,r}_getTrackedChildrenPromises(e){const t=this.getTrackChildrenOption(),i=n.getContext(this.Element).getBusyContext(),o=this._getChildrenToTrack(this.Element,t,[]).map(t=>{if(!e){const e=i.addBusyState({description:`Waiting for element ${t.localName} to be defined.`}),n=setInterval(()=>{r.warn(`Waiting for element ${t.localName} to be defined.`)},2e4);return customElements.whenDefined(t.localName).then(()=>(e(),clearInterval(n),g.isElementRegistered(t.tagName)?g.getElementState(t).GetCreatedPromise():null)).catch(r=>{throw e(),clearInterval(n),new Error(`Error defining element ${t.localName} : ${r}`)})}return g.isElementRegistered(t.tagName)?g.getElementState(t).GetCreatedPromise():null});return Promise.all(o)}_getChildrenToTrack(e,t,n){const r=e.childNodes;for(let e=0;e<r.length;e++){const i=r[e];s.isValidCustomElementName(i.localName)?n.push(i):"nearestCustomElement"===t&&this._getChildrenToTrack(i,t,n)}return n}_isInErrorState(){return this._componentState===b.Incomplete||this._componentState===b.BindingsDisposed}}var b;E._NOOP=()=>{},function(e){e[e.WaitingToCreate=0]="WaitingToCreate",e[e.Creating=1]="Creating",e[e.WaitingForBindings=2]="WaitingForBindings",e[e.ApplyingBindings=3]="ApplyingBindings",e[e.BindingsApplied=4]="BindingsApplied",e[e.PostCreateCallback=5]="PostCreateCallback",e[e.Complete=6]="Complete",e[e.Incomplete=7]="Incomplete",e[e.BindingsDisposed=8]="BindingsDisposed"}(b||(b={}));const T=Symbol("custom element null"),S=Symbol("custom element empty string");e.AttributeUtils=f,e.CACHED_BINDING_PROVIDER=y,e.CHILD_BINDING_PROVIDER=v,e.CustomElementUtils=g,e.ElementState=E,e.ElementUtils=s,e.JetElementError=l,e.toSymbolizedValue=e=>null===e?T:""===e?S:e,e.transformPreactValue=(e,t,n)=>{let r=(e=>e===T?null:e===S?"":e)(n);return""===r&&n!==S&&(r=((e,t,n)=>{if(!e||"preact"===g.getElementState(e).getBindingProviderType()){if(!s.getSupportedTypes(t.type).string||t.enumValues)return}return n})(e,t,r)),r},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojconfig",["require","exports","ojs/ojcore-base","ojL10n!ojtranslations/nls/ojtranslations","ojs/ojcustomelement-utils"],function(e,t,n,r,i){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const s={},a=Symbol(),l=Symbol(),u=Symbol();let c=r;s.getDeviceRenderMode=function(){return document.body.getAttribute("data-oj-device-render-mode")||s.getDeviceType()},s.getDeviceType=function(){return n.AgentUtils.getAgentInfo().deviceType},s.getLocale=function(){const e=c._ojLocale_;return"root"===e?"en":e},s.setLocale=function(t,r){var i="ojL10n!ojtranslations/nls/",s=i+t+"/ojtranslations";var a=[new Promise(function(t,n){e([s],function(e){t(o(e))},n)}).then(e=>{c=e})];if(n.LocaleData){var l=i+t+"/localeElements";const r=new Promise(function(t,n){e([l],function(e){t(o(e))},n)}).then(e=>{e&&n.LocaleData.__updateBundle(Object.assign({},e.default))});if(a.push(r),n.TimezoneData){var u=n.TimezoneData.__getBundleNames().map(n=>new Promise(function(r,s){e([`${i}${t}${n}`],function(e){r(o(e))},s)}));a.push(Promise.all(u).then(e=>{e.forEach(n.TimezoneData.__mergeIntoLocaleElements)}))}}Promise.all(a).then(()=>{r&&r()})},s.getResourceUrl=function(e){if(null==e||/^\/|:/.test(e))return e;var t=s._resourceBaseUrl;null==t&&(t=s._getOjBaseUrl()||"");var n=t.length;return t+(0===n||"/"===t.charAt(n-1)?"":"/")+e},s.setResourceBaseUrl=function(e){s._resourceBaseUrl=e},s.setAutomationMode=function(e){s._automationMode=e},s.getAutomationMode=function(){return s._automationMode},s.getVersionInfo=function(){var e="Oracle JET Version: "+n.version+"\n";e+="Oracle JET Revision: "+n.revision+"\n";var t="undefined"!=typeof window;return t&&window.navigator&&(e+="Browser: "+window.navigator.userAgent+"\n",e+="Browser Platform: "+window.navigator.platform+"\n"),$&&($.fn&&(e+="jQuery Version: "+$.fn.jquery+"\n"),$.ui&&$.ui.version&&(e+="jQuery UI Version: "+$.ui.version+"\n")),n.ComponentBinding&&(e+="Knockout Version: "+n.ComponentBinding.__getKnockoutVersion()+"\n"),t&&window.require&&(e+="Require Version: "+window.require.version+"\n"),e},s.logVersionInfo=function(){},s._getOjBaseUrl=function(){var t=null;void 0!==e&&e.toUrl&&(t=e.toUrl("ojs/_foo_").replace(/[^/]*$/,"../"));return t},s._getEngineByType=function(t){if(!s[t]){let n;switch(t){case l:n=new Promise(function(t,n){e(["ojs/ojtemplateengine-preact-ko"],function(e){t(o(e))},n)});break;case u:n=new Promise(function(t,n){e(["ojs/ojtemplateengine-preact"],function(e){t(o(e))},n)});break;case a:default:n=new Promise(function(t,n){e(["ojs/ojtemplateengine-ko"],function(e){t(o(e))},n)})}s[t]=n.then(e=>e.default)}return s[t]},s.__getTemplateEngine=function(e){let t;const n=i.CustomElementUtils.getElementState(e.customElement);return t="preact"!==n.getBindingProviderType()?s._getEngineByType(a):e.needsTrackableProperties||n.getUseKoFlag()?s._getEngineByType(l):s._getEngineByType(u),t},s.getConfigBundle=function(){return c},s.getExpressionEvaluator=function(){return s._expressionEvaluator},s.setExpressionEvaluator=function(e){if(s._expressionEvaluator)throw new Error("JET Expression evaluator can't be set more than once.");s._expressionEvaluator=e};const d=s.getDeviceRenderMode,h=s.getDeviceType,p=s.getLocale,f=s.setLocale,_=s.getResourceUrl,m=s.setResourceBaseUrl,g=s.setAutomationMode,v=s.getAutomationMode,y=s.getVersionInfo,E=s.logVersionInfo,b=s.setExpressionEvaluator,T=s.getExpressionEvaluator,S=s.getConfigBundle,C=s.__getTemplateEngine;t.__getTemplateEngine=C,t.getAutomationMode=v,t.getConfigBundle=S,t.getDeviceRenderMode=d,t.getDeviceType=h,t.getExpressionEvaluator=T,t.getLocale=p,t.getResourceUrl=_,t.getVersionInfo=y,t.logVersionInfo=E,t.setAutomationMode=g,t.setExpressionEvaluator=b,t.setLocale=f,t.setResourceBaseUrl=m,Object.defineProperty(t,"__esModule",{value:!0})}),define("ojs/ojresponsiveutils",["exports","ojs/ojcore-base","ojs/ojlogger"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={};t._registerLegacyNamespaceProp("ResponsiveUtils",r),r.SCREEN_RANGE={SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},r.FRAMEWORK_QUERY_KEY={SM_UP:"sm-up",MD_UP:"md-up",LG_UP:"lg-up",XL_UP:"xl-up",XXL_UP:"xxl-up",SM_ONLY:"sm-only",MD_ONLY:"md-only",LG_ONLY:"lg-only",XL_ONLY:"xl-only",MD_DOWN:"md-down",LG_DOWN:"lg-down",XL_DOWN:"xl-down",HIGH_RESOLUTION:"high-resolution"},r._RANGE={},r._RANGE[r.SCREEN_RANGE.SM]=0,r._RANGE[r.SCREEN_RANGE.MD]=1,r._RANGE[r.SCREEN_RANGE.LG]=2,r._RANGE[r.SCREEN_RANGE.XL]=3,r._RANGE[r.SCREEN_RANGE.XXL]=4,r._getMediaQueryFromClass=function(e){var t=document.getElementsByClassName(e).item(0);return null===t&&((t=document.createElement("meta")).className=e,document.head.appendChild(t)),window.getComputedStyle(t).getPropertyValue("font-family").replace(/^[/\\'"]+|(;\s?})+|[/\\'"]+$/g,"")},r.getFrameworkQuery=function(e){var t="oj-mq-"+e,i=r._getMediaQueryFromClass(t);return"null"===i?(n.warn("Framework query not found. Please check that the value of the theming variable$includeResponsiveMediaQueryClasses is set to true, if itis set to false the media queries are not sent down to the browser."),null):i},r.compare=function(e,t){var n=r._RANGE[e],i=r._RANGE[t];if(null==n)throw new Error("size1 param "+e+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD");if(null==i)throw new Error("size2 param "+t+" illegal, please use one of the screen size constants like oj.ResponsiveUtils.SCREEN_RANGE.MD");return n-i};const i=r.compare,o=r.getFrameworkQuery,s=r.SCREEN_RANGE,a=r.FRAMEWORK_QUERY_KEY;e.FRAMEWORK_QUERY_KEY=a,e.SCREEN_RANGE=s,e.compare=i,e.getFrameworkQuery=o,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojtimerutils",["exports"],function(e){"use strict";const t={};function n(){}n.prototype.getPromise=function(){},n.prototype.clear=function(){},t.getTimer=function(e){return new t._TimerImpl(e)},t._TimerImpl=function(e){var t,n,r;function i(e){r=null,n(e)}this.getPromise=function(){return t},this.clear=function(){window.clearTimeout(r),r=null,i(!1)},t="undefined"==typeof window?Promise.reject():new Promise(function(t){n=t,r=window.setTimeout(i.bind(null,!0),e)})};const r=t.getTimer;e.getTimer=r,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojtranslation",["exports","ojs/ojcore-base","ojs/ojconfig"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={setBundle:function(e){r._bundle=e},getResource:function(e){return r._getResourceString(e)},applyParameters:function(e,t){return null==e?"":r._format(e,t)},getTranslatedString:function(e,t){var n=r._getResourceString(e);if(null==n)return e;var i={};return arguments.length>2?i=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(i=arguments[1])||i instanceof Array||(i=[i])),r.applyParameters(n,i)},getComponentTranslations:function(e){var t=r._getBundle()[e];if(null==t)return{};for(var n={},i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];n[s]=t[s]}return n},_getResourceString:function(e){var n=e?e.split("."):[],i=r._getBundle();t.Assert.assertObject(i);for(var o=0;o<n.length&&null!=i;o++){i=i[n[o]]}return null!=i?i:null},_format:function(e,t){var n,r,i=e.length,o=[],s=null,a=!1,l=!1,u=!1,c=!1;for(r=0;r<i;r++){var d=e.charAt(r),h=!1;if(a)h=!0,a=!1;else switch(d){case"$":a=!0;break;case"{":c||(l||(n=!1,s=[]),l=!0);break;case"}":if(l&&s.length>0){var p=t[s.join("")];o.push(void 0===p?"null":p)}l=!1;break;case"[":l||(u?c=!0:u=!0);break;case"]":c?c=!1:u=!1;break;default:h=!0}h&&(l?","===d||" "===d?n=!0:n||s.push(d):c||o.push(d))}return o.join("")},_getBundle:function(){var e=r._bundle;return e||n.getConfigBundle()}},i=r.setBundle,o=r.getResource,s=r.applyParameters,a=r.getTranslatedString,l=r.getComponentTranslations;e.applyParameters=s,e.getComponentTranslations=l,e.getResource=o,e.getTranslatedString=a,e.setBundle=i,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojcore",["ojs/ojcore-base","ojs/ojlogger","ojs/ojcontext","ojs/ojconfig","ojs/ojresponsiveutils","ojs/ojthemeutils","ojs/ojtimerutils","ojs/ojtranslation"],function(e,t,n,r,i,o,s,a){"use strict";return e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,e._registerLegacyNamespaceProp("Logger",t),e._registerLegacyNamespaceProp("Context",n),e._registerLegacyNamespaceProp("Config",r),e._registerLegacyNamespaceProp("ResponsiveUtils",i),e._registerLegacyNamespaceProp("ThemeUtils",o),e._registerLegacyNamespaceProp("TimerUtils",s),e._registerLegacyNamespaceProp("Translations",a),e}),define("ojs/ojmessaging",["ojs/ojcore-base","jquery"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const n=function(e,t,n){this.Init(e,t,n)};e._registerLegacyNamespaceProp("Message",n),n.SEVERITY_TYPE={CONFIRMATION:"confirmation",INFO:"info",WARNING:"warning",ERROR:"error",FATAL:"fatal"},n.SEVERITY_LEVEL={FATAL:5,ERROR:4,WARNING:3,INFO:2,CONFIRMATION:1},e.Object.createSubclass(n,e.Object,"Message"),n.prototype.Init=function(e,t,r){n.superclass.Init.call(this),this.summary=e,this.detail=t,this.severity=r||n.SEVERITY_TYPE.ERROR},n.getSeverityLevel=function(e){var t=e;if(t)if("string"==typeof e){var r=n._LEVEL_TO_TYPE.indexOf(t,1);t=-1===r?n.SEVERITY_LEVEL.ERROR:r}else"number"==typeof t&&(t<n.SEVERITY_LEVEL.CONFIRMATION||t>n.SEVERITY_LEVEL.FATAL)&&(t=n.SEVERITY_LEVEL.ERROR);return t||n.SEVERITY_LEVEL.ERROR},n.getSeverityType=function(e){var t=e;t&&("string"==typeof t?-1===n._LEVEL_TO_TYPE.indexOf(t,1)&&(t=n.SEVERITY_TYPE.ERROR):"number"==typeof t&&(t=t<n.SEVERITY_LEVEL.CONFIRMATION||t>n.SEVERITY_LEVEL.FATAL?n.SEVERITY_TYPE.ERROR:n._LEVEL_TO_TYPE[e]));return t||n.SEVERITY_TYPE.ERROR},n.getMaxSeverity=function(e){var r=-1;return e&&e.length>0&&t.each(e,function(e,t){var i=n.getSeverityLevel(t.severity);r=r<i?i:r}),r},n.isValid=function(e){return!(n.getMaxSeverity(e)>=n.SEVERITY_LEVEL.ERROR)},n._LEVEL_TO_TYPE=["none",n.SEVERITY_TYPE.CONFIRMATION,n.SEVERITY_TYPE.INFO,n.SEVERITY_TYPE.WARNING,n.SEVERITY_TYPE.ERROR,n.SEVERITY_TYPE.FATAL];const r=function(e,t,n,r){this.Init(e,t,n,r)};return e.Object.createSubclass(r,n,"ComponentMessage"),r._DEFAULT_OPTIONS={display:(r.DISPLAY={SHOWN:"shown",HIDDEN:"hidden"}).SHOWN,context:""},r.prototype.Init=function(e,n,i,o){r.superclass.Init.call(this,e,n,i),this._options=t.extend({},r._DEFAULT_OPTIONS,o)},r.prototype.clone=function(){return new r(this.summary,this.detail,this.severity,this._options)},r.prototype.canDisplay=function(){return!(this._options&&this._options.display&&this._options.display===r.DISPLAY.HIDDEN)},r.prototype._forceDisplayToShown=function(){return!(!this._options||r.DISPLAY.HIDDEN!==this._options.display)&&(this._options.display=r.DISPLAY.SHOWN,!0)},r.prototype._isMessageAddedByComponent=function(){return!(!this._options||!this._options.context)},n.ComponentMessage=r,n}),define("ojs/ojmetadatautils",["exports","ojs/ojcore-base","ojs/ojcustomelement-utils"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={};r.getDefaultValue=function(e,n){let i=e.value;if(void 0===i){const t=e.properties;if(t){const n={},o=Object.keys(t);for(let e=0;e<o.length;e++){const i=r.getDefaultValue(t[o[e]]);void 0!==i&&(n[o[e]]=i)}Object.keys(n).length>0&&(e.value=n,i=n)}}return void 0!==i&&(Array.isArray(i)?i=n?r.deepFreeze(i):i.slice():null!==i&&"object"==typeof i&&(i=n?r.deepFreeze(i):t.CollectionUtils.copyInto({},i,void 0,!0))),i},r.getDefaultValues=function(e,t){const n={},i=Object.keys(e);let o=!1;return i.forEach(function(i){const s=r.getDefaultValue(e[i],t);void 0!==s&&(n[i]=s,o=!0)}),o?n:null},r.deepFreeze=function(e){if(Object.isFrozen(e))return e;if(Array.isArray(e))e=e.map(e=>r.deepFreeze(e)),Object.freeze(e);else if(null!==e&&"object"==typeof e){const n=Object.getPrototypeOf(e);null!==n&&n!==Object.prototype||(t=e,Object.prototype.hasOwnProperty.call(t,"$$typeof"))||(Object.keys(e).forEach(function(t){e[t]=r.deepFreeze(e[t])}),Object.freeze(e))}var t;return e},r.getPropertyMetadata=function(e,t){let n=t;if(n&&e){const t=e.split(".");for(let e=0;e<t.length&&(n=n[t[e]],n&&1!==t.length&&e!==t.length-1&&n.properties);e++)n=n.properties}return n},r.checkEnumValues=function(e,t,n,r){if("string"==typeof n&&r){const e=r.enumValues;if(e&&-1===e.indexOf(n))throw new Error(`Invalid value '${n}' found for property '${t}'.Expected one of the following '${e.toString()}'.`)}},r.getFlattenedAttributes=function(e){const t=[];return r._getAttributesFromProperties("",e,t),t},r._getAttributesFromProperties=function(e,t,i){if(t){Object.keys(t).forEach(o=>{const s=t[o],a=e+o;i.push(n.AttributeUtils.propertyNameToAttribute(a)),s.properties&&r._getAttributesFromProperties(a+".",s.properties,i)})}};const i=r.getDefaultValue,o=r.getDefaultValues,s=r.deepFreeze,a=r.getPropertyMetadata,l=r.checkEnumValues,u=r.getFlattenedAttributes;e.checkEnumValues=l,e.deepFreeze=s,e.getDefaultValue=i,e.getDefaultValues=o,e.getFlattenedAttributes=u,e.getPropertyMetadata=a,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojdefaultsutils",["exports","ojs/ojmetadatautils"],function(e,t){"use strict";function n(e,t,n){let o=e._defaults;if(void 0===o){const s=r(e,t,n);o=Object.create(s),i(e,o),e._defaults=o}return o}function r(e,n,r){var i;let o=e._staticDefaults;if(void 0===o){if(o=null,n){const e=n.properties,s=null===(i=n.extension)||void 0===i?void 0:i._DEFAULTS;if(s){const e=new s;o=Object.create(e)}else e&&(o=Object.create(t.getDefaultValues(e,r)))}e._staticDefaults=o}return o}function i(e,t){if(e.getDynamicDefaults){const n=e.getDynamicDefaults();if(n)for(let e in n)void 0===t[e]&&(t[e]=n[e])}}var o=Object.freeze({__proto__:null,getFrozenDefault:function(e,r,i){const o=n(r,i,!0);return t.deepFreeze(o[e])},getDefaults:n,getStaticDefaults:r,applyDynamicDefaults:i});e.DefaultsUtils=o,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojbootstrap",["exports"],function(e){"use strict";var t;const n={whenDocumentReady:function(){return t||(t="loading"===document.readyState?new Promise(function(e){var t=function(){document.removeEventListener("DOMContentLoaded",t),e()};document.addEventListener("DOMContentLoaded",t)}):Promise.resolve()),t}}.whenDocumentReady;e.whenDocumentReady=n,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojcustomelement",["ojs/ojcore","ojs/ojlogger","ojs/ojcustomelement-utils","ojs/ojmetadatautils","ojs/ojbootstrap","ojs/ojcore-base"],function(e,t,n,r,i,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const s={};s.proto={getClass:function(e){var t=Object.create(HTMLElement.prototype);this.InitializePrototype(t);var r=this.GetMetadata(e);s._enumerateMetadataForKey(t,r,"properties",this.DefinePropertyCallback.bind(this)),s._enumerateMetadataForKey(t,r,"methods",this.DefineMethodCallback.bind(this)),this.AddComponentMethods(t),t.setProperties=function(e){n.CustomElementUtils.getElementBridge(this)._setProperties(this,e)},Object.defineProperty(t,"set",{value:function(e,t){this.setProperty(e,t)}}),Object.defineProperty(t,"unset",{value:function(e){this.setProperty(e,void 0)}}),t.attributeChangedCallback=this.AttributeChangedCallback,t.connectedCallback=this._connectedCallback,t.disconnectedCallback=this._detachedCallback;const i=t.appendChild;t.appendChild=function(e){return n.CustomElementUtils.canRelocateNode(this,e)?i.call(this,e):e};const o=t.insertBefore;t.insertBefore=function(e,t){return n.CustomElementUtils.canRelocateNode(this,e)?o.call(this,e,t):e},t.setAttribute=function(e,t){if("class"===e){const e=n.CustomElementUtils.getClassSet(t);n.CustomElementUtils.getElementState(this).setOuterClasses(e)}else HTMLElement.prototype.setAttribute.call(this,e,t)},t.removeAttribute=function(e){"class"===e?this.setAttribute("class",""):HTMLElement.prototype.removeAttribute.call(this,e)};var a=function(){var e=window.Reflect;return void 0!==e?e.construct(HTMLElement,[],this.constructor):HTMLElement.call(this)},l=this;return Object.defineProperty(a,"observedAttributes",{get:function(){return l.GetAttributes(r)}}),Object.defineProperty(t,"constructor",{value:a,writable:!0,configurable:!0}),a.prototype=t,Object.setPrototypeOf(a,HTMLElement),a},initializeBridge:function(e,t){this.METADATA=this.GetMetadata(t),this._eventListeners={},this.State=n.CustomElementUtils.getElementState(e)},AddComponentMethods:function(e){},AttributeChangedCallback:function(e,i,o){const a=n.AttributeUtils.attributeToPropertyName(e),l=n.CustomElementUtils.getElementBridge(this);if(i!==o||l.State.dirtyProps.has(a)){if(l.State.dirtyProps.delete(a.split(".")[0]),"disabled"===e&&l.ShouldRemoveDisabled()&&l._isDisabledAttributeRemoved())return void(null!=o&&(t.warn("Ignoring 'disabled' attribute change after component initialization. Use element property setter instead."),l._removeDisabledAttribute(this)));if(l.ShouldHandleAttributeChanged(this)){s.__CheckOverlappingAttribute(this,e),null===o&&(o=void 0);var u={detail:{attribute:e,value:o,previousValue:i}};if(this.dispatchEvent(new CustomEvent("attribute-changed",u)),!n.AttributeUtils.getExpressionInfo(o).expr){const t=r.getPropertyMetadata(a,n.CustomElementUtils.getElementProperties(this));t&&this.setProperty(a,s.__ParseAttrValue(this,e,a,o,t)),l.HandleAttributeChanged(this,e,i,o)}}}},CreateComponent:function(e){},DefineMethodCallback:function(e,t,n){},DefinePropertyCallback:function(e,t,n){},GetAttributes:function(e){return e?r.getFlattenedAttributes(e.properties):[]},GetMetadata:function(e){return e[s.DESC_KEY_META]||{}},GetAliasForProperty:function(e){return e},ShouldHandleAttributeChanged:function(e){return this.State.canHandleAttributes()},ShouldCallHandleAttributeChanged:function(e){return this.ShouldHandleAttributeChanged()},HandleAttributeChanged:function(e,t,n,r){},HandleBindingsApplied:function(e,t){},HandleDetached:function(e){},HandleReattached:function(e){},InitializeElement:function(e){},InitializePrototype:function(e){},BatchedPropertySet:function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];e.setProperty(i,t[i])}},GetEventListenerProperty:function(e){var t=n.AttributeUtils.eventListenerPropertyToEventType(e),r=this._eventListeners[t];if(r)return r.getListener()},GetProperty:function(e,t,i){var o=r.getPropertyMetadata(t,n.CustomElementUtils.getElementProperties(e));return n.AttributeUtils.isEventListenerProperty(t)||!o||-1===t.indexOf(".")?i[t]:n.CustomElementUtils.getPropertyValue(i,t)},HandlePropertyChanged:function(e,t,n,r,i,o){var a=i?"external":"internal";s.__FirePropertyChangeEvent(e,t,n,r,a,o)},PlaybackEarlyPropertySets:function(e){if(this._earlySets){const t=n.CustomElementUtils.getElementDescriptor(e.tagName),r=this.GetMetadata(t);for(;this._earlySets.length;){const t=this._earlySets.shift(),i=n.transformPreactValue(e,r.properties[t.property],t.value);e.setProperty(t.property,i)}}},SaveEarlyPropertySet:function(e,t,n){return!this.State.allowPropertySets()&&(this._earlySets||(this._earlySets=[]),this._earlySets.push({property:t,value:n}),!0)},SetEventListenerProperty:function(e,t,r){var i=n.AttributeUtils.eventListenerPropertyToEventType(t),o=this._eventListeners[i];o||(o=this._createEventListenerWrapper(),this._eventListeners[i]=o,e.addEventListener(i,o)),null==r||r instanceof Function?o.setListener(r):s.__ThrowTypeError(e,t,r,"function")},SetProperty:function(t,i,o,a,l){var u=r.getPropertyMetadata(i,n.CustomElementUtils.getElementProperties(t));if(n.AttributeUtils.isEventListenerProperty(i)||!u)t[i]=o;else{var c=t.getProperty(i),d=i.split(".")[0],h=a[d];if(e.CollectionUtils.isPlainObject(h)&&(h=e.CollectionUtils.copyInto({},h,void 0,!0)),!n.ElementUtils.comparePropertyValues(u,o,c)){var p=-1!==i.indexOf(".");if(p&&(this._SKIP_PROP_CHANGE_EVENT=!0),l?this.ValidateAndSetProperty(this.GetAliasForProperty.bind(this),a,i,o,t):s.__SetProperty(this.GetAliasForProperty.bind(this),a,i,o),this._SKIP_PROP_CHANGE_EVENT=!1,p){var f={path:i,value:o,previousValue:c};this.HandlePropertyChanged(t,d,a[d],h,l,f)}return this.State.dirtyProps.add(d),{property:d,propertySet:!0,isSubproperty:p}}}return{property:null,propertySet:!1,isSubproperty:!1}},ShouldRemoveDisabled:function(){return!0},ValidateAndSetProperty:function(e,t,n,r,i){var o=this.ValidatePropertySet(i,n,r);s.__SetProperty(e,t,n,o)},ValidatePropertySet:function(e,i,o){var a=n.CustomElementUtils.getElementProperties(e),l=r.getPropertyMetadata(i,a),u=i.split(".");if(l){if(a[u[0]].readOnly)throw new n.JetElementError(e,`Read-only property '${i}' cannot be set.`);try{r.checkEnumValues(e,i,o,l)}catch(t){throw new n.JetElementError(e,t.message)}return null!=o?s.checkType(e,i,o,l):o}t.warn(n.CustomElementUtils.getElementInfo(e)+": Ignoring property set for undefined property '"+i+"'.")},PostCreate:function(e){e.hasAttribute("disabled")&&this.ShouldRemoveDisabled()&&!this._isDisabledAttributeRemoved()&&this._removeDisabledAttribute(e)},_connected:function(e){const t=this.State;if(t.isComplete())this.HandleReattached(e);else if(t.startCreationCycle(),t.isCreating()){this.InitializeElement(e),t.setBindingProviderCallback(this.PlaybackEarlyPropertySets.bind(this,e));const n=()=>{try{t.getSlotMap(!0);return(this.CreateComponent(e)||Promise.resolve()).then(this.PostCreate.bind(this,e))}catch(e){return Promise.reject(e)}};t.setCreateCallback(n)}},_connectedCallback:function(){n.CustomElementUtils.getElementBridge(this)._connected(this)},_detachedCallback:function(){const e=n.CustomElementUtils.getElementBridge(this),t=e.State;t.isComplete()?e.HandleDetached(this):t.pauseCreationCycle()},_createEventListenerWrapper:function(){var e,t=function(t){e&&e(t)};return t.setListener=function(t){e=t},t.getListener=function(){return e},t},_setProperties:function(e,t){for(var n=[],r={},i=!1,o=Object.keys(t),s=0;s<o.length;s++){var a=o[s];a.indexOf(".")>=0?n.push(a):(r[a]=t[a],i=!0)}i&&this.BatchedPropertySet(e,r);for(var l=0;l<n.length;l++){var u=n[l];e.setProperty(u,t[u])}},_isDisabledAttributeRemoved:function(){return!0===this._disabledProcessed},_removeDisabledAttribute:function(e){this._disabledProcessed=!0,e.removeAttribute("disabled")}},s._enumerateMetadataForKey=function(e,t,n,r){if(t&&t[n]){var i=t[n];Object.keys(i).forEach(function(t){r(e,t,i[t])})}},s.checkType=function(e,t,r,i){const o=i.type,a=n.ElementUtils.getSupportedTypes(o);if(1===a.typeCount&&!a.any&&!a.other){const n=typeof r;if(a.array&&!Array.isArray(r)||a.object&&"object"!==n||a.string&&"string"!==n||a.number&&("number"!==n||!isFinite(r)))s.__ThrowTypeError(e,t,r,o);else if(a.boolean)return!!r}return r},s.__ThrowTypeError=function(e,t,r,i){throw new n.JetElementError(e,`Invalid type '${typeof r}' found for property '${t}'. Expected value of type '${i}'.`)},s.__CheckOverlappingAttribute=function(e,t){var r=t.split(".");if(r.length>1)for(r.pop();r.length;){var i=r.join(".");if(e.hasAttribute(i))throw new n.JetElementError(e,`Cannot set overlapping attributes '${t}' and '${i}'.`);r.pop()}},s.__InitProperties=function(e,t){const i=n.CustomElementUtils.getElementBridge(e);var o=n.CustomElementUtils.getElementProperties(e);if(o)for(var a=e.attributes,l=0;l<a.length;l++){var u=a[l],c=n.AttributeUtils.attributeToPropertyName(u.nodeName),d=r.getPropertyMetadata(c,o);if(d&&!d.readOnly)if(s.__CheckOverlappingAttribute(e,u.nodeName),!n.AttributeUtils.getExpressionInfo(u.value).expr){var h=s.__ParseAttrValue(e,u.nodeName,c,u.value,d);i.ValidateAndSetProperty(i.GetAliasForProperty.bind(i),t,c,h,e)}}},s.__SetProperty=function(e,t,n,r){var i,o=t,s=n.split("."),a=e(s[0]);s.length>1&&!t[a]&&(o=i={});for(var l=0;l<s.length;l++){var u=e(s[l]);l===s.length-1?o[u]=r:o[u]||(o[u]={}),o=o[u]}i&&(t[a]=i[a])},s.__ParseAttrValue=function(e,t,r,i,o){if(null==i)return i;function s(r){return n.AttributeUtils.attributeToPropertyValue(e,t,r,o)}var a=n.CustomElementUtils.getElementDescriptor(e.tagName).parseFunction;return a?a(i,r,o,function(e){return s(e)}):s(i)},s.__ProcessEventListeners=function(t){var r=e.CollectionUtils.copyInto({},t,void 0,!0,1);return r.properties=r.properties||{},s._enumerateMetadataForKey(null,r,"properties",function(e,t){var i=n.AttributeUtils.propertyNameToChangeEventType(t),o=n.AttributeUtils.eventTypeToEventListenerProperty(i);r.properties[o]={_derived:!0,_eventListener:!0}}),s._enumerateMetadataForKey(null,r,"events",function(e,t){var i=n.AttributeUtils.eventTypeToEventListenerProperty(t);r.properties[i]={_derived:!0,_eventListener:!0}}),r},s.__FirePropertyChangeEvent=function(e,t,r,i,o,s){var a=n.CustomElementUtils.getElementBridge(e);if(!a._SKIP_PROP_CHANGE_EVENT){var l={};s&&(l.subproperty=s),l.value=r,l.previousValue=i,l.updatedFrom=o,a.beforePropertyChangedEvent&&a.beforePropertyChangedEvent(e,t,l),("external"!==o||a.State.isComplete())&&e.dispatchEvent(new CustomEvent(t+"Changed",{detail:l}))}},s.__DefineDynamicObjectProperty=function(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,get:n,set:r})},s.DESC_KEY_META="metadata",e._registerLegacyNamespaceProp("BaseCustomElementBridge",s),i.whenDocumentReady().then(function(){!function(){var e=document.createElement("div");e.style.border="1px solid",e.style.borderColor="red green",e.style.position="absolute",e.style.top="-999px",e.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=)";var t=document.body;t.appendChild(e);var n=window.getComputedStyle(e),r=n.backgroundImage;n.borderTopColor!==n.borderRightColor&&(null==r||"none"!==r&&"url (invalid-url:)"!==r)||t.classList.add("oj-hicontrast"),t.removeChild(e)}()}),i.whenDocumentReady().then(function(){!function(){let e=[];const t=o.AgentUtils.getAgentInfo();e.push("oj-agent-os-"+t.os.toLowerCase()),e.push("oj-agent-browser-"+t.browser.toLowerCase()),document.documentElement.classList.add(...e)}()})}),define("ojs/ojdomutils",["exports","ojs/ojthemeutils","ojs/ojcore-base","jquery"],function(e,t,n,r){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const i={_HTML_START_TAG:"<html>",_HTML_END_TAG:"</html>",_LEGAL_ELEMENTS:{SPAN:1,B:1,I:1,EM:1,BR:1,HR:1,LI:1,OL:1,UL:1,P:1,TT:1,BIG:1,SMALL:1,PRE:1},_LEGAL_ATTRIBUTES:{class:1,style:1}};var o,s,a,l,u,c,d;i.isHTMLContent=function(e){return 0===e.indexOf(i._HTML_START_TAG)&&e.lastIndexOf(i._HTML_END_TAG)===e.length-7},i.cleanHtml=function(e){var t=r(document.createElement("span")).get(0);return t.innerHTML=e,e&&e.indexOf("<")>=0&&i._cleanElementHtml(t),t},i._cleanElementHtml=function(e){for(var t=e.childNodes,n=t.length-1;n>=0;n--){var o=t.item(n);if(o&&1===o.nodeType)if(i._LEGAL_ELEMENTS[o.nodeName]){for(var s=o.attributes,a=s.length-1;a>=0;a--){var l=s[a];void 0!==r(o).attr(l.name)&&(i._LEGAL_ATTRIBUTES[l.name]||o.removeAttribute(l.nodeName))}i._cleanElementHtml(o)}else o&&e.removeChild(o)}},i.isAncestor=function(e,t){for(var n=t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1},i.isAncestorOrSelf=function(e,t){return t===e||i.isAncestor(e,t)},i.addResizeListener=function(e,t,n,r){let o=i._RSZ_TRKR;r&&(o=i._RSZ_TRKR_OBS,i._OBS_BASED.set(t,!0));let s=o.get(e);null==s&&(s=new i._ResizeTracker(e,r),o.set(e,s),s.start()),s.addListener(t,n)},i.removeResizeListener=function(e,t){const n=i._OBS_BASED.get(t)?i._RSZ_TRKR_OBS:i._RSZ_TRKR,r=n.get(e);null!=r&&(r.removeListener(t),r.isEmpty()&&(r.stop(),n.delete(e)))},i.fixResizeListeners=function(e){r(e).find(".oj-helper-detect-expansion").parent().each(function(e,t){var n=i._RSZ_TRKR.get(t);null!=n&&n.init(!0)})},i.isMetaKeyPressed=function(e){var t=n.AgentUtils.getAgentInfo();return n.AgentUtils.OS.MAC===t.os?e.metaKey:e.ctrlKey},i.dispatchEvent=function(e,t){var n="disabled",r=e[n];try{e[n]=!1,e.dispatchEvent(t)}finally{e[n]=r}},i._invokeAfterPaint=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,0)}).bind(window),i._cancelInvokeAfterPaint=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(e){return window.clearTimeout(e)}).bind(window),i._ResizeTracker=function(e,t){e instanceof r&&(e=e[0]);var n=e.hasAttribute("data-oj-resize-notify"),o=r.Callbacks(),s=[],a=[],l=0,u=null,c=null,d=null,h=null,p=null,f=null,_=null;function m(e){var t=!1;if(null!=h.offsetParent){var n=h.offsetWidth,r=h.offsetHeight;c===n&&d===r||(l=2,E(n,r),t=!0,e&&v(!0))}return t}function g(t){const n=t[0].borderBoxSize;v(!1,[n?(n[0]||n).inlineSize:e.offsetWidth,n?(n[0]||n).blockSize:e.offsetHeight])}function v(t,r){var a=r?r[0]:e.offsetWidth,l=r?r[1]:e.offsetHeight,c=(t,r)=>{o.fire(t,r),n&&e.dispatchEvent(new Event("oj-resize"))};o.has()&&(t?(null!==u&&i._cancelInvokeAfterPaint(u),u=i._invokeAfterPaint(function(){u=null,c(a,l)})):c(a,l));for(var d=0;d<s.length;d++)s[d].getCallback()(a,l)}function y(e){e.stopPropagation(),m(!0)||l>0&&null!=h.offsetParent&&(0===h.scrollLeft||0===h.scrollTop)&&(l-=1,E(c,d))}function E(e,t){c=e,d=t;var n=h.firstChild.style,r=1;do{n.width=e+r+"px",n.height=t+r+"px",h.scrollLeft=r,h.scrollTop=r,r+=1}while((0===h.scrollTop||0===h.scrollLeft)&&r<=5);p.scrollLeft=e,p.scrollTop=t}this.addListener=function(t,r){if(void 0===r||isNaN(r)||0===r)o.add(t);else{var l=()=>{t.apply(null,arguments),e.dispatchEvent(new Event("oj-resize"))};s.push(new i._collapsingListenerManager(n?l:t,r)),a.push(t)}},this.removeListener=function(e){var t=a.indexOf(e);t>=0?(a.splice(t,1),s.splice(t,1)[0].stop()):o.remove(e)},this.isEmpty=function(){return!o.has()&&0===a.length},this.start=function(){if(t&&window.ResizeObserver instanceof Function)(_=new ResizeObserver(g)).observe(e,{box:"border-box"});else{f=y;var n=e.childNodes[0];(h=document.createElement("div")).className="oj-helper-detect-expansion";var r=document.createElement("div");h.appendChild(r),null!=n?e.insertBefore(h,n):e.appendChild(h),h.addEventListener("scroll",f,!1),(p=document.createElement("div")).className="oj-helper-detect-contraction";var i=document.createElement("div");i.style.width="200%",i.style.height="200%",p.appendChild(i),e.insertBefore(p,h),p.addEventListener("scroll",f,!1),this.init(!1)}},this.stop=function(){null!=u&&(i._cancelInvokeAfterPaint(u),u=null),null!=_?(_.disconnect(),_=null):null!=h&&(h.removeEventListener("scroll",f),p.removeEventListener("scroll",f),h.parentNode&&e.removeChild(h),p.parentNode&&e.removeChild(p))},this.init=function(e){if(h){var t=m(e);e&&!t&&null!=h.offsetParent&&E(c,d)}}},i._RSZ_TRKR=new WeakMap,i._RSZ_TRKR_OBS=new WeakMap,i._OBS_BASED=new WeakMap,i.isValidIdentifier=function(e){return/^[A-Za-z][0-9A-Z_a-z-]*$/.test(e)},i._collapsingListenerManager=function(e,t){var n=null,r=null,i=function(){e.apply(null,n),r=null},o=function(){n=Array.prototype.slice.call(arguments),null==r&&(r=window.setTimeout(i,t))};this.getCallback=function(){return o},this.stop=function(){null!=r&&(window.clearTimeout(r),r=null)}},i.isTouchSupported=function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints>0},i.setInKoCleanExternal=function(e){i._koCleanNode=e},i.unwrap=function(e,t){var n=i._koCleanNode;n&&e.get(0)===n||(t?t.replaceWith(e):e.unwrap())},i.isChromeEvent=function(e){if(!("clientX"in e)||!("clientY"in e))return!1;var t=n.AgentUtils.getAgentInfo();if(n.AgentUtils.OS.ANDROID===t.os||n.AgentUtils.OS.IOS===t.os)return!1;if(t.engine!==n.AgentUtils.ENGINE.GECKO&&t.engine!==n.AgentUtils.ENGINE.WEBKIT&&t.engine!==n.AgentUtils.ENGINE.BLINK&&t.browser!==n.AgentUtils.BROWSER.IE)return!1;var o="ltr"===i.getReadingDirection(),s=!o&&t.browser===n.AgentUtils.BROWSER.SAFARI,a=e.target,l=r(a),u=a.getBoundingClientRect(),c=i.getScrollBarWidth();return!(!o||"HTML"!==a.nodeName&&"visible"===l.css("overflow-x")||!(e.clientX>u.right-c))||(!o&&!s&&"HTML"===a.nodeName&&e.clientX>u.right-c||(!o&&"visible"!==l.css("overflow-x")&&e.clientX<u.left+c||("HTML"===a.nodeName||"visible"!==l.css("overflow-y"))&&e.clientY>u.bottom-c))},i.getScrollBarWidth=function(){return r.position.scrollbarWidth()},i.getReadingDirection=function(){var e=document.documentElement.getAttribute("dir");return e&&(e=e.toLowerCase()),"rtl"===e?"rtl":"ltr"},i.setScrollLeft=function(e,t){e.scrollLeft=i.calculateScrollLeft(t)},i.calculateScrollLeft=function(e){var t=e;if("rtl"===i.getReadingDirection()){var r=n.AgentUtils.getAgentInfo().browser;r!==n.AgentUtils.BROWSER.IE&&r!==n.AgentUtils.BROWSER.EDGE&&(t=-e)}return t},i.getCSSLengthAsInt=function(e){if(!isNaN(e))return parseInt(e,10);if(e&&e.length>0&&"auto"!==e){var t=parseInt(e,10);return isNaN(t)&&(t=0),t}return 0},i.getCSSLengthAsFloat=function(e){if(!isNaN(e))return parseFloat(e);if(e&&e.length>0){var t=parseFloat(e);return isNaN(t)&&(t=0),t}return 0},i.getCSSTimeUnitAsMillis=function(e){if(!isNaN(e))return parseInt(e,10);if(e&&e.length>0){var t=parseFloat(e);if(isNaN(t))t=0;else{var n,r=e+"";r.length>2&&r.endsWith("ms")?n=r.slice(-3,-2):r.length>1&&r.endsWith("s")&&(n=r.slice(-2,-1)),isNaN(n)?t=0:!r.endsWith("ms")&&r.endsWith("s")&&(t*=1e3)}return t}return 0},i._LOGICAL_PARENT_DATA="oj-logical-parent",i.getLogicalParent=function(e){if(e)return e.data(i._LOGICAL_PARENT_DATA)},i.setLogicalParent=function(e,t){e&&(null===t?e.removeData(i._LOGICAL_PARENT_DATA):e.data(i._LOGICAL_PARENT_DATA,t))},i.isLogicalAncestorOrSelf=function(e,t){n.Assert.assertDomElement(e),n.Assert.assertDomElement(t);for(var o=t;o;){if(o===e)return!0;var s=i.getLogicalParent(r(o));o=s?s[0]:o.parentNode}return!1},i.validateURL=function(e,t){var n=t||["http:","https:"],r=document.createElement("a");r.href=e;var i=r.protocol;if(null!=i&&(i=i.toLowerCase()),n.indexOf(i)<0&&""!==i)throw new Error(i+" is not a valid URL protocol")},i._suppressNativeContextMenu=function(){r(document.body).hasClass("oj-hybrid")&&!r(document.body).hasClass("oj-hybrid-show-context-menu")&&document.body.addEventListener("contextmenu",function(e){"INPUT"!==e.target.nodeName&&"TEXTAREA"!==e.target.nodeName&&e.preventDefault()},!0)},i._suppressNativeContextMenu(),i.PRESS_HOLD_THRESHOLD=750,i.recentTouchEnd=function(){var e=0;function t(){e=Date.now()}return document.addEventListener("touchend",t,!0),document.addEventListener("touchcancel",t,!0),function(){return Date.now()-e<500}}(),i.recentTouchStart=(o=0,s=i.PRESS_HOLD_THRESHOLD+50,document.addEventListener("touchstart",function(){o=Date.now()},{passive:!0,capture:!0}),function(){return Date.now()-o<s}),i.recentPointer=(l=0,u=i.PRESS_HOLD_THRESHOLD+600,document.addEventListener("mousedown",function(){var e=Date.now();(!a||e>l+i.PRESS_HOLD_THRESHOLD)&&(l=e,a=!1)},!0),document.addEventListener("touchstart",function(){l=Date.now(),a=!0},{passive:!0,capture:!0}),document.addEventListener("mouseup",function(){l=Date.now(),a=!1},!0),document.addEventListener("touchend",function(){l=Date.now(),a=!1},!0),function(){return Date.now()-l<(a?u:600)}),i.makeFocusable=(c=0,d=(t.parseJSONFromFontFamily("oj-focus-config")||{}).focusHighlightPolicy,function(e){var t=e.element,n="ojFocusable";if(e.remove){t.removeClass("oj-focus oj-focus-highlight");var o=t.data(n);if(null==o)return;var s=".ojFocusable"+(""+o).split(",").join(" .ojFocusable");t.off(s).removeData(n)}else{var a=e.afterToggle||r.noop,l=e.applyHighlight?function(t){t.addClass("oj-focus"),function(e,t){switch(e?e():d){case"all":return!0;case"none":return!1;default:return!(i.recentPointer()||t&&t())}}(e.getFocusHighlightPolicy,e.recentPointer)&&t.addClass("oj-focus-highlight"),a("focusin")}:function(e){e.addClass("oj-focus"),a("focusin")},u=!1;(e.setupHandlers||function(i,o){var s=e.component,a=function(e){i(r(e.currentTarget)),u=!0},l=function(e){u&&(o(r(e.currentTarget)),u=!1)};if(s)s._on(t,{focusin:a,focusout:l});else{var d=c;c+=1;var h=t.data(n);t.data(n,null==h?d:h+","+d);var p={},f=".ojFocusable"+d;p["focusin"+f]=a,p["focusout"+f]=l,t.on(p)}})(l,function(e){e.removeClass("oj-focus oj-focus-highlight"),a("focusout")})}}),i.getNoJQFocusHandlers=function(e,t){return{focusIn:function(t){return e(r(t))},focusOut:function(e){return t(r(e))}}};const h=i.isHTMLContent,p=i.cleanHtml,f=i.isAncestor,_=i.isAncestorOrSelf,m=i.addResizeListener,g=i.removeResizeListener,v=i.fixResizeListeners,y=i.isMetaKeyPressed,E=i.dispatchEvent,b=i.isValidIdentifier,T=i.isTouchSupported,S=i.setInKoCleanExternal,C=i.unwrap,P=i.isChromeEvent,O=i.getScrollBarWidth,A=i.getReadingDirection,I=i.setScrollLeft,R=i.calculateScrollLeft,w=i.getCSSLengthAsInt,N=i.getCSSLengthAsFloat,j=i.getCSSTimeUnitAsMillis,D=i.getLogicalParent,x=i.setLogicalParent,L=i.isLogicalAncestorOrSelf,M=i.validateURL,k=i.PRESS_HOLD_THRESHOLD,F=i.recentTouchEnd,B=i.recentTouchStart,U=i.recentPointer,V=i.getNoJQFocusHandlers,H=i.makeFocusable;e.PRESS_HOLD_THRESHOLD=k,e.addResizeListener=m,e.calculateScrollLeft=R,e.cleanHtml=p,e.dispatchEvent=E,e.fixResizeListeners=v,e.getCSSLengthAsFloat=N,e.getCSSLengthAsInt=w,e.getCSSTimeUnitAsMillis=j,e.getLogicalParent=D,e.getNoJQFocusHandlers=V,e.getReadingDirection=A,e.getScrollBarWidth=O,e.isAncestor=f,e.isAncestorOrSelf=_,e.isChromeEvent=P,e.isHTMLContent=h,e.isLogicalAncestorOrSelf=L,e.isMetaKeyPressed=y,e.isTouchSupported=T,e.isValidIdentifier=b,e.makeFocusable=H,e.recentPointer=U,e.recentTouchEnd=F,e.recentTouchStart=B,e.removeResizeListener=g,e.setInKoCleanExternal=S,e.setLogicalParent=x,e.setScrollLeft=I,e.unwrap=C,e.validateURL=M,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojfocusutils",["jquery","ojs/ojcore-base","ojs/ojdomutils"],function(e,t,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={_TABBABLE:":tabbable,iframe",containsFocus:function(e){var t=document.activeElement;return!(!e||!t)&&n.isAncestorOrSelf(e,t)},focusElement:function(e){e.focus()},focusFirstTabStop:function(e){var t=r.getFirstTabStop(e);return t&&r.focusElement(t),t},isFirstActiveElement:function(t){var n=e(t).find(r._TABBABLE);if(null==n||0===n.length)return!1;var i=n[0];return document.activeElement===i||i.name===document.activeElement.name&&"radio"===i.type&&"radio"===document.activeElement.type},isLastActiveElement:function(t){var n=e(t).find(r._TABBABLE);if(null==n||0===n.length)return!1;var i=n[n.length-1];return document.activeElement===i||i.name===document.activeElement.name&&"radio"===i.type&&"radio"===document.activeElement.type},getFirstTabStop:function(t){var n=e(t);if(n.is(r._TABBABLE))return t;var i=n.find(r._TABBABLE);if(i&&i.length>0){if(i[0].classList.contains("oj-radio")){var o=i.filter(".oj-selected.oj-radio");return o&&o.length?o[0]:i[0]}return i[0]}return null},getLastTabStop:function(t){var n=e(t).find(r._TABBABLE);if(n&&n.length>0){if(n[n.length-1].classList.contains("oj-radio")){var i=n.filter(".oj-selected.oj-radio");return i&&i.length?i[i.length-1]:n[n.length-1]}return n[n.length-1]}return null},isFocusable:function(n){return!!e(n).is(":focusable")&&!("A"===n.nodeName&&!n.hasAttribute("tabindex")&&t.AgentUtils.getAgentInfo().browser===t.AgentUtils.BROWSER.SAFARI)}};return r}),define("ojs/ojgestureutils",["exports","jquery","ojs/ojdomutils"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={_EVENT_NAMESPACE:".contextMenu",stopDetectContextMenuGesture:function(e){e._clickListener&&(t(e).off(r._EVENT_NAMESPACE).removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",e._clickListener,!0),clearTimeout(e._contextMenuPressHoldTimer),delete e._clickListener,delete e._contextMenuPressHoldTimer),e._touchStartAndMouseDownListener&&(e.removeEventListener("touchstart",e._touchStartAndMouseDownListener,{passive:!1}),delete e._touchStartAndMouseDownListener),e._touchMoveListener&&(e.removeEventListener("touchmove",e._touchMoveListener,{passive:!0}),delete e._touchMoveListener)},startDetectContextMenuGesture:function(e,i){var o,s,a,l,u=n.PRESS_HOLD_THRESHOLD,c=!1,d=!1,h=null,p=r._EVENT_NAMESPACE,f=!1;function _(n,r,o){if((c=o)&&t(e).one("touchend"+p,function(){f=!0,setTimeout(function(){f=!1},50)}),"touchstart"===h&&"contextmenu"===n.type||"contextmenu"===h&&"touchstart"===n.type||"keydown"===h&&"contextmenu"===n.type)return"keydown"===h&&"contextmenu"===n.type&&n.preventDefault(),h=null,void clearTimeout(l);n.isDefaultPrevented&&n.isDefaultPrevented()||n.originalEvent&&n.originalEvent.defaultPrevented||n.defaultPrevented||("touchstart"!==n.type&&"touchmove"!==n.type||(n.originalEvent=n),i(n,r),(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&("touchstart"!==n.type&&"contextmenu"!==n.type&&"keydown"!==n.type||(h=n.type,l=setTimeout(function(){h=null},300))))}var m=function(e){c&&(e.preventDefault(),e.stopPropagation(),c=!1)};e._clickListener=m,e.addEventListener("click",m,!0);var g=function(t){if("mousedown"!==t.type||!f){if(c=!1,"touchstart"===t.type&&1===t.touches.length){var n=t.touches[0];s=n.pageX,a=n.pageY,d=!0,o=setTimeout(_.bind(void 0,t,"touch",!0),u),e._contextMenuPressHoldTimer=o}return!0}};e._touchStartAndMouseDownListener=g,e.addEventListener("touchstart",g,{passive:!1});var v=function(e){var t=e.touches[0];return(Math.abs(s-t.pageX)>5||Math.abs(a-t.pageY)>5)&&(d=!1,clearTimeout(o)),!0};e._touchMoveListener=v,e.addEventListener("touchmove",v,{passive:!0}),t(e).on("mousedown"+p,g).on("touchend"+p+" touchcancel"+p,function(){return d=!1,clearTimeout(o),!0}).on("keydown"+p+" contextmenu"+p,function(e){("contextmenu"===e.type||121===e.keyCode&&e.shiftKey)&&_(e,d?"touch":"keydown"===e.type?"keyboard":"mouse",!1);return!0}),n.isTouchSupported()&&t(e).addClass("oj-menu-context-menu-launcher")}},i=r.startDetectContextMenuGesture,o=r.stopDetectContextMenuGesture;e.startDetectContextMenuGesture=i,e.stopDetectContextMenuGesture=o,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojcomponentcore",["exports","jqueryui-amd/widget","jqueryui-amd/unique-id","jqueryui-amd/keycode","jqueryui-amd/focusable","jqueryui-amd/tabbable","ojs/ojcore","jquery","ojs/ojmessaging","ojs/ojmetadatautils","ojs/ojcore-base","ojs/ojdomutils","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojlogger","ojs/ojdefaultsutils","ojs/ojtranslation","ojs/ojfocusutils","ojs/ojgestureutils"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,p,f,_,m,g,v){"use strict";s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;
/**
   * @preserve Copyright 2013 jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
const y=function(e){this.Init(e)};s.Object.createSubclass(y,s.Object,"oj.ComponentMessaging"),s._registerLegacyNamespaceProp("ComponentMessaging",y),y._STRATEGY_TYPE={NONE:"none",NOTEWINDOW:"notewindow",PLACEHOLDER:"placeholder",INLINE:"inline",LABEL_EDGE_INSIDE:"inside",LABEL_EDGE_INSIDE_FORM_CNTRL:"insideformcontrol",USER_ASSISTANCE_INLINE:"userassistanceinline"},y._STRATEGY_TYPE_TO_CALLBACK={};const E="aria-describedby";y.registerMessagingStrategy=function(e,t){e&&"function"==typeof t&&(y._STRATEGY_TYPE_TO_CALLBACK[e]=t)},y.prototype.Init=function(e){y.superclass.Init.call(this),this._component=e,this._activated=!1,this._initializeMessagingStrategies()},y.prototype.activate=function(e,t,n){var r=this;s.Assert.assertObject(n),this._launcher=e,this._contentElement=t,this._messagingContent=s.CollectionUtils.copyInto(this._messagingContent||{},n),this._isActive()?this._reactivate():(a.each(this._strategies,function(e,t){t.activate(r)}),this._activated=!0)},y.prototype.update=function(e){s.Assert.assertObject(e),s.Assert.assertBoolean(this._activated),this._messagingContent=s.CollectionUtils.copyInto(this._messagingContent||{},e),this._activated&&a.each(this._strategies,function(t,n){n.shouldUpdate(e)&&n.update()})},y.prototype.deactivate=function(){a.each(this._strategies,function(e,t){t.deactivate()}),this._activated=!1,this._component=null,this._launcher=null,this._contentElement=null,this._strategies={}},y.prototype.close=function(){this._activated&&a.each(this._strategies,function(e,t){t.close()})},y.prototype.releaseResources=function(){this._activated&&a.each(this._strategies,function(e,t){t.releaseResources()})},y.prototype.setupResources=function(){this._activated&&a.each(this._strategies,function(e,t){t.setupResources()})},y.prototype._createMessagingStrategy=function(e,t){return new(y._STRATEGY_TYPE_TO_CALLBACK[e]||y._STRATEGY_TYPE_TO_CALLBACK[y._STRATEGY_TYPE.NONE])(t)},y.prototype._getComponent=function(){return this._component||null},y.prototype._getLauncher=function(){return this._launcher||null},y.prototype._getContentElement=function(){return this._contentElement||null},y.prototype._getMessagingContent=function(){return this._messagingContent||{}},y.prototype._setMessagingContent=function(e){s.Assert.assertObject(e),this._messagingContent=s.CollectionUtils.copyInto(this._messagingContent||{},e)},y.prototype._isActive=function(){return this._activated},y.prototype._getResolvedMessagingDisplayOptions=function(e){for(var t={},n=!1,r=this._component.options,i={},o=Object.keys(e),s=0;s<o.length;s++){var l=o[s],u=e[l];n=!1;var c=l+"";if(Array.isArray(u))for(var d=0;d<u.length;d++){var h=u[d];n||(n=this._resolveStrategyTypeForArtifact(c,h,r,i))}else"string"==typeof u&&(n||(n=this._resolveStrategyTypeForArtifact(c,u,r,i)));n||(i[c]=y._STRATEGY_TYPE.NONE)}return this._addLabelStrategy(i),a.each(y._STRATEGY_TYPE,function(e,n){t[n]=[]}),a.each(i,function(e,n){t[n].push(e)}),t},y.prototype._getUserAssistanceStrategyToArtifactsObj=function(){var e={},t=this._component.options.displayOptions||{},n={},r=Object.keys(t);for(let e=0;e<r.length;e++){let i=r[e],o=t[i],s=i+"";n[s]="string"==typeof o&&"none"===o?y._STRATEGY_TYPE.NONE:y._STRATEGY_TYPE.USER_ASSISTANCE_INLINE}return this._addLabelStrategy(n),Object.keys(y._STRATEGY_TYPE).forEach(function(t){let n=y._STRATEGY_TYPE[t];e[n]=[]}),Object.keys(n).forEach(function(t){let r=n[t];e[r].push(t)}),e},y.prototype._addLabelStrategy=function(e){var t=this._component._ResolveLabelEdgeStrategyType();this._resolveStrategyTypeForArtifact("labelEdge",t,this._component.options,e)||(e.labelEdge=y._STRATEGY_TYPE.NONE)},y.prototype._resolveStrategyTypeForArtifact=function(e,t,n,r){var i=!1,o=n.placeholder;switch(t){case y._STRATEGY_TYPE.PLACEHOLDER:"converterHint"===e&&(i||o||(r[e]=t,i=!0));break;case y._STRATEGY_TYPE.INLINE:"messages"===e&&(i||(r[e]=t,i=!0));break;case y._STRATEGY_TYPE.LABEL_EDGE_INSIDE:case y._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL:"labelEdge"!==e||i||s.StringUtils.isEmptyOrUndefined(n.labelHint)||(r[e]=t,i=!0);break;default:i||"labelEdge"===e||(r[e]=t,i=!0)}return i},y.prototype._initializeMessagingStrategies=function(){var e=this._strategyToArtifacts(),t=e[y._STRATEGY_TYPE.NOTEWINDOW],n=e[y._STRATEGY_TYPE.NONE],r=e[y._STRATEGY_TYPE.PLACEHOLDER],i=e[y._STRATEGY_TYPE.INLINE],o=e[y._STRATEGY_TYPE.LABEL_EDGE_INSIDE],s=e[y._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL],a=e[y._STRATEGY_TYPE.USER_ASSISTANCE_INLINE],l={};t.length>0&&(l[y._STRATEGY_TYPE.NOTEWINDOW]=this._createMessagingStrategy(y._STRATEGY_TYPE.NOTEWINDOW,t)),r.length>0&&0===o.length&&(l[y._STRATEGY_TYPE.PLACEHOLDER]=this._createMessagingStrategy(y._STRATEGY_TYPE.PLACEHOLDER,r)),i.length>0&&(l[y._STRATEGY_TYPE.INLINE]=this._createMessagingStrategy(y._STRATEGY_TYPE.INLINE,i)),a.length>0&&(l[y._STRATEGY_TYPE.USER_ASSISTANCE_INLINE]=this._createMessagingStrategy(y._STRATEGY_TYPE.USER_ASSISTANCE_INLINE,a)),o.length>0?l[y._STRATEGY_TYPE.LABEL_EDGE_INSIDE]=this._createMessagingStrategy(y._STRATEGY_TYPE.LABEL_EDGE_INSIDE,o):s.length>0&&(l[y._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL]=this._createMessagingStrategy(y._STRATEGY_TYPE.LABEL_EDGE_INSIDE_FORM_CNTRL,s)),l[y._STRATEGY_TYPE.NONE]=this._createMessagingStrategy(y._STRATEGY_TYPE.NONE,n),this._strategies=l},y.prototype._reactivate=function(){var e,t=this._strategyToArtifacts(),n=this;a.each(t,function(t,r){t+="",e=n._strategies[t],r&&r.length>0?e?e&&e.reactivate(r):(e=n._createMessagingStrategy(t,r),n._strategies[t]=e,e.activate(n)):e&&y._STRATEGY_TYPE.NONE!==t&&(e.deactivate(),delete n._strategies[t])})},y.prototype._strategyToArtifacts=function(){let e,t=this._component._getResolvedUserAssistance();if("compact"!==t&&"displayOptions"!==t)e=this._getUserAssistanceStrategyToArtifactsObj();else{let n=this._component.options.displayOptions||{};"compact"===t?(n.messages="notewindow",n.validatorHint="notewindow",n.converterHint="notewindow",e=this._getResolvedMessagingDisplayOptions(n)):e=this._getResolvedMessagingDisplayOptions(n)}return e};const b=function(e){this.Init(e)};s.Object.createSubclass(b,s.Object,"oj.MessagingStrategy"),s._registerLegacyNamespaceProp("MessagingStrategy",b),b.prototype.Init=function(e){s.Assert.assertArray(e),b.superclass.Init.call(this),this._displayOptions=e},b.prototype.activate=function(e){this._componentMessaging=e},b.prototype.deactivate=function(){},b.prototype.close=function(){},b.prototype.setupResources=function(){},b.prototype.releaseResources=function(){},b.prototype.reactivate=function(e){this.Init(e)},b.prototype.shouldUpdate=function(e){return!0},b.prototype.update=function(){},b.prototype.GetLauncher=function(){return this._componentMessaging._getLauncher()},b.prototype.GetContentElement=function(){return this._componentMessaging._getContentElement()},b.prototype.GetComponent=function(){return this._componentMessaging._getComponent()},b.prototype.setHasValidatorHints=function(e){this._hasValidatorHints=e},b.prototype.getHasValidatorHints=function(){return!0===this._hasValidatorHints},b.prototype.GenerateIdIfNeeded=function(e){isNaN(b._uidCounter)&&(b._uidCounter=0);var t=e;t.id||(t.id="ojms_"+b._uidCounter,b._uidCounter+=1)},b.prototype.GetMessages=function(){return this.GetValidityState().getMessages()},b.prototype.GetMaxSeverity=function(){return this.GetValidityState().getMaxSeverity()},b.prototype.GetConverterHint=function(){var e=[],t=this._getMessagingContent(),n=t&&t.converterHint;return n&&e.push(n),e},b.prototype.GetValidatorHints=function(){if(!this.getHasValidatorHints()){this.setHasValidatorHints(!0);let e=this.GetComponent();this._setMessagingContent(e._getValidatorHintsMC()),e._initAsyncValidatorMessagingHint()}var e=this._getMessagingContent();return e&&e.validatorHint||[]},b.prototype.GetTitle=function(){var e=this._getMessagingContent();return e&&e.title||""},b.prototype.GetValidityState=function(){var e=this._getMessagingContent();return e&&e.validityState||null},b.prototype.HasMessages=function(){var e=this.GetMessages();return!!(e&&e.length>0)},b.prototype.ShowMessages=function(){return-1!==this._displayOptions.indexOf("messages")},b.prototype.ShowConverterHint=function(){return-1!==this._displayOptions.indexOf("converterHint")},b.prototype.ShowValidatorHint=function(){return-1!==this._displayOptions.indexOf("validatorHint")},b.prototype.ShowTitle=function(){return-1!==this._displayOptions.indexOf("title")||-1!==this._displayOptions.indexOf("helpInstruction")},b.prototype.IsInvalid=function(){return this.GetValidityState().isInvalid()},b.prototype.AddAriaDescribedByForInlineMessaging=function(e){let t=this.GetContentElement();s.Assert.assertPrototype(t,a);let n=a(e).uniqueId()[0].getAttribute("id");t.each(function(){let e=this.getAttribute(E),t=e?e.split(/\s+/):[];-1===t.indexOf(n)&&t.push(n);let r=t.join(" ").trim();this.setAttribute(E,r)})},b.prototype.AddDescribedByToElement=function(e,t){const n=e.getAttribute("described-by");let r,i=n?n.split(/\s+/):[];-1===i.indexOf(t)&&i.push(t),r=i.join(" ").trim(),e.setAttribute("described-by",r)},b.prototype.RemoveDescribedByFromElement=function(e,t){const n="described-by",r=e.getAttribute(n);let i=(r?r.split(/\s+/):[]).filter(e=>e!==t).join(" ").trim();i?e.setAttribute(n,i):e.removeAttribute(n)},b.prototype.RemoveAriaDescribedByForInlineMessaging=function(e){let t=this.GetContentElement();s.Assert.assertPrototype(t,a);let n=e.getAttribute("id");t.each(function(){let e=this.getAttribute(E),t=e?e.split(/\s+/):[],r=t.indexOf(n);-1!==r&&t.splice(r,1);let i=t.join(" ").trim();i?this.setAttribute(E,i):this.removeAttribute(E)})},b.prototype._getMessagingContent=function(){return this._componentMessaging?this._componentMessaging._getMessagingContent():{}},b.prototype._setMessagingContent=function(e){return this._componentMessaging?this._componentMessaging._setMessagingContent(e):{}};const T=function(e){this.Init(e)};y.registerMessagingStrategy(y._STRATEGY_TYPE.NONE,T),T._SELECTOR_STATE_INVALID="oj-invalid",T._SELECTOR_STATE_WARNING="oj-warning",s.Object.createSubclass(T,b,"oj.DefaultMessagingStrategy"),s._registerLegacyNamespaceProp("DefaultMessagingStrategy",T),T.prototype.update=function(){T.superclass.update.call(this);var e=this.GetLauncher(),t=this.GetMaxSeverity(),n=[],r=[],i=!1,o=this.GetComponent().widget();e&&(this.IsInvalid()?(n.push(T._SELECTOR_STATE_WARNING),r.push(T._SELECTOR_STATE_INVALID),i=!0):this.HasMessages()&&t===l.SEVERITY_LEVEL.WARNING?(n.push(T._SELECTOR_STATE_INVALID),r.push(T._SELECTOR_STATE_WARNING)):(n.push(T._SELECTOR_STATE_INVALID),n.push(T._SELECTOR_STATE_WARNING)),o.removeClass(n.join(" ")).addClass(r.join(" ")),this.GetContentElement().attr({"aria-invalid":i}))},T.prototype.deactivate=function(){this.GetComponent().widget().removeClass(T._SELECTOR_STATE_INVALID).removeClass(T._SELECTOR_STATE_WARNING),this.GetContentElement().removeAttr("aria-invalid"),T.superclass.deactivate.call(this)};const S=function(e){this.Init(e)};y.registerMessagingStrategy(y._STRATEGY_TYPE.PLACEHOLDER,S),s.Object.createSubclass(S,b,"oj.PlaceholderMessagingStrategy"),s._registerLegacyNamespaceProp("PlaceholderMessagingStrategy",S),S.prototype.Init=function(e){S.superclass.Init.call(this,e)},S.prototype.activate=function(e){S.superclass.activate.call(this,e),this._refreshPlaceholder()},S.prototype.reactivate=function(e){S.superclass.reactivate.call(this,e),this._refreshPlaceholder()},S.prototype.shouldUpdate=function(e){return!(!e||void 0===e.converterHint)},S.prototype.update=function(){S.superclass.update.call(this),this._refreshPlaceholder()},S.prototype._refreshPlaceholder=function(){var e=this.GetLauncher();if(this.ShowPlaceholderContent()&&e){var t=this.GetConverterHint(),n=t.length?t[0]:"";if(s.StringUtils.isEmptyOrUndefined(n))return;this.GetComponent().option({placeholder:n},{_context:{internalMessagingSet:!0}})}},S.prototype.ShowPlaceholderContent=function(){return this.ShowConverterHint()};const C=function(e,t){this.Init(e,t)};C.isInvalid=function(e){return l.getMaxSeverity(e)>=l.SEVERITY_LEVEL.ERROR},s.Object.createSubclass(C,s.Object,"oj.ComponentValidity"),s._registerLegacyNamespaceProp("ComponentValidity",C),C.prototype.Init=function(e,t){C.superclass.Init.call(this),this._initialize(e,t)},C.prototype.isInvalid=function(){return this._invalid},C.prototype.getMessages=function(){return this._messages},C.prototype.getMaxSeverity=function(){return this._maxSeverity},C.prototype.update=function(e,t){this._initialize(e,t)},C.prototype._initialize=function(e,t){this._compValid=e,this._compMessages=t,this._messages=this._getImmediateMessages(),this._maxSeverity=l.getMaxSeverity(this._messages),this._invalid=C.isInvalid(this._messages)},C.prototype._getImmediateMessages=function(){for(var e=this._compMessages||[],t=[],n=0;n<e.length;n++){var r=e[n];r instanceof l.ComponentMessage&&!r.canDisplay()||t.push(r)}return t};const P={};c._registerLegacyNamespaceProp("Components",P),P._OJ_CONTAINER_ATTR="data-oj-container";const O="node is not a component element";function A(e,t){if(null==e)return null;var n=1===e.nodeType,r=c.Composite&&!t?c.Composite.getContainingComposite(e):null;if(r)return r;if(n&&e.hasAttribute("data-oj-internal"))return e.parentNode instanceof Element&&e.parentNode.hasAttribute("data-oj-surrogate-id")?A(e=document.querySelector("[data-oj-popup-"+e.id+"-parent]"),t):A(e.parentNode,t);if(x(e))return e;if(n&&e.classList.contains("oj-component")){if(D(e=e.querySelector(".oj-component-initnode:not([data-oj-internal])")||e))return e}else if(n&&e.hasAttribute("data-oj-containerid"))return A(e=document.getElementById(e.getAttribute("data-oj-containerid")),t);return A(e.parentNode,t)}function I(e,t){var n=function(){var e=a(this),n=e.data("oj-component-names");if(null!=n)for(var r=0;r<n.length;r++){var i=e.data("oj-"+n[r]);null!=i&&t(i)}},r=a(e);r.hasClass("oj-component-initnode")&&n.call(e),r.find(".oj-component-initnode").each(n)}function R(e,t,n){function r(e){if(t&&e.classList.contains("oj-component-initnode")){var r=a(e),i=r.data("oj-component-names");if(null!=i)for(var o=0;o<i.length;o++){var s=r.data("oj-"+i[o]);null!=s&&t(s)}}if(n&&"oj-defer"===e.tagName.toLowerCase()){if(!e._activate)throw new Error("subtreeShown called before module ojs/ojdefer was loaded");e._activate()}}if(!function(e){for(var t=e;t;){if(t.nodeType===Node.DOCUMENT_NODE)return!1;if(t.nodeType===Node.ELEMENT_NODE&&t.classList.contains("oj-subtree-hidden"))return!0;t=t.parentNode}return!0}(e)){r(e);var i=[".oj-component-initnode"];n&&i.push("oj-defer");var o=[];i.forEach(function(e){o.push(".oj-subtree-hidden "+e),o.push(".oj-pending-subtree-hidden "+e)});for(var s=i.join(","),l=o.join(","),u=function(e,t){for(var n=[],r=0,i=0;i<t.length;i++){for(var o=t[i];r<e.length&&e[r]!==o;)n.push(e[r]),r+=1;r+=1}for(;r<e.length;)n.push(e[r]),r+=1;return n}(e.querySelectorAll(s),e.querySelectorAll(l)),c=0;c<u.length;c++)r(u[c])}}function w(e){this.getCallback=function(){return e}}function N(e,t,n){return Object.keys(t).forEach(function(r){var i=e[r]||[],o=t[r];n?i=i.concat(o):i.push(o),e[r]=i}),e}function j(e){return p.CustomElementUtils.isElementRegistered(e.tagName)}function D(e){return!!P.__GetWidgetConstructor(e)}function x(e){return j(e)||D(e)}P.setDefaultOptions=function(e){var t=P._defaultProperties||{};Object.keys(e).forEach(function(n){var r=e[n];if(!c.CollectionUtils.isPlainObject(r))throw new Error("Invalid default options");t[n]=N(t[n]||{},r,!1)}),P._defaultProperties=t},P.getDefaultOptions=function(){return P._defaultProperties||{}},P.createDynamicPropertyGetter=function(e){return new w(e)},P.getWidgetConstructor=function(e,t){return e&&!p.CustomElementUtils.isElementRegistered(e.tagName)?P.__GetWidgetConstructor(e,t):null},P.__GetWidgetConstructor=function(e,t){var n=a(e),r=n.data("oj-component-names");if(r&&(null==t?t=r[0]:r.indexOf(t)<0&&(t=void 0),null!=t)){var i=n[t];if("function"==typeof i)return i.bind(n)}return null},P.subtreeAttached=function(e){d.fixResizeListeners(e),I(e,function(e){e.__handleSubtreeAttached()})},P.subtreeDetached=function(e){I(e,function(e){e.__handleSubtreeDetached()})},P.subtreeShown=function(e,t){var n=a(e)[0];if(n.nodeType===Node.ELEMENT_NODE){var r=(t||{}).initialRender;r||d.fixResizeListeners(n),n.classList.remove("oj-subtree-hidden"),R(n,function(e){p.CustomElementUtils.allowSlotRelocation(!0);try{r?e._NotifyInitShown():e._NotifyShown()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}},!0)}},P.subtreeHidden=function(e){var t=a(e)[0];t.nodeType===Node.ELEMENT_NODE&&(R(t,function(e){p.CustomElementUtils.allowSlotRelocation(!0);try{e._NotifyHidden()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}},!1),t.classList.add("oj-subtree-hidden"))},P.markPendingSubtreeHidden=function(e){e.classList.add("oj-pending-subtree-hidden")},P.unmarkPendingSubtreeHidden=function(e){e.classList.remove("oj-pending-subtree-hidden")},P.isComponentInitialized=function(e,t){var n=e.data("oj-component-names");return!!(a.isArray(n)&&n.indexOf(t)>-1&&e.is(".oj-component-initnode"))},P.__getDefaultOptions=function(e){for(var t={},n=P.getDefaultOptions(),r=e.length-1;r>=0;r--){var i=n[e[r]];void 0!==i&&(t=N(t,i,!0))}return t},P.getComponentElementByNode=function(e){var t=!!(arguments.length>1&&arguments[1]);return A(e,t)},P.getSubIdByNode=function(e,t){return P.callComponentMethod(e,"getSubIdByNode",t)},P.getNodeBySubId=function(e,t){return P.callComponentMethod(e,"getNodeBySubId",t)},P.getComponentOption=function(e,t){if(!x(e))throw new Error(O);return j(e)?e.getProperty?e.getProperty.call(e,t):void 0:P.__GetWidgetConstructor(e)("option",t)},P.setComponentOption=function(e,t,n){if(!x(e))throw new Error(O);j(e)?e.setProperty&&e.setProperty.call(e,t,n):P.__GetWidgetConstructor(e)("option",t,n)},P.callComponentMethod=function(e,t,n){if(!x(e))throw new Error(O);return j(e)?e[t]?e[t].apply(e,[].slice.call(arguments,2)):void 0:P.__GetWidgetConstructor(e).apply(a(e),[].slice.call(arguments,1))};const L={};L.proto=Object.create(s.BaseCustomElementBridge.proto),s.CollectionUtils.copyInto(L.proto,{beforePropertyChangedEvent:function(e,t,n){var r=t,i=n.value;n.subproperty&&(r=n.subproperty.path,i=n.subproperty.value),this._partialRender(e,r,i)},AddComponentMethods:function(e){e.refresh=function(){p.CustomElementUtils.getElementBridge(this)._fullRender(this)},e.setProperty=function(e,t){var n=p.CustomElementUtils.getElementBridge(this);n.SaveEarlyPropertySet(this,e,t)||n.SetProperty(this,e,t,this,!0)},e.getProperty=function(e){return p.CustomElementUtils.getElementBridge(this).GetProperty(this,e,this)},e._propsProto.setProperty=function(e,t){this._BRIDGE.SetProperty(this._ELEMENT,e,t,this,!1)},e._propsProto.getProperty=function(e){return this._BRIDGE.GetProperty(this,e,this)}},CreateComponent:function(e){if(P.unmarkPendingSubtreeHidden(e),!this._INSTANCE&&this._EXTENSION._CONSTRUCTOR){var t=p.ElementUtils.getUniqueId();if(this._CONTEXT={element:e,props:this._PROPS_PROXY,unique:t},this._CONTEXT.uniqueId=e.id?e.id:t,this._INSTANCE=new this._EXTENSION._CONSTRUCTOR(this._CONTEXT),this._INSTANCE.createDOM&&this._INSTANCE.createDOM(),this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}}},DefineMethodCallback:function(e,t,n){e[t]=function(){var e=p.CustomElementUtils.getElementBridge(this);if(e._INSTANCE){var r=n.internalName||t;return e._INSTANCE[r].apply(e._INSTANCE,arguments)}}},DefinePropertyCallback:function(e,t,n){function r(e,r){if(!this._BRIDGE.SaveEarlyPropertySet(this._ELEMENT,t,e)){r&&(e=p.transformPreactValue(this._ELEMENT,n,e));var i=this._BRIDGE._PROPS[t];p.ElementUtils.comparePropertyValues(n,e,i)?f.info(p.CustomElementUtils.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+t+"' with same value."):(r&&(e=this._BRIDGE.ValidatePropertySet(this._ELEMENT,t,e)),n._eventListener?(this._BRIDGE.SetEventListenerProperty(this._ELEMENT,t,e),this._BRIDGE._PROPS[t]=e):(this._BRIDGE._PROPS[t]=e,s.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,t,e,i,r?"external":"internal"),this._BRIDGE.State.dirtyProps.add(t)))}}function i(){var e=this._BRIDGE._PROPS[t];return void 0===e&&(e=this._BRIDGE._getDefaultValue(t,n),this._BRIDGE._PROPS[t]=e),e}n._derived||s.BaseCustomElementBridge.__DefineDynamicObjectProperty(e._propsProto,t,function(){return i.bind(this)()},function(e){r.bind(this)(e,!1)}),s.BaseCustomElementBridge.__DefineDynamicObjectProperty(e,t,function(){var e=p.CustomElementUtils.getElementBridge(this);return i.bind(e._PROPS_PROXY)()},function(e){var t=p.CustomElementUtils.getElementBridge(this);r.bind(t._PROPS_PROXY)(e,!0)})},InitializeElement:function(e){s.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&P.markPendingSubtreeHidden(e),s.BaseCustomElementBridge.__InitProperties(e,e)},InitializePrototype:function(e){s.BaseCustomElementBridge.proto.InitializePrototype.call(this,e),Object.defineProperty(e,"_propsProto",{value:{}})},initializeBridge:function(e,t){s.BaseCustomElementBridge.proto.initializeBridge.call(this,e,t),this._EXTENSION=this.METADATA.extension||{},this._PROPS={},e._propsProto&&(this._PROPS_PROXY=Object.create(e._propsProto),this._PROPS_PROXY._BRIDGE=this,this._PROPS_PROXY._ELEMENT=e)},ShouldRemoveDisabled:function(){return!0===this._EXTENSION._SHOULD_REMOVE_DISABLED},_fullRender:function(e){if(this._INSTANCE&&this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}},_partialRender:function(e,t,n){if(this._INSTANCE){var r=this._INSTANCE.handlePropertyChanged;if((!r||!r(t,n))&&this._INSTANCE.updateDOM){p.CustomElementUtils.allowSlotRelocation(!0);try{this._INSTANCE.updateDOM()}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}}},_getDefaultValue:function(e,t){return this._EXTENSION._CONSTRUCTOR?_.DefaultsUtils.getDefaults(this._EXTENSION._CONSTRUCTOR,this.METADATA,!1)[e]:u.getDefaultValue(t)}}),s._registerLegacyNamespaceProp("DefinitionElementBridge",L);class M extends p.ElementState{IsTransferAttribute(e){const t=p.CustomElementUtils.getElementBridge(this.Element),n=t._EXTENSION._GLOBAL_TRANSFER_ATTRS;return t._WIDGET_ELEM&&n&&n.includes(e)}GetDescriptiveTransferAttributeValue(e){return p.CustomElementUtils.getElementBridge(this.Element)._WIDGET_ELEM.getAttribute(e)}}const k={};k.proto=Object.create(s.BaseCustomElementBridge.proto),s._registerLegacyNamespaceProp("CustomElementBridge",k);const F=function(e,t){return function(n){e.dispatchEvent(new FocusEvent(t,{relatedTarget:n.relatedTarget}))}};s.CollectionUtils.copyInto(k.proto,{getThrottlePromise:function(){var e=this.State.getBindingProviderPromise();return e=e.then(function(e){return e?e.__GetThrottlePromise():null})},AddComponentMethods:function(e){e.setProperty=function(e,t){var n=p.CustomElementUtils.getElementBridge(this);if(!n.SaveEarlyPropertySet(this,e,t)&&!n._setEventProperty(this,e,t)&&!n._validateAndSetCopyProperty(this,e,t,null)){var r=u.getPropertyMetadata(e,p.CustomElementUtils.getElementProperties(this));r?(n._setOption(e,t,r,this),n.State.dirtyProps.add(e.split(".")[0])):this[e]=t}},e.getProperty=function(e){var t=p.CustomElementUtils.getElementBridge(this),n=u.getPropertyMetadata(e,p.CustomElementUtils.getElementProperties(this));if(p.AttributeUtils.isEventListenerProperty(e)||!n)return this[e];var r=n?n.extension:null;return r&&r._COPY_TO_INNER_ELEM?t._getCopyProperty(this,e,n):k._getPropertyAccessor(this,e)()},e.focus=function(){var e=p.CustomElementUtils.getElementBridge(this);if(e._WIDGET_INSTANCE){var t=e._WIDGET_INSTANCE.__getFocusElement();t&&(t!==this?t.focus():HTMLElement.prototype.focus.call(this))}else HTMLElement.prototype.focus.call(this)},e.blur=function(){var e=p.CustomElementUtils.getElementBridge(this);if(e._WIDGET_INSTANCE){var t=e._WIDGET_INSTANCE.__getFocusElement();t&&(t!==this?t.blur():HTMLElement.prototype.blur.call(this))}else HTMLElement.prototype.blur.call(this)}},BatchedPropertySet:function(e,t){var n,r=Object.keys(t),i={};for(n=0;n<r.length;n++){var o=r[n],s=t[o];this._setEventProperty(e,o,s)||this._validateAndSetCopyProperty(e,o,s,null)||(s=this.ValidatePropertySet(e,o,s),i[o=this.GetAliasForProperty(o)]=s)}var a=P.__GetWidgetConstructor(this._WIDGET_ELEM);if(a)a("option",i);else for(n=0;n<r.length;n++){var l=r[n];e.setProperty(l,t[l])}},CreateComponent:function(e){var t=this._INNER_DOM_FUNCTION;if(this._WIDGET_ELEM=k._getWidgetElement(e,t?t(e):this._EXTENSION._INNER_ELEM),this._WIDGET_ELEM!==e){for(var n=this._EXTENSION._GLOBAL_TRANSFER_ATTRS||[],r=0;r<n.length;r++){var i=n[r];e.hasAttribute(i)&&(this._WIDGET_ELEM.setAttribute(i,e.getAttribute(i)),this._removingTransfer=!0,e.removeAttribute(i))}this._copyProperties()}P.unmarkPendingSubtreeHidden(e);var o=a(this._WIDGET_ELEM),s=a(this._WIDGET_ELEM)[this._EXTENSION._WIDGET_NAME].bind(o);s(this._PROPS),this._WIDGET=s,this._WIDGET_INSTANCE=s("instance"),this._WRITEBACK_PROPS&&this._WIDGET_INSTANCE.__saveWritebackOptions(this._WRITEBACK_PROPS),this._setupFocusPropagation(e)},DefineMethodCallback:function(e,t,n){e[t]=function(){var e=p.CustomElementUtils.getElementBridge(this),r=n.internalName||t;p.CustomElementUtils.allowSlotRelocation(!0);try{return e._WIDGET.apply(null,[r].concat([].slice.call(arguments)))}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}},DefinePropertyCallback:function(e,t,n){var r=n.extension;Object.defineProperty(e,t,{enumerable:!0,get:function(){var e=p.CustomElementUtils.getElementBridge(this);return n._eventListener?e.GetEventListenerProperty(t):r&&r._COPY_TO_INNER_ELEM?e._getCopyProperty(this,t,n):k._getPropertyAccessor(this,t)()},set:function(e){var r=p.CustomElementUtils.getElementBridge(this);r.SaveEarlyPropertySet(this,t,e)||(e=p.transformPreactValue(this,n,e),n._eventListener?r.SetEventListenerProperty(this,t,e):r._validateAndSetCopyProperty(this,t,e,n)||(r._setOption(t,e,n,this),r.State.dirtyProps.add(t)))}})},GetAttributes:function(e){var t=u.getFlattenedAttributes(e.properties);return e.extension._GLOBAL_TRANSFER_ATTRS&&(t=t.concat(e.extension._GLOBAL_TRANSFER_ATTRS)),e.extension._WATCHED_ATTRS&&(t=t.concat(e.extension._WATCHED_ATTRS)),t},GetAliasForProperty:function(e){var t=this._EXTENSION._ALIASED_PROPS;return t&&t[e]?t[e]:e},InitializeElement:function(e){s.BaseCustomElementBridge.proto.InitializeElement.call(this,e),this._EXTENSION._CONTROLS_SUBTREE_HIDDEN&&P.markPendingSubtreeHidden(e),s.BaseCustomElementBridge.__InitProperties(e,this._PROPS)},HandleAttributeChanged:function(e,t,n,r){var i=this._EXTENSION._GLOBAL_TRANSFER_ATTRS,o=i&&-1!==i.indexOf(t),s=this._EXTENSION._WATCHED_ATTRS,a=s&&-1!==s.indexOf(t);o&&this._WIDGET_ELEM?this._removingTransfer?this._removingTransfer&&(this._removingTransfer=!1):(this._WIDGET_ELEM.setAttribute(t,r),this._removingTransfer=!0,e.removeAttribute(t)):a&&n!==r&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleWatchedAttribute(t,n,r)},HandleDetached:function(e){s.BaseCustomElementBridge.proto.HandleDetached.call(this,e),P.__GetWidgetConstructor(this._WIDGET_ELEM)&&this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleDisconnected(),this._teardownFocusPropagation(e)},HandleReattached:function(e){s.BaseCustomElementBridge.proto.HandleReattached.call(this,e),this._setupFocusPropagation(e),this._WIDGET_INSTANCE&&this._WIDGET_INSTANCE.__handleConnected()},initializeBridge:function(e,t){s.BaseCustomElementBridge.proto.initializeBridge.call(this,e,t),this._INNER_DOM_FUNCTION=t.innerDomFunction,this._EXTENSION=this.METADATA.extension||{},this._PROPS=this._EXTENSION._INNER_ELEM||this._INNER_DOM_FUNCTION?{_wrapper:e}:{},this._setupPropertyAccumulator(e,this._PROPS),this._processProperties(e)},_setOption:function(e,t,n,r){let i={};if(void 0===t&&-1===e.indexOf(".")&&(i={_context:{skipEvent:!0}},t=u.getDefaultValue(n),this.State.isComplete())){const t=r[e];s.BaseCustomElementBridge.__FirePropertyChangeEvent(r,e,void 0,t,"external")}k._getPropertyAccessor(r,e,i)(t)},_copyProperties:function(){if(this._COPY_ATTRS)for(var e=0;e<this._COPY_ATTRS.length;e++){var t=this._COPY_ATTRS[e],n=p.AttributeUtils.attributeToPropertyName(t);if(Object.prototype.hasOwnProperty.call(this._PROPS,n)){var r=this._PROPS[n];this._setCopyProperty(t,r),delete this._PROPS[n]}}},_getCopyProperty:function(e,t,n){var r=p.AttributeUtils.propertyNameToAttribute(t);if(n.extension._ATTRIBUTE_ONLY){if(this._WIDGET_ELEM.hasAttribute(r)){var i=this._WIDGET_ELEM.getAttribute(r);return p.AttributeUtils.attributeToPropertyValue(e,r,i,n)}return null}return this._WIDGET_ELEM[t]},_processProperties:function(e){var t=p.CustomElementUtils.getElementProperties(e);if(t)for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writeback&&(this._WRITEBACK_PROPS||(this._WRITEBACK_PROPS={}),this._WRITEBACK_PROPS[i]=!0);var s=o.extension;s&&s._COPY_TO_INNER_ELEM&&(this._COPY_ATTRS||(this._COPY_ATTRS=[]),this._COPY_ATTRS.push(i))}},_setCopyProperty:function(e,t){null==t||!1===t?this._WIDGET_ELEM.removeAttribute(e):!0===t?this._WIDGET_ELEM.setAttribute(e,""):this._WIDGET_ELEM.setAttribute(e,t)},_setupPropertyAccumulator:function(e,t){this._WIDGET=function(n,r,i){if("option"===n)return s.BaseCustomElementBridge.__SetProperty(this.GetAliasForProperty.bind(this),t,r,i),t[r];throw new p.JetElementError(e,"Cannot access methods before element is upgraded.")}},_validateAndSetCopyProperty:function(e,t,n,r){var i=p.AttributeUtils.propertyNameToAttribute(t),o=this._COPY_ATTRS&&-1!==this._COPY_ATTRS.indexOf(i);if(o)if(n=this.ValidatePropertySet(e,t,n),this._WIDGET_ELEM){r||(r=u.getPropertyMetadata(t,p.CustomElementUtils.getElementProperties(e)));var a=this._getCopyProperty(e,t,r);this._setCopyProperty(i,n),s.BaseCustomElementBridge.__FirePropertyChangeEvent(e,t,this._getCopyProperty(e,t,r),a,"external")}else this._PROPS[i]=n;return o},_setEventProperty:function(e,t,n){var r=p.AttributeUtils.isEventListenerProperty(t);return r&&(e[t]=n),r},_setupFocusPropagation:function(e){const t=this._WIDGET_INSTANCE.__getFocusElement();if(t&&t!==e){const n=F(e,"focus"),r=F(e,"blur");t.addEventListener("focus",n),t.addEventListener("blur",r),this._teardownFocus=function(e,t,n){return function(){e.removeEventListener("focus",t),e.removeEventListener("blur",n)}}(t,n,r)}},_teardownFocusPropagation:function(){this._teardownFocus&&(this._teardownFocus(),this._teardownFocus=null)}}),k.getMetadata=function(e){return k._METADATA_MAP[e.toLowerCase()]},k.isKnownEvent=function(e,t){var n=p.CustomElementUtils.getElementBridge(e);return null!=(n.METADATA.events&&n.METADATA.events[t])},k.isKnownProperty=function(e,t){var n=p.CustomElementUtils.getElementBridge(e);return null!=(n.METADATA.properties&&n.METADATA.properties[t])},k.getPropertyForAlias=function(e,t){var n=p.CustomElementUtils.getElementBridge(e)._EXTENSION._COMPONENT_TO_ELEMENT_ALIASES;return n&&n[t]?n[t]:t},k.register=function(e,t){var n=t[s.BaseCustomElementBridge.DESC_KEY_META];n=s.BaseCustomElementBridge.__ProcessEventListeners(n),t[s.BaseCustomElementBridge.DESC_KEY_META]=n,k._METADATA_MAP[e.toLowerCase()]=n;var r=n.extension,i=r&&r._WIDGET_NAME?k.proto:L.proto;const o=r&&r._WIDGET_NAME?M:p.ElementState;var a=r._ALIASED_PROPS;a&&(r._COMPONENT_TO_ELEMENT_ALIASES={},Object.keys(a).forEach(function(e){r._COMPONENT_TO_ELEMENT_ALIASES[a[e]]=e}));const l={descriptor:t,bridgeProto:i,stateClass:o};p.CustomElementUtils.registerElement(e,l,i.getClass(t))},k._getPropertyAccessor=function(e,t,n){return function(r){var i=p.CustomElementUtils.getElementBridge(e);return 1===arguments.length?(r=i.ValidatePropertySet(e,t,r),t=i.GetAliasForProperty(t),void i._WIDGET("option",t,r,n)):(t=i.GetAliasForProperty(t),i._WIDGET("option",t))}.bind(e)},k._getWidgetElement=function(e,t){var n=e;if(t){var r=e.firstElementChild;if(r&&r.tagName.toLowerCase()===t)n=r;else{n=document.createElement(t);for(var i=[],o=e.childNodes,s=0;s<o.length;s++)i.push(o[s]);for(e.appendChild(n);i.length;){var a=i.shift();p.CustomElementUtils.getSlotAssignment(a)||n.appendChild(a)}}n.setAttribute("data-oj-internal","")}return n},k._METADATA_MAP={};class B{static isDataProvider(e){return!!e.fetchFirst}static isTreeDataProvider(e){return!!e.getChildDataProvider}}c._registerLegacyNamespaceProp("DataProviderFeatureChecker",B);var U,V,H={isDefaultPrevented:function(){return!1},preventDefault:function(){this.isDefaultPrevented=W},stopPropagation:function(){this.isPropagationStopped=W},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=W}};function G(e,t,n,r,i,o,s){var a=n,l=!1,u={};delete r[i],Object.defineProperty(r,i,{get:function(){if(l)return a;if(null!=e._settingNestedKey)return a;var n=o(s?s():i);return z([t,n,a],u)},set:function(t){a=t,null!=e._settingNestedKey?u[e._settingNestedKey]=!0:l=!0},enumerable:!0})}function K(e){if(1===e.length){var t=e[0];return t instanceof w?t.getCallback():null}for(var n=!1,r=0;r<e.length&&!n;r++){var i=e[r];null!=i&&i instanceof w&&(n=!0)}return n?function(t){var n=[];return e.forEach(function(e){null!=e&&e instanceof w?n.push(e.getCallback()(t)):n.push(e)}),z(n)}:null}function z(e,t){for(var n,r=0;r<e.length;r++){var i=e[r];if(void 0!==i)if(a.isPlainObject(i))n=Y({},a.isPlainObject(n)?[n,i]:[i],r===e.length-1?null:t,null);else n=i}return n}function Y(e,t,n,r){for(var i=t.length,o=0;o<i;o++)for(var s=t[o],l=Object.keys(s),u=0;u<l.length;u++){var c,d=l[u];if(c=null==n?null:null==r?d:r+"."+d,null==n||!n[c]){var h=s[d];if(void 0!==h)if(a.isPlainObject(h)){var p=a.isPlainObject(e[d])?[e[d],h]:[h];e[d]=Y({},p,n,c)}else e[d]=h}}return e}function W(){return!0}function $(e){return e.getAttribute&&e.getAttribute("class")||""}a.widget("oj.baseComponent",{options:{contextMenu:null,rootAttributes:null,optionChange:void 0,destroy:void 0},refresh:function(){this._propertyContext=null,this._SetupContextMenu()},_createWidget:function(e,t){e&&(this.OuterWrapper=e._wrapper),this._originalDefaults=this.options||{},this._constructorOptions=e||{},this._super(e,t),this._AfterCreateEvent()},_SetRootAttributes:function(){var e=this.options.rootAttributes;if(e){var t=this.widget();if(null==t)return;var n=e.class;n&&t.addClass(n),e.style&&f.error("The rootAttributes.style option violates the recommended\n          Content Security Policy which disallows inline styles and is therefore ignored.\n          Use the rootAttributes.class option instead."),delete(e=a.extend({},e)).class,delete e.style,t.attr(e),delete e.id;var r=Object.keys(e);if(r.length)throw new Error("Unsupported values passed to rootAttributes option: "+r.toString())}},_create:function(){this._SaveAttributes(this.element),this._InitOptions(this._originalDefaults,this._constructorOptions),delete this._originalDefaults,delete this._constructorOptions,this._ComponentCreate(),this._AfterCreate(),this._SetupResources(),this.element.addClass("oj-component-initnode")},_InitOptions:function(e,t){this._setupDefaultOptions(e,t),this._initContextMenuOption(t)},_ComponentCreate:function(){var e,t,n;e=this.element,t=this.widgetName,(n=e.data("oj-component-names"))||(n=[],e.data("oj-component-names",n)),n.indexOf(t)<0&&n.push(t),this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreate:function(){this._SetRootAttributes(),this.contextMenuEventNamespace=this.eventNamespace+"contextMenu",this.activeableEventNamespace=this.eventNamespace+"activeable",this.hoverableEventNamespace=this.eventNamespace+"hoverable"},_AfterCreateEvent:a.noop,_setOptionClasses:function(){},_setOptionDisabled:function(){},_classes:function(){return""},_removeClass:function(){return this},_addClass:function(){return this},_toggleClass:function(){return this},_SaveAttributes:function(e){},_SaveAllAttributes:function(e){var t=this;this._savedAttributes=[],a.each(e,function(e,n){var r={},i={element:n,attributes:r},o=n.attributes;t._savedAttributes.push(i),a.each(o,function(e,t){var n=t.name;r[n]={attr:t.value}})})},_GetSavedAttributes:function(e){var t=this._savedAttributes;if(void 0===t)return null;for(var n=e[0],r=0,i=t.length;r<i;r++){var o=t[r];if(o.element===n)return o.attributes}return{}},_RestoreAttributes:function(){},_RestoreAllAttributes:function(){a.each(this._savedAttributes,function(e,t){var n=a(t.element),r=t.attributes;if(1===n.length){var i,o,s=t.element.attributes,l=[];for(i=0,o=s.length;i<o;i++)s[i].name in r||l.push(s[i].name);for(i=0,o=l.length;i<o;i++)"style"===l[i]?n[0].style=null:n.removeAttr(l[i]);var u=Object.keys(r);for(i=0;i<u.length;i++){var c=u[i];"style"===c&&""===r[c].attr?n[0].style=null:n.attr(c,r[c].attr)}}})},_GetTranslationsSectionName:function(){return this.widgetFullName},_CompareOptionValues:function(e,t,n){return this._IsCustomElement()&&this._getWritebackOption(e)?s.Object.compareValues(t,n):t===n},getTranslatedString:function(e,t){var n={};arguments.length>2?n=Array.prototype.slice.call(arguments,1):2===arguments.length&&("object"==typeof(n=arguments[1])||n instanceof Array||(n=[n]));var r=this.option("translations."+e);return null==r?e:m.applyParameters(r.toString(),n)},getNodeBySubId:function(e){return null!=e&&null!=e.subId||!this.element?null:this.element[0]},getSubIdByNode:function(e){return null},destroy:function(){if(this._IsCustomElement())throw new Error("destroy cannot be called on a custom element");this._trigger("destroy"),d.dispatchEvent(this.element[0],new CustomEvent("_ojDestroy")),this._ReleaseResources(),this._super(),this.element.removeClass("oj-component-initnode"),this.widget().removeClass("oj-disabled"),this._removeStateClasses(this.element),function(e,t){var n=e.data("oj-component-names");if(n){var r=n.indexOf(t);r>=0&&(n.splice(r,1),0===n.length&&e.removeData("oj-component-names"))}}(this.element,this.widgetName),this._RestoreAttributes(),this._initialCmDomAttr?this.element.attr("contextmenu",this._initialCmDomAttr):this.element.removeAttr("contextmenu"),this._propertyContext=null},option:function(e,t){if(0===arguments.length)return a.widget.extend({},this.options);var n,r=arguments[0],i=r,o=null,s={};if("string"==typeof r){i={};var l=r.split(".");if(r=l.shift(),l.length){var u;o=l.join(".");try{arguments.length>1&&(this._settingNestedKey=o),u=a.widget.extend({},this.options[r]),i[r]=u}finally{this._settingNestedKey=null}for(n=0;n<l.length-1;n++)u[l[n]]=u[l[n]]||{},u=u[l[n]];if(r=l.pop(),1===arguments.length)return void 0===u[r]?null:u[r];u[r]=t}else{if(1===arguments.length)return void 0===this.options[r]?null:this.options[r];i[r]=t}s=arguments[2]||s}else s=arguments[1]||s;if(null!=o){var c={path:e,value:t};s=a.widget.extend({},s,{subkey:o,subproperty:c})}var d=s?s._context:null,h=!!d&&d.internalSet,_={},m=Object.keys(i);for(n=0;n<m.length;n++){var g=m[n],v=i[g],y=this.options[g],E=s&&s.changed;E||!this._CompareOptionValues(g,y,v)?_[g]=v:this._IsCustomElement()&&f.info(p.CustomElementUtils.getElementInfo(this.element[0])+": Ignoring property set for property '"+g+"' with same value.")}if(Object.keys(_).length>0){p.CustomElementUtils.allowSlotRelocation(!0);try{h?this._internalSetOptions(_,s):this._setOptions(_,s)}finally{p.CustomElementUtils.allowSlotRelocation(!1)}}return this},_internalSetOptions:function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i],s=this.options[i];this.options[i]=o,this._optionChanged(i,o,s,t)}},_setOptions:function(e,t){p.CustomElementUtils.allowSlotRelocation(!0);try{for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i];this._setOption(i,o,t)}}finally{p.CustomElementUtils.allowSlotRelocation(!1)}return this},_setOption:function(e,t,n){var r=this.options[e];if("disabled"===e)this.options[e]=t,this.widget().toggleClass("oj-disabled",!!t).attr("aria-disabled",t),t&&this._removeStateClasses(this.widget());else{try{var i=null==n?null:n.subkey;null!=i&&(this._settingNestedKey=i),this._super(e,t)}finally{this._settingNestedKey=null}"contextMenu"===e&&this._SetupContextMenu()}return this._optionChanged(e,t,r,n),this},_optionChanged:function(e,t,n,r){var i,o=null,s=!1,l=!1,u=null,c="external",d=null;if(r&&(o=r._context)){if(o.skipEvent)return;u=o.originalEvent,s=void 0===o.writeback?null!=u:o.writeback,l=o.readOnly,d=o.optionMetadata,i=o.extraData,o.internalSet&&(c="internal")}(d=d||{}).writeback=s?"shouldWrite":"shouldNotWrite",l&&(d.readOnly=!0);var h={option:e,previousValue:n,value:t,optionMetadata:d,updatedFrom:c},p=null==r?null:r.subkey;if(p){var f=p.split("."),_=n;f.forEach(function(e){_&&(_=_[e])});var m=r.subproperty;m.previousValue=_,h.subproperty=m}null!=i&&(h=a.extend({},i,h)),this._trigger("optionChange",u,h)},_SetupResources:function(){this._SetupContextMenu()},_ReleaseResources:function(){this._ReleaseContextMenu()},_trigger:function(e,t,n){return this._trigger2(e,t,n).proceed},_trigger2:function(e,t,n){var r=n||{};if(this._IsCustomElement())return this._triggerCustomEvent(e,t,r);var i=this.options[e],o=a.Event(t,H);return o.type=(this.widgetEventPrefix+e).toLowerCase(),o.target=this.element[0],this.element.trigger(o,r),{proceed:!(a.isFunction(i)&&!1===i.apply(this.element[0],[o].concat(r))||o.isDefaultPrevented()),event:o}},_triggerCustomEvent:function(e,t,n){var r,i,o,s={},l=this._getRootElement();if("optionChange"===e){var u=k.getPropertyForAlias(l,n.option);if(!k.isKnownProperty(l,u))return{proceed:!0,event:null};r=p.AttributeUtils.propertyNameToChangeEventType(u);for(var c=Object.keys(n),d=0;d<c.length;d++){var h=c[d];if("option"!==h)if("optionMetadata"===h)for(var f=Object.keys(n[h]),_=0;_<f.length;_++){var m=f[_];"writeback"!==m&&"component"!==m&&(s[m]=n[h][m])}else s[h]=n[h]}}else{if(r=p.AttributeUtils.eventTriggerToEventType(e),!k.isKnownEvent(l,r))return{proceed:!0,event:null};i=!0,o=!0,s=this._resolveJQueryObjects(n)}t&&(s.originalEvent=t instanceof a.Event?t.originalEvent:t);var g={detail:s};i&&(g.bubbles=!0),o&&(g.cancelable=!0);var v=new CustomEvent(r,g);return l.dispatchEvent(v),{proceed:!v.defaultPrevented,event:v}},_resolveJQueryObjects:function(e){for(var t=s.CollectionUtils.copyInto({},e),n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o&&o instanceof a&&(0===o.length?t[i]=null:1===o.length?t[i]=o[0]:t=o.toArray())}return t},_initContextMenuOption:function(e){var t=this.element.attr("contextmenu");this._initialCmDomAttr=t,t&&!("contextMenu"in e)&&this.option("contextMenu",document.getElementById(t),{_context:{internalSet:!0}})},_handleContextMenuGesture:function(e,t,n){if(!this._IsEffectivelyDisabled()){var r;if("OJ-MENU"===e.tagName)r=e;else{var i=P.__GetWidgetConstructor(e,"ojMenu");if(!(r=i&&i("instance")))throw new Error("Invalid JET Menu.")}this._NotifyContextMenuGesture(r,t,n),a(e).is(":visible")&&t.preventDefault()}},_SetupContextMenu:function(){var e=this._GetContextMenu();if(e||(e=this._GetDefaultContextMenu()),e&&void 0===this._contextMenuGestureInit){this._contextMenuGestureInit=e;var t=this;v.startDetectContextMenuGesture(this.widget()[0],function(n,r){t._handleContextMenuGesture(e,n,r)})}},_ReleaseContextMenu:function(){this._contextMenuGestureInit=void 0,v.stopDetectContextMenuGesture(this.widget()[0])},_GetContextMenu:function(){if(this._IsCustomElement()){var e=p.CustomElementUtils.getSlotMap(this._getRootElement()).contextMenu;if(e&&e.length>0)return e[0]}else if(this.options.contextMenu)return a(this.options.contextMenu).first()[0];return null},_NotifyContextMenuGesture:function(e,t,n){this._OpenContextMenu(t,n)},_OpenContextMenu:function(e,t,n,r,i){var o=this._GetContextMenu();if(o||(o=this._contextMenuGestureInit&&a(this._contextMenuGestureInit).is(":visible")?this._contextMenuGestureInit:this._GetDefaultContextMenu()),o){var s={mouse:{my:"start top",at:"start bottom",of:e,collision:"flipfit"},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher",collision:"flipfit"}},l={launcher:this.element,position:s[t]},u={initialFocus:"menu"},c=i?a.extend(l,n,u):a.extend(!0,l,n,u);if(o.__openingContextMenu=!0,"OJ-MENU"===o.tagName)o.open(e,c,r);else{var d=P.__GetWidgetConstructor(o,"ojMenu");(d&&d("instance")).open(e,c,r);var h=function(e){e.preventDefault()};o.addEventListener("contextmenu",h),window.setTimeout(function(){o.removeEventListener("contextmenu",h)},50)}o.__openingContextMenu=!1}},_GetDefaultContextMenu:function(){return null},_removeStateClasses:function(e){e.removeClass("oj-hover oj-focus oj-focus-highlight oj-active"),e.find(".oj-hover").removeClass("oj-hover"),e.find(".oj-focus").removeClass("oj-focus"),e.find(".oj-focus-highlight").removeClass("oj-focus-highlight"),e.find(".oj-active").removeClass("oj-active")},_isRealMouseEvent:function(){return!d.recentTouchEnd()},_AddHoverable:function(e){var t;a.isPlainObject(e)?t=e.element:(t=e,e={});var n=e.afterToggle||a.noop;t.on("mouseenter"+this.hoverableEventNamespace,this._hoverStartHandler.bind(this,n)).on("mouseleave"+this.hoverableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-hover",n))},_RemoveHoverable:function(e){e&&e.off(this.hoverableEventNamespace)},_AddActiveable:function(e){var t;a.isPlainObject(e)?t=e.element:(t=e,e={});var n=e.afterToggle||a.noop;d.isTouchSupported()&&(t[0]&&(this._touchstartListener=this._activeStartHandler.bind(this,n),t[0].addEventListener("touchstart",this._touchstartListener,{passive:!0})),t.on("touchend"+this.activeableEventNamespace+" touchcancel"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",n))),t.on("mousedown"+this.activeableEventNamespace,this._activeStartHandler.bind(this,n)).on("mouseup"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",n)).on("mouseenter"+this.activeableEventNamespace,this._activeStartHandler.bind(this,n)).on("mouseleave"+this.activeableEventNamespace,this._hoverAndActiveEndHandler.bind(this,"oj-active",n))},_RemoveActiveable:function(e){e&&(e[0]&&(e[0].removeEventListener("touchstart",this._touchstartListener,{passive:!0}),delete this._touchstartListener),e.off(this.activeableEventNamespace),U=null)},_activeStartHandler:function(e,t){var n=a(t.currentTarget);("mouseenter"!==t.type||this._isTargetInActiveElement(t.currentTarget))&&(n.hasClass("oj-disabled")||"touchstart"!==t.type&&!this._isRealMouseEvent(t)||(n.addClass("oj-active"),e(t.type),"mousedown"===t.type&&(U=t.currentTarget,this.document.one("mouseup",function(){U=null}))))},_hoverStartHandler:function(e,t){var n=a(t.currentTarget);!n.hasClass("oj-disabled")&&this._isRealMouseEvent(t)&&(n.addClass("oj-hover"),e(t.type))},_hoverAndActiveEndHandler:function(e,t,n){("oj-active"!==e||"mouseleave"!==n.type||this._isTargetInActiveElement(n.currentTarget))&&(a(n.currentTarget).removeClass(e),t(n.type))},_isTargetInActiveElement:function(e){return U===e||null!=U&&a.contains(U,e)},_hoverable:function(){},_focusable:function(e){a.isPlainObject(e)||(e={element:e}),e.component=this,d.makeFocusable(e)},_UnregisterChildNode:function(e){if(e){a(e).off(this.eventNamespace);var t=this.bindings;t&&(this.bindings=a(t.not(e)))}},_GetReadingDirection:function(){return d.getReadingDirection()},_NotifyAttached:function(){this._propertyContext=null},_NotifyDetached:function(){this._propertyContext=null,this._removeStateClasses(this.widget())},_NotifyInitShown:function(){},_NotifyShown:function(){},_NotifyHidden:function(){},_IsEffectivelyDisabled:function(){return!(!this.options.disabled&&!this._ancestorDisabled)},__setAncestorComponentDisabled:function(e){this._ancestorDisabled=e},_getTranslationSectionLoader:function(){var e=[],t=this,n=0;this._traverseWidgetHierarchy(function(r){var i=0===n?t._GetTranslationsSectionName():r.widgetFullName;n+=1;var o=m.getComponentTranslations(i);null==o||a.isEmptyObject(o)||e.push(i)});var r=e.length;return r>0?function(){if(1===r)return m.getComponentTranslations(e[0]);for(var t={},n=r-1;n>=0;n--)a.widget.extend(t,m.getComponentTranslations(e[n]));return t}:null},_getDynamicPropertyContext:function(){if(!this._propertyContext){var e={};this._propertyContext=e;var t=this.element[0];e.containers=function(e){for(var t=e,n=[];t;){var r=t.getAttribute,i=r?r.call(t,P._OJ_CONTAINER_ATTR):null;null!=i&&n.push(i),t=t.parentNode}return n}(t),e.element=t,e.isCustomElement=this._IsCustomElement(),e.isCustomElement&&(e.customElement=this._getRootElement())}return this._propertyContext},_setupDefaultOptions:function(e,t){var n=this.options,r=this._getTranslationSectionLoader(),i=t.translations;null==r||void 0!==i&&!a.isPlainObject(i)||G(this,void 0,t.translations,n,"translations",r),this._loadGlobalDefaultOptions(e,t)},_loadGlobalDefaultOptions:function(e,t){var n=this.options,r=[];this._traverseWidgetHierarchy(function(e){r.push(e.widgetName)}),r.push("default");var i=P.__getDefaultOptions(r);if(!a.isEmptyObject(i))for(var o=this,s=function(){return o._getDynamicPropertyContext()},l=Object.keys(i),u=0;u<l.length;u++){var c=l[u],d=t[c];if(void 0===d||a.isPlainObject(d)){var h=i[c];if(h){var p=K(h);if(p)G(this,e[c],d,n,c,p,s);else{var f=[e[c]].concat(h);f.push(d),n[c]=z(f)}}}}},_traverseWidgetHierarchy:function(e){for(var t=this.constructor.prototype;null!=t&&"oj"===t.namespace;)e(t),t=Object.getPrototypeOf(t)},_getRootElement:function(){return this.OuterWrapper||this.element[0]},_IsCustomElement:function(){return p.CustomElementUtils.isElementRegistered(this._getRootElement().tagName)},_GetThrottlePromise:function(){if(this._IsCustomElement()){var e=this._getRootElement();return p.CustomElementUtils.getElementBridge(e).getThrottlePromise()}return Promise.resolve(null)},_FixRendererContext:function(e){if(this._IsCustomElement()){var t=s.CollectionUtils.copyInto({},e);return delete t.component,t.componentElement=this._getRootElement(),t}return e},_GetCustomElement:function(){return this._getRootElement()},_WrapCustomElementRenderer:function(e){return this._IsCustomElement()&&"function"==typeof e?function(t){var n=e(t);return n&&n.insert?n.insert:null}:e},__saveWritebackOptions:function(e){this._writebackOptions=e},_getWritebackOption:function(e){return!(!this._writebackOptions||!this._writebackOptions[e])},__handleSubtreeAttached:function(){this._IsCustomElement()||this._NotifyAttached()},__handleSubtreeDetached:function(){this._IsCustomElement()||this._NotifyDetached()},_VerifyConnectedForSetup:function(){return!1},__handleConnected:function(){this._NotifyAttached(),this.__delayConnectDisconnect(0)||this._SetupResources()},__handleDisconnected:function(){this.__delayConnectDisconnect(1)||this._ReleaseResources(),this._NotifyDetached()},__delayConnectDisconnect:function(e){return!!this._VerifyConnectedForSetup()&&(void 0===this.connectedState&&window.queueMicrotask(function(){this.connectedState===e&&(0===e?this._SetupResources():this._ReleaseResources()),this.connectedState=void 0}.bind(this)),this.connectedState=e,!0)},__handleWatchedAttribute:function(e,t,n){this._WatchedAttributeChanged(e,t,n)},_WatchedAttributeChanged:function(e,t,n){},__getFocusElement:function(){return this.GetFocusElement()},GetFocusElement:function(){return this.element[0]}}),delete a.fn.baseComponent,s.__registerWidget=function(e,t,n,r){if(a.widget(e,t,n),r){var i=e.split(".")[1];delete a.fn[i]}if("oj.oj"===e.substring(0,5)||"oj._oj"===e.substring(0,6)){var o,s=e.split("."),l=s[0],u=s[1],c=l+"-"+u;o="_"===u.substring(0,1)?"_"+l+"-"+u.substring(3):l+"-"+u.substring(2),a.expr.pseudos[o.toLowerCase()]=function(e){return!!a.data(e,c)}}},a.cleanData=(V=a.cleanData,function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(null==r)break;var i=!1,o=P.__GetWidgetConstructor(r);if(o&&!(i=o("instance")._IsCustomElement())){var s=P.getComponentElementByNode(r);i=s&&p.CustomElementUtils.isElementRegistered(s.tagName)}i||t.push(r)}t.length>0&&V(t)}),a.fn.addClass=function(e){if("function"==typeof e)return this.each(function(t){a(this).addClass(e.call(this,t,$(this)))});const t=Array.isArray(e)?e:p.CustomElementUtils.getClassSet(e);return this.each(function(){1===this.nodeType&&this.classList.add(...t)}),this},a.fn.removeClass=function(e){if("function"==typeof e)return this.each(function(t){a(this).removeClass(e.call(this,t,$(this)))});if(!arguments.length)return this.attr("class","");const t=Array.isArray(e)?e:p.CustomElementUtils.getClassSet(e);return this.each(function(){1===this.nodeType&&this.classList.remove(...t)}),this};const q={};s._registerLegacyNamespaceProp("Test",q),q.ready=!1,q.domNodeForLocator=function(e){var t=e;if(s.StringUtils.isString(e)){var n=e;try{t=JSON.parse(n)}catch(e){return null}}if(t&&t.element){var r=a(t.element);if(r&&r.length>0){delete t.element;var i=t;return P.getNodeBySubId(r[0],i)}}return null},q.getOpenPopupCount=function(){return s.ZOrderUtils.getOpenPopupCount()},q.findOpenPopups=function(){return s.ZOrderUtils.findOpenPopups()},q.compareStackingContexts=function(e,t){return s.ZOrderUtils.compareStackingContexts(e,t)};const X=P.subtreeAttached,J=P.subtreeDetached,Q=P.subtreeHidden,Z=P.subtreeShown,ee=P.createDynamicPropertyGetter,te=P.setDefaultOptions,ne=P.getDefaultOptions,re=P.__GetWidgetConstructor,ie=P.setComponentOption,oe=P.getComponentOption,se=P.getWidgetConstructor,ae=P.isComponentInitialized,le=P.markPendingSubtreeHidden,ue=P.unmarkPendingSubtreeHidden,ce=P.__getDefaultOptions,de=P.getComponentElementByNode,he=P.getSubIdByNode,pe=P.getNodeBySubId,fe=P.callComponentMethod,_e=P._OJ_CONTAINER_ATTR;e.DataProviderFeatureChecker=B,e._OJ_CONTAINER_ATTR=_e,e.__GetWidgetConstructor=re,e.__getDefaultOptions=ce,e.callComponentMethod=fe,e.createDynamicPropertyGetter=ee,e.getComponentElementByNode=de,e.getComponentOption=oe,e.getDefaultOptions=ne,e.getNodeBySubId=pe,e.getSubIdByNode=he,e.getWidgetConstructor=se,e.isComponentInitialized=ae,e.markPendingSubtreeHidden=le,e.setComponentOption=ie,e.setDefaultOptions=te,e.subtreeAttached=X,e.subtreeDetached=J,e.subtreeHidden=Q,e.subtreeShown=Z,e.unmarkPendingSubtreeHidden=ue,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojhtmlutils",["exports"],function(e){"use strict";const t={};t.stringToNodeArray=function(e){var t,n,r,i,o,s=["table","caption","colgroup","col","thead","tfoot","th","tbody","tr","td","template","p"];for(t=0;t<s.length;t++)n=s[t],r=e,i=void 0,o=void 0,i=new RegExp("<"+n+"(?=\\s|>)","gi"),o=new RegExp("</"+n+"(?=\\s|>)","gi"),e=r.replace(i,"<oj-bind-replace-"+n).replace(o,"</oj-bind-replace-"+n);var a=document.createElement("div");a.innerHTML=e,-1!==e.indexOf("<oj-bind-replace-")&&function e(t){for(var n=t.childNodes,r=n.length,i=0;i<r;i++){var o=n[i];e(o);var s,a,l,u=o.nodeName.toLowerCase();const r="oj-bind-replace-";if(u.substr(0,16)===r){var c=u.substr(16);for(l=document.createElement(c),s=0;s<o.attributes.length;s++)a=o.attributes[s],l.setAttribute(a.name,a.value);var d=l.content?l.content:l;for(s=0;o.childNodes.length>0;)d.appendChild(o.childNodes[0]);t.replaceChild(l,o)}else if("script"===u||"style"===u){for(l=document.createElement(u),s=0;s<o.attributes.length;s++)a=o.attributes[s],l.setAttribute(a.name,a.value);var h=o.innerHTML;l.innerHTML=h.replace(new RegExp(r,"g"),""),t.replaceChild(l,o)}else if(8===o.nodeType){var p=o.nodeValue;o.nodeValue=p.replace(new RegExp(r,"g"),"")}}}(a);for(var l=[];a.firstChild;)l.push(a.firstChild),a.removeChild(a.firstChild);return l},t.getTemplateContent=function(e){var t=[];if(1!==e.nodeType||"template"!==e.tagName.toLowerCase())throw new Error("Invalid template node "+e);var n=e.content;return n?t.push(document.importNode(n,!0)):Array.prototype.forEach.call(e.childNodes,function(e){t.push(e.cloneNode(!0))}),t};const n=t.stringToNodeArray,r=t.getTemplateContent;e.getTemplateContent=r,e.stringToNodeArray=n,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojkoshared",["ojs/ojcore-base","knockout","ojs/ojconfig","ojs/ojlogger","ojs/ojhtmlutils"],function(e,t,n,r,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;const o=function(){this.Init()};function s(e,r){return function(i,o,s,a){var l=n.getExpressionEvaluator();return l?function(e,n,r,i){var o=i[e];if(!o){var s=t.expressionRewriting.preProcessBindings(e,n);o=r.createEvaluator("{"+s+"}").evaluate,i[e]=o}return o}(i,a,l,r)([o.$data||{},o,{$element:s}]):e(i,o,s,a)}}e.Object.createSubclass(o,e.Object,"ComponentBinding.GlobalChangeQueue"),o.prototype.Init=function(){o.superclass.Init.call(this),this._trackers=[],this._queue=[]},o.prototype.registerComponentChanges=function(t){-1===this._trackers.indexOf(t)&&(this._trackers.push(t),this._delayTimer||(this._delayTimer=setTimeout(e.Object.createCallback(this,this._deliverChangesImpl),1),this._delayPromise=new Promise(function(e){this._delayPromiseResolver=e}.bind(this))))},o.prototype.deliverChanges=function(){this._delayTimer&&clearTimeout(this._delayTimer),this._deliverChangesImpl()},o.prototype.getThrottlePromise=function(){return this._delayPromise||Promise.resolve()},o.prototype._deliverChangesImpl=function(){this._delayTimer=null,this._resolveDelayPromise();var e=this._trackers;this._trackers=[];for(var t=0;t<e.length;t++){var n=e[t];this._queue.push({tracker:n,changes:n.flushChanges()})}for(;this._queue.length>0;){var r=this._queue.shift();r.tracker.applyChanges(r.changes)}},o.prototype._resolveDelayPromise=function(){this._delayPromise&&(this._delayPromiseResolver(),this._delayPromiseResolver=null,this._delayPromise=null)};return(new function(){var e=new WeakMap,a={},l={},u={},c=new o;function d(e){var t,r=n.getExpressionEvaluator();if(r){var i=r.createEvaluator(e).evaluate;return function(e,t){return i([e,e.$data||{},{$element:t}])}}try{t=new Function("$context","$element","with($context.$data||{}){with($context){return "+e+"}}")}catch(t){throw new Error(t.message+' in expression "'+e+'"')}return t}function h(t,n,r){if(!r)return t(n,r);var i,o=e,s=r._ojCacheScope||r;(i=o.get(s))||(i={},o.set(s,i));var a=i[n];return a||(a=t(n,r),i[n]=a),a}function p(e,t,n){var r=t.getBindingsString;if(r)return r.call(t,e,n);switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:var i=e.nodeValue.match(/^\s*ko(?:\s+([\s\S]+))?\s*$/);return i?i[1]:null;default:return null}}this.install=function(){var e=t.bindingProvider,n=e.instance;if(!n.getBindingAccessors)return r.error("JET's Knockout bindings are not compatible with the current binding provider since it does not implement getBindingAccessors()"),this;var o={getWrapped:function(){return n}};e.instance=o;var c,f,_,m=[];return m.push("getBindingAccessors","nodeHasBindings","getBindings"),m.forEach(function(e){o[e]=function(e,n,r){var i="nodeHasBindings"===n;return function(o){if(i){var s=o.nodeType;if(1!==s&&8!==s)return!1}var l=r(n,e[n]),u=l?l.apply(e,arguments):null,c=a[n];if(null!=c){var d=arguments;c.forEach(function(n){var r=Array.prototype.slice.call(d);r.push(u,e),u=t.ignoreDependencies(n,null,r)})}return u}}(n,e,function(e,r){return"getBindingAccessors"!==e?r:function(e,n){return function(r,i){if(i._ojExtended){var o=p(r,n,i),s=o?function(e,n){return h(function(e){return d("{"+t.expressionRewriting.preProcessBindings(e,{valueAccessors:!0})+"}")},e,n)}(o,i)(i,r):null;if(1===r.nodeType&&t.components.isRegistered(r.tagName.toLowerCase())){var a=e.call(n,r,i).component;a&&((s=s||{}).component=a)}return s}return e.call(n,r,i)}}(r,n)})}),o.preprocessNode=function(e){var n=e.preprocessNode;return function(r){var i,o,s=null;return 1===r.nodeType&&(i=l[r.nodeName.toLowerCase()]),i||(i=n,s=e),i&&(o=t.ignoreDependencies(i,s,[r])),Array.isArray(o)&&(o=function(e,n){var r=t.bindingProvider.instance,i=n.slice(0),o=n[0],s=0,a=0;for(;s>=0;){var l=t.virtualElements.nextSibling(o);if(o!==e){var u=r.preprocessNode(o);Array.isArray(u)&&(i.splice.apply(i,[a,1].concat(u)),a+=u.length-1)}a+=1;var c=s+1;s=(o=l)?n.indexOf(o,c):-1,a+=s-c}return i}(r,o)),o}}(n),c=t.nativeTemplateEngine.prototype,_=c[f="renderTemplateSource"],c[f]=function(e,t,n,r){return _.call(this,e,t,n,r||document)},function(){const e=t.templateSources.domElement.prototype,n=e.nodes;e.nodes=function(){const e=n.apply(this,arguments);return e&&11===e.nodeType?document.importNode(e,!0):e}}(),t.components.loaders.unshift({loadTemplate:function(e,n,r){var o;if("string"==typeof n)o=t.utils.parseHtmlFragment(n,document);else if(n.element){var s=n.element;if(s instanceof HTMLElement)o=i.getTemplateContent(s);else{if("string"!=typeof s)throw new Error("Unknown element type: "+s);var a=document.getElementById(s);if(!a)throw new Error("Cannot find element with ID "+s);o=i.getTemplateContent(a)}}o?t.components.defaultLoader.loadTemplate(e,o,r):r(null)}}),function(e){var n,i=t.bindingProvider.instance;for(;i&&!n;){var o=i.parseBindingsString;o?(n=!0,i.parseBindingsString=s(o.bind(i),e)):i=i.getWrapped?i.getWrapped():null}n||r.error("Unable to patch KO expression evaluation implementation. If you have a custom binding provider, make sure it implements the getWrapped() method that returns the default binding provider instance.")}(u),this},this.addPostprocessor=function(e){Object.keys(e).forEach(function(t){a[t]=a[t]||[],a[t].push(e[t])})},this.registerPreprocessor=function(e,t){l[e]=t},this.getBindingsString=function(e,t,n){return p(e,t,n)},this.extendBindingContext=function(e,t,n,r,i){var o={$current:t,$root:void 0,$parent:void 0,$parents:void 0};return n&&(o[n]=t),r&&(o[r]=t),e?o=e.extend(o):o.$data={},Object.defineProperty(o,"_ojCacheScope",{value:i}),Object.defineProperty(o,"_ojExtended",{value:!0}),o},this.createBindingExpressionEvaluator=function(e,t){if(t._ojExtended)return d(e);var r,i=n.getExpressionEvaluator();if(i){var o=i.createEvaluator(e).evaluate;return function(e){return o([e.$data||{},e])}}try{r=new Function("$context","with($context){with($data||{}){return "+e+";}}")}catch(t){throw new Error(t.message+' in expression "'+e+'"')}return r},this.createEvaluator=function(e,t){return h(this.createBindingExpressionEvaluator,e,t)},this.getGlobalChangeQueue=function(){return c}}).install()}),define("ojs/ojtemplateengine-utils",["exports","preact","ojs/ojcore-base","ojs/ojcustomelement-utils","ojs/ojmetadatautils","ojs/ojlogger"],function(e,t,n,r,i,o){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const s=Symbol("row");class a{static renderNodes(e,n){const i=n.parentStub;let o=()=>Array.from(i.childNodes);n.nodes&&(o=a._getRetrieveNodesFunction(n.nodes)),t.render(e,i);const l=o();l.forEach(e=>{e.setAttribute&&e.setAttribute("data-oj-vdom-template-root",""),e[s]=n,e[r.CACHED_BINDING_PROVIDER]="preact"}),n.vnode=e,n.nodes=l}static clean(e){var n;const r=e[s];if(!r.cleaned){r.cleaned=!0;const e=a._getInsertNodesFunction(r.nodes);t.render(null,r.parentStub),e(r.nodes),null===(n=r.computedVNode)||void 0===n||n.dispose();const i=r.template,o=i._cachedRows.indexOf(r);i._cachedRows.splice(o,1)}}static _getInsertNodesFunction(e){const t=e[e.length-1],n=t.parentNode,r=t.nextSibling;return e=>{e.forEach(e=>n.insertBefore(e,r))}}static _getRetrieveNodesFunction(e){const t=e[0],n=e[e.length-1],r=t.parentNode,i=t.previousSibling,o=n.nextSibling;return()=>{const e=[];for(let t=i?i.nextSibling:r.firstChild;t!==o;t=t.nextSibling)e.push(t);return e}}static resolveVDomTemplateProps(e,t,n,i,o,s,u){const c=r.CustomElementUtils.getPropertiesForElementTag(n),[d,h]=a.extendTemplate(e,a._COMPUTED_PROPS_CACHE_FACTORY,e=>{for(const t of d)t.recalculateValue(e)}),p=new l(e=>a._computeProps(e,n,c,i,o,u),t,s,h);return d.add(p),p}static _computeProps(e,t,n,o,s,a){const l=e(s),u=(Array.isArray(l)?l:[l]).find(e=>e.type===t);if(!u)throw new Error("Item template must contain an element named {elementTagName}");const c={},d=u.props;return Object.keys(d).forEach(e=>{o.has(e)&&(c[e]=r.transformPreactValue(null,i.getPropertyMetadata(e,n),u.props[e]))}),c}static extendTemplate(e,t,n){if(!e._cachedRows){let r=e.render;Object.defineProperties(e,{_cachedRows:{writable:!0,value:t()},render:{enumerable:!0,get:()=>r,set(e){r=e,e&&n(e)}}})}return e._cachedRows}}a._COMPUTED_PROPS_CACHE_FACTORY=()=>{const e=new Set;return[e,e.delete.bind(e)]},a._ROW_CACHE_FACTORY=()=>[];class l{constructor(e,t,n,r){this._calculate=e,this._defaultProps=n,this._disposeCallback=r,this._value=e(t),this._merged=this._getMergedValue(this._value)}peek(){return this._merged}subscribe(e){if(this._sub)throw new Error("Resolved property observable does not support multiple subscribers");this._sub=e}dispose(){this._disposeCallback(this)}recalculateValue(e){const t=this._calculate(e),r=this._value;this._value=t,this._sub&&!n.Object.compareValues(t,r)&&(this._merged=this._getMergedValue(t),this._sub(this._merged))}_getMergedValue(e){return Object.assign({},this._defaultProps,e)}}class u{static getContext(e,t,n,r,i,s){if(e){let a=n.__ojBindingContext?n.__ojBindingContext:e.__ContextFor(n);return a||(o.info("Binding context not found when processing template for element with id: "+t.id+". Using binding context for element instead."),a=e.__ContextFor(t)),e.__ExtendBindingContext(a,r,i,s,t)}const a={$current:r};return s&&(a[s]=r),a}static getResolvedDefaultProps(e,t,n){let r=e.get(t);if(!r){const i=document.createElement(t);r=u.getStaticPropertyMap(i,n,document.body),e.set(t,r)}return r}static getStaticPropertyMap(e,t,n){const r={};if(e){const i=e.style;i.display="none",i.position="absolute",e.setAttribute("data-oj-binding-provider","none"),n.appendChild(e),t.forEach(function(t){void 0!==e[t]&&(r[t]=e[t])}),n.removeChild(e)}return r}static createPropertyBackedByObservable(e,t,n,r,i){const o=e.__Observable(r);Object.defineProperty(t,n,{get:()=>o(),set:e=>{o(e),i&&i(e)},enumerable:!0})}}e.PreactTemplate=a,e.TemplateEngineUtils=u,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojtemplateengine-ko",["knockout","ojs/ojcore","ojs/ojkoshared","ojs/ojcustomelement-utils","ojs/ojhtmlutils","ojs/ojtemplateengine-utils"],function(e,t,n,r,i,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const s=new WeakMap;return new class{constructor(){this._bindingProvider={__ContextFor:e.contextFor,__ExtendBindingContext:n.extendBindingContext,__KoComputed:e.computed,__Observable:e.observable}}execute(t,n,i,s,a){const l=n.getAttribute("data-oj-as"),u=o.TemplateEngineUtils.getContext(this._bindingProvider,t,n,i,s,l);if(n.render)throw new Error("The render property is not expected on the template for component "+t.id);const c=this._createAndPopulateContainer(n,a);let d=c.childNodes;for(let e=0;e<d.length;e++){d[e][r.CACHED_BINDING_PROVIDER]="knockout"}return e.applyBindingsToDescendants(u,c),Array.prototype.slice.call(d,0)}clean(t){return e.cleanNode(t)}resolveProperties(e,t,n,r,i,s,a,l){if(t.render)throw new Error("The render property is not expected on the template for component "+e.id);const u=t.getAttribute("data-oj-as"),c=o.TemplateEngineUtils.getContext(this._bindingProvider,e,t,i,s,u),d=this._getPropertyContributorsViaCache(t,c,n,r,l||e);return this._createComputed(d,c,a)}defineTrackableProperty(e,t,n,r){o.TemplateEngineUtils.createPropertyBackedByObservable(this._bindingProvider,e,t,n,r)}_createComputed(n,r,i){const o=e.pureComputed(()=>{const o={};n.evalMap.forEach((t,n)=>{var s=e.utils.unwrapObservable(t(r));i&&i(n,s),o[n[0]]=this._getMergedValue(o,n,s)});const s=t.CollectionUtils.copyInto;let a=s({},n.staticMap,null,!0);return a=s(a,o,null,!0),a});return this._wrap(o,["peek","subscribe","dispose"])}_wrap(e,t){const n={};return t.forEach(t=>{n[t]=e[t].bind(e)}),n}_createAndPopulateContainer(e,t){var n=document.createElement("div");t&&(n._ojReportBusy=t);for(var r=i.getTemplateContent(e),o=0;o<r.length;o++)n.appendChild(r[o]);return n}_getPropertyContributorsViaCache(e,t,n,r,i){let o=s.get(e);if(!o){o={},s.set(e,o);const a=this._createAndPopulateContainer(e).querySelector(n);o.evalMap=this._getPropertyEvaluatorMap(a,r,t),o.staticMap=this._getStaticPropertyMap(a,r,i)}return o}_getStaticPropertyMap(e,t,n){const r={};if(e){var i=e.style;i.display="none",i.position="absolute",e.setAttribute("data-oj-binding-provider","none"),n.appendChild(e),t.forEach(function(t){void 0!==e[t]&&(r[t]=e[t])}),n.removeChild(e)}return r}_getMergedValue(e,t,n){if(t.length<2)return n;const r=e[t[0]]||{};let i=r;const o=t.length-1;for(let e=1;e<o;e++){const n=t[e],r=i[n]||{};i[n]=r,i=r}return i[t[o]]=n,r}_getPropertyEvaluatorMap(e,t,i){for(var o=new Map,s=e?e.attributes:[],a=0;a<s.length;a++){var l=s[a],u=r.AttributeUtils.attributeToPropertyName(l.name).split(".");if(t.has(u[0])){var c=r.AttributeUtils.getExpressionInfo(l.value).expr;c&&o.set(u,n.createBindingExpressionEvaluator(c,i))}}return o}}}),define("ojs/ojtemplateengine-preact",["ojs/ojtemplateengine-utils"],function(e){"use strict";return new class{constructor(){this._defaultProps=new Map}execute(t,n,r,i,o){const s=n.getAttribute("data-oj-as"),a=e.TemplateEngineUtils.getContext(null,t,n,r,i,s);if(n.render)return this._executeVDomTemplate(n,a);throw new Error("The render property is expected on the template for component "+t.id)}clean(t){let n=t&&t.querySelectorAll?Array.from(t.querySelectorAll('[data-oj-vdom-template-root=""]')):[];return t&&t.hasAttribute&&t.hasAttribute("data-oj-vdom-template-root")&&n.push(t),n.forEach(t=>{e.PreactTemplate.clean(t)}),null}resolveProperties(t,n,r,i,o,s,a,l){const u=n.render;if(u){const t=e.TemplateEngineUtils.getResolvedDefaultProps(this._defaultProps,r,i);return e.PreactTemplate.resolveVDomTemplateProps(n,u,r,i,o,t,a)}throw new Error("The render property is expected on the template for component "+t.id)}defineTrackableProperty(e,t,n,r){throw new Error("This template engine does not support trackable property")}_executeVDomTemplate(t,n){const r=t.render(n.$current);e.PreactTemplate.extendTemplate(t,e.PreactTemplate._ROW_CACHE_FACTORY,n=>{t._cachedRows.forEach(t=>{let r=n(t.currentContext);e.PreactTemplate.renderNodes(r,t)})});const i=document.createElement("div"),o={currentContext:n.$current,template:t,parentStub:i,computedVNode:null,vnode:void 0,nodes:void 0};return e.PreactTemplate.renderNodes(r,o),t._cachedRows.push(o),o.nodes}}}),define("ojs/ojtemplateengine-preact-ko",["knockout","ojs/ojkoshared","ojs/ojcontext","ojs/ojtemplateengine-utils"],function(e,t,n,r){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;return new class{constructor(){this._defaultProps=new Map,this._bindingProvider={__ContextFor:e.contextFor,__ExtendBindingContext:t.extendBindingContext,__KoComputed:e.computed,__Observable:e.observable}}execute(e,t,n,i,o){const s=t.getAttribute("data-oj-as"),a=r.TemplateEngineUtils.getContext(this._bindingProvider,e,t,n,i,s);if(t.render)return this._executeVDomTemplate(t,a);throw new Error("The render property is expected on the template for component "+e.id)}clean(t){let n=t&&t.querySelectorAll?Array.from(t.querySelectorAll('[data-oj-vdom-template-root=""]')):[];return t&&t.hasAttribute&&t.hasAttribute("data-oj-vdom-template-root")&&n.push(t),n.forEach(e=>{r.PreactTemplate.clean(e)}),0===n.length?e.cleanNode(t):null}resolveProperties(e,t,n,i,o,s,a,l){const u=t.render;if(u){const e=r.TemplateEngineUtils.getResolvedDefaultProps(this._defaultProps,n,i);return r.PreactTemplate.resolveVDomTemplateProps(t,u,n,i,o,e,a)}throw new Error("The render property is expected on the template for component "+e.id)}defineTrackableProperty(e,t,n,i){r.TemplateEngineUtils.createPropertyBackedByObservable(this._bindingProvider,e,t,n,i)}_executeVDomTemplate(t,i){const o=n.getContext(t).getBusyContext(),s=e.pureComputed({read:()=>t.render(i.$current)}).extend({rateLimit:{timeout:0,method:(e,t)=>{let n;return()=>{if(!n){const r=o.addBusyState({description:"pending changes for the template element"});n=setTimeout(()=>{n=void 0,e(),r()},t)}}}}}),a=s();r.PreactTemplate.extendTemplate(t,r.PreactTemplate._ROW_CACHE_FACTORY,e=>{t._cachedRows.forEach(t=>{let n=e(t.currentContext);r.PreactTemplate.renderNodes(n,t)})});const l=document.createElement("div"),u={currentContext:i.$current,template:t,parentStub:l,computedVNode:s,vnode:void 0,nodes:void 0};return r.PreactTemplate.renderNodes(a,u),t._cachedRows.push(u),s.subscribe(e=>{const n=t._cachedRows.find(e=>e.computedVNode===s);n&&r.PreactTemplate.renderNodes(e,n)}),u.nodes}}}),define("ojs/ojcomposite-knockout",["ojs/ojcore-base","knockout","ojs/ojcustomelement","ojs/ojcustomelement-utils","ojs/ojkoshared","ojs/ojlogger","ojs/ojtemplateengine-ko","ojs/ojtemplateengine-preact-ko"],function(e,t,n,r,i,o,s,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;const l={};e._registerLegacyNamespaceProp("CompositeTemplateRenderer",l),l.renderTemplate=function(n,r,i){var o=l._storeNodes(r,i);t.virtualElements.setDomNodeChildren(r,i),l.invokeViewModelMethod(r,n.viewModel,"attached",[n.viewModelContext]),l.invokeViewModelMethod(r,n.viewModel,"connected",[n.viewModelContext]);var s=l._getKoBindingContext().createChildContext(n.viewModel,void 0,function(t){t[e.Composite.__COMPOSITE_PROP]=r,t.__oj_slots=n.slotMap,t.__oj_nodestorage=o,t.$slotNodeCounts=n.slotNodeCounts,t.$slotCounts=n.slotNodeCounts,t.$props=n.props,t.$properties=n.props,t.$unique=n.unique,t.$uniqueId=n.uniqueId,t.$parent=null,t.$parentContext=null,t.$parents=null,t.$provided=null});t.applyBindingsToDescendants(s,r),l.invokeViewModelMethod(r,n.viewModel,"bindingsApplied",[n.viewModelContext])},l.getEnclosingComposite=function(n){for(var r=null,i=t.contextFor(n);i&&!r;i=i.$parentContext)r=i[e.Composite.__COMPOSITE_PROP];return r},l.createTracker=function(){return t.observable()},l.invokeViewModelMethod=function(e,n,r,i){if(null!=n){var o=n[r];if("function"==typeof o)try{return t.ignoreDependencies(o,n,i)}catch(t){throw new Error("Error while invoking "+r+" callback for "+e.tagName.toLowerCase()+" with id '"+e.id+"'.")}}},l._storeNodes=function(t,n){var i,o=t.childNodes;if(o){(i=document.createElement("div")).setAttribute("data-bind","_ojNodeStorage_"),i.style.display="none",n.push(i);for(var s=[],a=0;a<o.length;a++){var l=o[a];r.CustomElementUtils.isSlotable(l)&&s.push(l)}s.forEach(function(e){i.appendChild(e)}),e.Components&&e.Components.subtreeHidden(i)}return i},l._getKoBindingContext=function(){if(!l._BINDING_CONTEXT){var e=document.createElement("div");t.applyBindings(null,e),l._BINDING_CONTEXT=t.contextFor(e),t.cleanNode(e)}return l._BINDING_CONTEXT},l._BINDING_CONTEXT=null,function(){function e(e,n){var r,i,o=["name","slot"];n?(o.push("data"),o.push("as"),i="ko _ojBindTemplateSlot_:{"):(o.push("index"),i="ko _ojBindSlot_:{");for(var s=[],a=0;a<o.length;a++){var l=o[a],u=t(e.getAttribute(l));u&&s.push(l+":"+u)}i+=s.join(","),i+="}";var c=document.createComment(i),d=document.createComment("/ko");r=[c];var h=e.parentNode;for(h.insertBefore(c,e);e.childNodes.length>0;){var p=e.childNodes[0];h.insertBefore(p,e),r.push(p)}return r.push(d),h.replaceChild(d,e),r}function t(e){if(null!=e){var t=r.AttributeUtils.getExpressionInfo(e).expr;return null==t&&(t="'"+e+"'"),t}return null}i.registerPreprocessor("oj-bind-slot",e),i.registerPreprocessor("oj-slot",e),i.registerPreprocessor("oj-bind-template-slot",function(t){return e(t,!0)})}(),t.bindingHandlers._ojNodeStorage_={init:function(){return{controlsDescendantBindings:!0}}};const u={};e._registerLegacyNamespaceProp("SlotUtils",u),u.cleanup=function(n,r){var i=r.__oj_nodestorage;if(i)for(var o=t.virtualElements.firstChild(n);o;){var s=t.virtualElements.nextSibling(o);null!=o.__oj_slots&&(i.appendChild(o),e.Components&&1===o.nodeType&&e.Components.subtreeHidden(o)),o=s}},t.bindingHandlers._ojBindSlot_={init:function(n,i,o,s,a){t.utils.domNodeDisposal.addDisposeCallback(n,u.cleanup.bind(null,n,a));var l=a.__oj_slots,c=i(),d=t.utils.unwrapObservable,h=d(c.name)||"",p=d(c.slot)||"",f=d(c.index),_=null!=f?[l[h][f]]:l[h];if(_){var m;for(m=0;m<_.length;m++){_[m].__oj_slots=p}r.CustomElementUtils.allowSlotRelocation(!0);try{t.virtualElements.setDomNodeChildren(n,_)}finally{r.CustomElementUtils.allowSlotRelocation(!1)}if(e.Components)for(m=0;m<_.length;m++){var g=_[m];1===g.nodeType&&e.Components.subtreeShown(g)}return{controlsDescendantBindings:!0}}t.virtualElements.childNodes(n).forEach(function(e){(function(e){return 1===e.nodeType||3===e.nodeType&&e.nodeValue.trim()})(e)&&(e.__oj_slots=p)})}},t.virtualElements.allowedBindings._ojBindSlot_=!0,t.bindingHandlers._ojBindTemplateSlot_={init:function(n,r,i,l,c){t.utils.domNodeDisposal.addDisposeCallback(n,u.cleanup.bind(null,n,c));var d=c.__oj_slots,h=r(),p=t.utils.unwrapObservable,f=p(h.name)||"",_=d[f],m=_&&_[_.length-1],g=!1;if(!m)for(var v=t.virtualElements.childNodes(n),y=0;y<v.length;y++)if("TEMPLATE"===v[y].tagName){g=!0,m=v[y];break}if(m){var E=c[e.Composite.__COMPOSITE_PROP];"TEMPLATE"!==m.tagName&&o.error("Slot content for slot '"+f+"' under "+E.tagName.toLowerCase()+" with id '"+E.id+"' should be wrapped inside a <template> node."),m.__oj_slots=p(h.slot)||"";const r=m.render?a:s;t.computed(function(){var e=p(h.data),i=p(h.as),o=r.execute(g?n:E,m,e,g?i:null);t.virtualElements.setDomNodeChildren(n,o)})}else t.virtualElements.setDomNodeChildren(n,[]);return{controlsDescendantBindings:!0}}},t.virtualElements.allowedBindings._ojBindTemplateSlot_=!0}),define("ojs/ojcomposite",["exports","ojs/ojcore-base","ojs/ojhtmlutils","ojs/ojlogger","ojs/ojmetadatautils","ojs/ojcomposite-knockout","ojs/ojcustomelement","ojs/ojcustomelement-utils"],function(e,t,n,r,i,o,s,a){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const l={getContainingComposite:function(e,n){for(var r=null,i=e;i;)if((i=t.CompositeTemplateRenderer.getEnclosingComposite(i))&&"oj-module"!==i.nodeName.toLowerCase()){if(n&&!(16&e.compareDocumentPosition(n)))break;r=i}return r}};class u extends a.ElementState{getTrackChildrenOption(){return"immediate"}}const c={};c.proto=Object.create(t.BaseCustomElementBridge.proto),c.DESC_KEY_CSS="css",c.DESC_KEY_PARSE_FUN="parseFunction",c.DESC_KEY_VIEW="view",c.DESC_KEY_VIEW_MODEL="viewModel",c.SUBID_MAP="data-oj-subid-map",t.CollectionUtils.copyInto(c.proto,{beforePropertyChangedEvent:function(e,n,r){var i={property:n};t.CollectionUtils.copyInto(i,r),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"propertyChanged",[i])},AddComponentMethods:function(e){var t=function(e,t,n,r,i,o){if(!t.SaveEarlyPropertySet(e,n,r)){var s=t.SetProperty(e,n,r,i,o);if(s.propertySet)if(s.isSubproperty)c._getPropertyTracker(t,s.property).valueHasMutated()}};e.setProperty=function(e,n){var r=a.CustomElementUtils.getElementBridge(this);t(this,r,e,n,this,!0)},e.getProperty=function(e){return a.CustomElementUtils.getElementBridge(this).GetProperty(this,e,this)},e._propsProto.setProperty=function(e,n){t(this._ELEMENT,this._BRIDGE,e,n,this,!1)},e._propsProto.getProperty=function(e){return this._BRIDGE.GetProperty(this._ELEMENT,e,this)},e.getNodeBySubId=function(e){var t=a.CustomElementUtils.getElementBridge(this),n=t._getViewModel();return n.getNodeBySubId?n.getNodeBySubId(e,t._getNodeBySubId.bind(this)):t._getNodeBySubId.bind(this)(e)},e.getSubIdByNode=function(e){var t=a.CustomElementUtils.getElementBridge(this),n=t._getViewModel();return n.getSubIdByNode?n.getSubIdByNode(e,t._getSubIdByNode.bind(this)):t._getSubIdByNode.bind(this)(e)}},CreateComponent:function(e){const n=a.CustomElementUtils.getElementState(e).getSlotMap();for(var r={},i=Object.keys(n),o=0;o<i.length;o++){var s=i[o];r[s]=n[s].length}var l=a.ElementUtils.getUniqueId(),u={element:e,props:Promise.resolve(this._PROPS),properties:this._PROPS,slotNodeCounts:Promise.resolve(r),slotCounts:r,unique:l};u.uniqueId=e.id?e.id:l,this._VM_CONTEXT=u;var d=a.CustomElementUtils.getElementDescriptor(e.tagName)[c.DESC_KEY_VIEW_MODEL];d="function"==typeof d?new d(u):t.CompositeTemplateRenderer.invokeViewModelMethod(e,d,"initialize",[u])||d,this._VIEW_MODEL=d;var h=t.CompositeTemplateRenderer.invokeViewModelMethod(e,d,"activated",[u])||Promise.resolve(!0),p=this;return h.then(function(){var i={props:p._PROPS,slotMap:n,slotNodeCounts:r,unique:p._VM_CONTEXT.unique,uniqueId:p._VM_CONTEXT.uniqueId,viewModel:p._VIEW_MODEL,viewModelContext:p._VM_CONTEXT};e[a.CHILD_BINDING_PROVIDER]="knockout",t.Components&&t.Components.unmarkPendingSubtreeHidden(e);var o=a.CustomElementUtils.getElementRegistration(e.tagName).cache,s=c._getDomNodes(o.view,e);t.CompositeTemplateRenderer.renderTemplate(i,e,s)})},DefineMethodCallback:function(e,t,n){e[t]=function(){var e=n.internalName||t,r=a.CustomElementUtils.getElementBridge(this),i=r._getViewModel();return i[e].apply(i,arguments)}},DefinePropertyCallback:function(e,n,o){var s=function(e,i){if(!this._BRIDGE.SaveEarlyPropertySet(this._ELEMENT,n,e)){i&&(e=a.transformPreactValue(this._ELEMENT,o,e));var s=c._getPropertyTracker(this._BRIDGE,n),l=s.peek();if(a.ElementUtils.comparePropertyValues(o,e,l))r.info(a.CustomElementUtils.getElementInfo(this._ELEMENT)+": Ignoring property set for property '"+n+"' with same value.");else if(i&&(e=this._BRIDGE.ValidatePropertySet(this._ELEMENT,n,e)),o._eventListener&&this._BRIDGE.SetEventListenerProperty(this._ELEMENT,n,e),s(e),!o._derived){var u=i?"external":"internal";t.BaseCustomElementBridge.__FirePropertyChangeEvent(this._ELEMENT,n,e,l,u),this._BRIDGE.State.dirtyProps.add(n)}}},l=function(e){var t=c._getPropertyTracker(this._BRIDGE,n),r=e?t.peek():t();return void 0===r&&t(r=i.getDefaultValue(o)),r};o._derived||t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e._propsProto,n,function(){return l.bind(this,!1)()},function(e){s.bind(this)(e,!1)}),t.BaseCustomElementBridge.__DefineDynamicObjectProperty(e,n,function(){var e=a.CustomElementUtils.getElementBridge(this);return l.bind(e._PROPS,!0)()},function(e){var t=a.CustomElementUtils.getElementBridge(this);s.bind(t._PROPS)(e,!0)})},GetMetadata:function(e){return e._metadata||{}},HandleDetached:function(e){t.BaseCustomElementBridge.proto.HandleDetached.call(this,e),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"detached",[e]),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"disconnected",[e])},HandleReattached:function(e){t.BaseCustomElementBridge.proto.HandleReattached.call(this,e),t.CompositeTemplateRenderer.invokeViewModelMethod(e,this._VIEW_MODEL,"connected",[this._VM_CONTEXT])},InitializeElement:function(e){var n;t.BaseCustomElementBridge.proto.InitializeElement.call(this,e),t.Components&&t.Components.markPendingSubtreeHidden(e);var r=a.CustomElementUtils.getElementRegistration(e.tagName).cache;if(!r.view){var i=(n=a.CustomElementUtils.getElementDescriptor(e.tagName))[c.DESC_KEY_VIEW];r.view||(r.view="string"==typeof i?c._getDomNodes(i,e):i)}if(!r.css){n||(n=a.CustomElementUtils.getElementDescriptor(e.tagName));var o=n[c.DESC_KEY_CSS];if(o){var s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=o:s.appendChild(document.createTextNode(o)),document.head.appendChild(s),r.css=!0}}t.BaseCustomElementBridge.__InitProperties(e,e)},InitializePrototype:function(e){t.BaseCustomElementBridge.proto.InitializePrototype.call(this,e),Object.defineProperty(e,"_propsProto",{value:{}})},initializeBridge:function(e,n){t.BaseCustomElementBridge.proto.initializeBridge.call(this,e,n),e._propsProto&&(this._PROPS=Object.create(e._propsProto),this._PROPS._BRIDGE=this,this._PROPS._ELEMENT=e)},ShouldRemoveDisabled:function(){var e=this.METADATA.extension;return!!e&&!0===e._SHOULD_REMOVE_DISABLED},_getNodeBySubId:function(e){var n=c.__GetSubIdMap(this)[e.subId];if(n){if(n.alias){var r=t.CollectionUtils.copyInto({},e,void 0,!0);r.subId=n.alias;var i=n.node;return i.getNodeBySubId?i.getNodeBySubId(r):t.Components.__GetWidgetConstructor(i)("getNodeBySubId",r)}return n.node}return null},_getSubIdByNode:function(e){if(!this.contains(e))return null;var n,r,i,o=c.__GetNodeMap(this),s=l.getContainingComposite(e,this);if(null!=s){if((r=o[n=s.node.getAttribute(c.SUBID_MAP)])&&s.getSubIdByNode&&(i=s.getSubIdByNode(e))){var a=r.map[i.subId];return i.subId=a,i}return null}for(var u=e;u!==this&&!(n=u.getAttribute(c.SUBID_MAP)||u.getAttribute("data-oj-subid"));)u=u.parentNode;if(r=o[n]){if(!r.map)return{subId:n};var d=r.node;if(i=d.getSubIdByNode?d.getSubIdByNode(e):t.Components.__GetWidgetConstructor(d)("getSubIdByNode",e))return i.subId=r.map[i.subId],i}return null},_getViewModel:function(){if(!this._VIEW_MODEL)throw new a.JetElementError(this._ELEMENT,"Cannot access methods before element is upgraded.");return this._VIEW_MODEL}}),c.register=function(e,n){var i={};i[t.BaseCustomElementBridge.DESC_KEY_META]=c._getResource(e,n,t.BaseCustomElementBridge.DESC_KEY_META),i[c.DESC_KEY_VIEW]=c._getResource(e,n,c.DESC_KEY_VIEW),i[c.DESC_KEY_CSS]=c._getResource(e,n,c.DESC_KEY_CSS),i[c.DESC_KEY_VIEW_MODEL]=c._getResource(e,n,c.DESC_KEY_VIEW_MODEL),i[c.DESC_KEY_PARSE_FUN]=n[c.DESC_KEY_PARSE_FUN];const o={descriptor:i,bridgeProto:c.proto,stateClass:u,composite:!0,cache:{}};var s=i[t.BaseCustomElementBridge.DESC_KEY_META];if(s||(r.warn("Composite registered'"+e.toLowerCase()+"' without Metadata."),s={}),null==i[c.DESC_KEY_VIEW])throw new Error("Cannot register composite '"+e.toLowerCase()+"' without a View.");i._metadata=t.BaseCustomElementBridge.__ProcessEventListeners(s,!1),a.CustomElementUtils.registerElement(e,o,c.proto.getClass(i))},c._getDomNodes=function(e,t){var r,i;if("string"==typeof e)return n.stringToNodeArray(e);if(c._isDocumentFragment(e)){i=e.cloneNode(!0);var o=[];for(r=0;r<i.childNodes.length;r++)o.push(i.childNodes[r]);return o}if(Array.isArray(e)){for(i=[],r=0;r<e.length;r++)i.push(e[r].cloneNode(!0));return i}throw new a.JetElementError(t,"The composite View is not one of the following supported types: string, Array of DOM nodes, DocumentFragment")},c._generateSubIdMap=function(e,t){if(!e._SUBID_MAP){for(var n={},r={},i=t.children,o=0;o<i.length;o++)c._walkSubtree(n,r,i[o]);e._NODE_MAP=r,e._SUBID_MAP=n}},c._walkSubtree=function(e,n,r){if(!r.hasAttribute("slot")&&(c._addNodeToSubIdMap(e,n,r),!a.CustomElementUtils.isElementRegistered(r.tagName)&&!t.Components.__GetWidgetConstructor(r)))for(var i=r.children,o=0;o<i.length;o++)c._walkSubtree(e,n,i[o])},c._addNodeToSubIdMap=function(e,t,n){var r=n.getAttribute("data-oj-subid"),i=n.getAttribute(c.SUBID_MAP);if(i){var o=JSON.parse(i);if("object"==typeof o&&!(o instanceof Array)){for(var s=o,a={},l=Object.keys(s),u=0;u<l.length;u++){var d=l[u];e[d]={alias:s[d],node:n},a[s[d]]=d}t[i]={map:a,node:n}}}else r&&(e[r]={node:n},t[r]={node:n})},c.__GetSubIdMap=function(e){var t=a.CustomElementUtils.getElementBridge(e);return c._generateSubIdMap(t,e),t._SUBID_MAP},c.__GetNodeMap=function(e){var t=a.CustomElementUtils.getElementBridge(e);return c._generateSubIdMap(t,e),t._NODE_MAP},c._getPropertyTracker=function(e,n){return e._TRACKERS||(e._TRACKERS={}),e._TRACKERS[n]||(e._TRACKERS[n]=t.CompositeTemplateRenderer.createTracker()),e._TRACKERS[n]},c._getResource=function(e,t,n){var r=t[n];if(null!=r){var i=Object.prototype.hasOwnProperty;if(i.call(r,"inline"))return r.inline;if(i.call(r,"promise"))throw new Error("Error while registering "+e+". The resource type for descriptor key '"+n+"' is no longer supported. The resource should be passed directly as the value instead.");return r}},c._isDocumentFragment=function(e){return window.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType};const d={};t._registerLegacyNamespaceProp("Composite",d),d.getMetadata=function(e){var t=d.getComponentMetadata(e);return t?Promise.resolve(t):null},d.getComponentMetadata=function(e){return a.CustomElementUtils.isComposite(e)?a.CustomElementUtils.getElementDescriptor(e)[t.BaseCustomElementBridge.DESC_KEY_META]:null},d.register=function(e,t){c.register(e,t)},d.getContainingComposite=l.getContainingComposite,d.__COMPOSITE_PROP="__oj_composite";const h=d.register,p=d.getMetadata,f=d.getComponentMetadata,_=d.getContainingComposite,m=d.__COMPOSITE_PROP;e.__COMPOSITE_PROP=m,e.getComponentMetadata=f,e.getContainingComposite=_,e.getMetadata=p,e.register=h,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojbindingprovider",["exports","ojs/ojkoshared"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const n=function(){},r=n.registerPreprocessor=function(e,n){t.registerPreprocessor(e,n)},i=n.createBindingExpressionEvaluator=function(e,n){return t.createBindingExpressionEvaluator(e,n)};e.createBindingExpressionEvaluator=i,e.registerPreprocessor=r,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojknockouttemplateutils",["exports","knockout","jquery"],function(e,t,n){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const r={getRenderer:function(e,r){var i=function(i){var o=i._parentElement||i.parentElement,s=t.contextFor(i.componentElement);if(s){var a=s.createChildContext(i.data,null,function(e){e.$context=i});t.renderTemplate(e,a,{afterRender:function(e){n(e)._ojDetectCleanData()}},o,r?"replaceNode":"replaceChildren")}return null};return function(t){if(t.componentElement.classList&&t.componentElement.classList.contains("oj-dvtbase")){var r=document.createElement("div");r.style.display="none",r._dvtcontext=t._dvtcontext,t.componentElement.appendChild(r),Object.defineProperty(t,"_parentElement",{value:r,enumerable:!1}),Object.defineProperty(t,"_templateCleanup",{value:function(){n(r).remove()},enumerable:!1}),Object.defineProperty(t,"_templateName",{value:e,enumerable:!1}),i(t);var o=r.children[0];return o?(r.removeChild(o),n(r).remove(),{insert:o}):{preventDefault:!0}}return i(t)}}},i=r.getRenderer;e.getRenderer=i,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojresponsiveknockoututils",["exports","ojs/ojcore-base","knockout","jquery","ojs/ojresponsiveutils"],function(e,t,n,r,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const o={};t._registerLegacyNamespaceProp("ResponsiveKnockoutUtils",o),o.createMediaQueryObservable=function(e){if(null==e)throw new Error("ResponsiveKnockoutUtils.createMediaQueryObservable: aborting, queryString is null");var t=window.matchMedia(e),i=n.observable(t.matches);return t.addListener(function(e){i(e.matches)}),-1!==navigator.userAgent.indexOf("WebKit")&&-1===navigator.userAgent.indexOf("Chrome")&&r(window).resize(function(){var e="oj-webkit-bug-123293";0===r("body").has("."+e).length&&r("body").append('<div aria-hidden="true" class="oj-helper-hidden-accessible '+e+'">'),r("."+e).text((new Date).getMilliseconds().toString())}),i},o.createScreenRangeObservable=function(){var e=i.getFrameworkQuery(i.FRAMEWORK_QUERY_KEY.XXL_UP),t=i.getFrameworkQuery(i.FRAMEWORK_QUERY_KEY.XL_UP),r=i.getFrameworkQuery(i.FRAMEWORK_QUERY_KEY.LG_UP),s=i.getFrameworkQuery(i.FRAMEWORK_QUERY_KEY.MD_UP),a=i.getFrameworkQuery(i.FRAMEWORK_QUERY_KEY.SM_UP),l=null==e?null:o.createMediaQueryObservable(e),u=null==t?null:o.createMediaQueryObservable(t),c=null==r?null:o.createMediaQueryObservable(r),d=null==s?null:o.createMediaQueryObservable(s),h=null==a?null:o.createMediaQueryObservable(a);return n.computed(function(){if(l&&l())return i.SCREEN_RANGE.XXL;if(u&&u())return i.SCREEN_RANGE.XL;if(c&&c())return i.SCREEN_RANGE.LG;if(d&&d())return i.SCREEN_RANGE.MD;if(h&&h())return i.SCREEN_RANGE.SM;throw new Error(" NO MATCH in ResponsiveKnockoutUtils.createScreenRangeObservable")})};const s=o.createScreenRangeObservable,a=o.createMediaQueryObservable;e.createMediaQueryObservable=a,e.createScreenRangeObservable=s,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojkeysetimpl",["ojs/ojcore-base"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;return function(t){this.NOT_A_KEY={},this.has=function(e){return this.get(e)!==this.NOT_A_KEY},this.get=function(t){var n,r,i=this.NOT_A_KEY,o=this;if(this._keys.has(t))return t;if(t!==Object(t))return this.NOT_A_KEY;if("function"==typeof Symbol&&"function"==typeof Set.prototype[Symbol.iterator])for(r=(n=this._keys[Symbol.iterator]()).next();!r.done;){if(e.KeyUtils.equals(r.value,t))return r.value;r=n.next()}else this._keys.forEach(function(n){i===o.NOT_A_KEY&&e.KeyUtils.equals(n,t)&&(i=n)});return i},this.InitializeWithKeys=function(e){this._keys=new Set(e)},this.InitializeWithKeys(t)}}),define("ojs/ojbindpropagation",["exports"],function(e){"use strict";const t=new Map;e.getPropagationMetadataViaCache=function(e,n){let r=t.get(e);return void 0!==r||(r=null,Object.keys(n).forEach(e=>{var t,i;const o=n[e],s=null===(t=null==o?void 0:o.binding)||void 0===t?void 0:t.provide,a=null===(i=null==o?void 0:o.binding)||void 0===i?void 0:i.consume;if(s||a){if(o.properties)throw new Error("Propagating complex properties is not supported!");r=null!=r?r:new Map,r.set(e,[s,a])}}),t.set(e,r)),r},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojknockout",["jqueryui-amd/widget","ojs/ojkoshared","ojs/ojcore","ojs/ojlogger","knockout","ojs/ojdomutils","jquery","ojs/ojcustomelement-utils","ojs/ojbindpropagation","ojs/ojkeysetimpl","ojs/ojcontext","ojs/ojtemplateengine-ko","ojs/ojcore-base","ojs/ojknockouttemplateutils","ojs/ojresponsiveknockoututils"],function(e,t,n,r,i,o,s,a,l,u,c,d,h,p,f){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s,u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c,d=d&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d,h=h&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h;const _=function(e,t){this.Init(e,t)};n.Object.createSubclass(_,n.Object,"ComponentBinding.ComponentChangeTracker"),_.prototype.Init=function(e,t){_.superclass.Init.call(this),this._updateCallback=e,this._queue=t,this._changes={},this._suspendCountMap={}},_.prototype.addChange=function(e,t){this._isSuspended(e)||this._disposed||(this._changes[e]=t,this._queue.registerComponentChanges(this))},_.prototype.dispose=function(){this._disposed=!0},_.prototype.resume=function(e){var t=this._suspendCountMap[e]||0;(t-=1)<0?r.error("ComponentChangeTracker suspendCount underflow"):0===t?delete this._suspendCountMap[e]:this._suspendCountMap[e]=t},_.prototype.suspend=function(e){var t=this._suspendCountMap[e]||0;this._suspendCountMap[e]=t+1},_.prototype.applyChanges=function(e){this._disposed||this._updateCallback(e)},_.prototype.flushChanges=function(){var e=this._changes;return this._changes={},e},_.prototype._isSuspended=function(e){return(this._suspendCountMap[e]||0)>=1};const m={};var g;n._registerLegacyNamespaceProp("__ExpressionUtils",m),g=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,m.getPropertyWriterExpression=function(e){if(null==e||["true","false","null","undefined"].indexOf(e)>=0)return null;var t=(e=e.trim()).match(g);return null===t?null:"{_ko_property_writers: function(v){"+(t[1]?"Object("+t[1]+")"+t[2]:e)+"=v;}}"},m.getWriter=function(e){return e._ko_property_writers};const v=function(e,t){this.Init(e,t)};function y(e,t){var n={};return n.value=t.value,n}function E(e,t,n){var r={},i=n.optionMetadata;if(i&&"shouldWrite"===i.writeback){var o=n.option;r[o]=n.value,i.readOnly&&(e.readOnlyProperties[o]=!0)}return r}var b,T,S;function C(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.key,o=r.value;if(null!=i&&null!=o&&t(i.trim(),o.trim()))break}}function P(e,t){return function(n){var r=e.createChildContext(n.context);return i.renderTemplate(t,r,{afterRender:function(e){s(e)._ojDetectCleanData()}},n.parentElement),null}}function O(e,t){return function(n){var r=e.createChildContext(n.data);return i.renderTemplate(t,r,{afterRender:function(e){s(e)._ojDetectCleanData()}},n.parentElement),null}}function A(e,t,n){return"tooltip"===e&&t.template&&(t._renderer=P(n,t.template)),{tooltip:t}}function I(e,t,n){return"pieCenter"===e&&t.template&&(t._renderer=P(n,t.template)),{pieCenter:t}}function R(e,t,n){return"optionTemplate"===e&&null!==t?{optionRenderer:function(e,t){return function(n){var r=n.parentElement,o=e.createChildContext(n.data,null,function(e){e.$optionContext=n});return i.renderTemplate(t,o,null,r),null}}(n,String(t))}:null}n.Object.createSubclass(v,n.Object,"oj.ComponentBinding"),n._registerLegacyNamespaceProp("ComponentBinding",v),v.create=function(e,t){if(null==e)throw new Error("Binding name is required!");for(var n=new v(e,t),r=i.bindingHandlers,o=Array.isArray(e)?e:[e],s=0;s<o.length;s++){var a=o[s];v._REGISTERED_NAMES.push(a),r[a]=n}return n},v.getDefaultInstance=function(){return v._INSTANCE},v.prototype.setupManagedAttributes=function(e){var t=e.for;t=null==t?"@global":t;var n=this._managedAttrOptions[t]||[];n.push(e),this._managedAttrOptions[t]=n},v.deliverChanges=function(){t.getGlobalChangeQueue().deliverChanges()},v.prototype.Init=function(e,t){v.superclass.Init.call(this),"string"==typeof t&&(t={componentName:t}),this._bindingOptions=t||{},this._bindingNames=Array.isArray(e)?e:[e],this.init=this._init.bind(this),this.update=this._update.bind(this),this._managedAttrOptions={}},v.prototype._getBindingOptions=function(){return this._bindingOptions},v.prototype._init=function(e,t,n,r,o){return i.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}},v.prototype._update=function(e,n,o,a,l){var u,c,d=[],h=0,p=s(e);function f(e){d.forEach(function(e){e.dispose()}),d=[],e&&u&&(u("destroy"),u=null),c&&(c.dispose(),c=null),p.off(v._HANDLER_NAMESPACE)}function m(n,i,s){if(null!=n){var a=p[n];if("function"==typeof a){a=a.bind(p);c=new _(function(e){var t=v.__removeDotNotationOptions(e);a("option",e);for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];a("option",i,t[i])}},t.getGlobalChangeQueue());var h=Object.keys(s).filter(function(e){return!(null==e||e===i)}),f={component:a,changeTracker:c,componentName:n,specifiedOptions:h,computeds:d,valueAccessor:function(){return s},allBindingsAccessor:o,bindingContext:l,destroyCallback:function(){u=null},readOnlyProperties:{}};u=this._initComponent(e,f)}else r.error("Component %s is not found",n)}}i.ignoreDependencies(function(){i.computed(function(){var e=i.utils.unwrapObservable(n());"object"!=typeof e&&r.error("ojComponent binding should evaluate to an object");var t,o=this._bindingOptions.componentName,s=!1;if(null==o&&null!=e){for(var a=[v._COMPONENT_OPTION,"role"],l=0;!s&&l<a.length;l++)(t=a[l])in e&&(s=!0,o=e[t]);s||r.error("component attribute is required for the ojComponent binding"),o=i.utils.unwrapObservable(o)}0===h?h=1:i.ignoreDependencies(f,this,[!0]),i.ignoreDependencies(m,this,[o,t,e])},this,{disposeWhenNodeIsRemoved:e})},this),i.utils.domNodeDisposal.addDisposeCallback(e,f.bind(this,!1))},v.prototype._initComponent=function(e,t){var r=!1,o=0,a={},l=s(e),u=t.component,c=t.componentName,d=this,h=function(n){if(n.target&&n.target===e){t.destroyCallback();var i=d._bindingOptions.beforeDestroy;i&&i(e,u,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),v._deliverCreateDestroyEventToManagedProps(!1,a,e,u,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),r=!0,t.changeTracker.dispose(),e.removeEventListener("_ojDestroy",h)}};e.addEventListener("_ojDestroy",h);var p=v._resolveManagedAttributes(this._managedAttrOptions,t.specifiedOptions,c),f=v.getDefaultInstance();if(this!==f){var _=f._getManagedAttributes(t.specifiedOptions,c);n.CollectionUtils.copyInto(_,p),p=_}for(var m={},g=function(){var n=this._property,i=v._toJS(t.valueAccessor()[n]);if(0===o){var s=p[n];if(null!=s){a[n]=s;var l=s.init;if(null!=l)for(var c=l(n,i,e,u,t.valueAccessor,t.allBindingsAccessor,t.bindingContext)||{},d=Object.keys(c),h=0;h<d.length;h++){var f=d[h];m[f]=v.__cloneIfArray(c[f])}}else m[n]=v.__cloneIfArray(i)}else if(!r)if(null!=p[n]){var _=p[n].update;if(null!=_)for(var g=_(n,i,e,u,t.valueAccessor,t.allBindingsAccessor,t.bindingContext)||{},y=Object.keys(g),E=0;E<y.length;E++){var b=y[E];t.changeTracker.addChange(b,v.__cloneIfArray(g[b]))}}else t.readOnlyProperties[n]||t.changeTracker.addChange(n,v.__cloneIfArray(i))},y=0;y<t.specifiedOptions.length;y++)t.computeds.push(i.computed(g,{_property:t.specifiedOptions[y]}));o=1,v._registerWritebacks(l,t);var E=v.__removeDotNotationOptions(m);u(m),Object.keys(E).forEach(function(e){u("option",e,E[e])});var b=this._bindingOptions.afterCreate;return b&&b(e,u,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),v._deliverCreateDestroyEventToManagedProps(!0,a,e,u,t.valueAccessor,t.allBindingsAccessor,t.bindingContext),m=null,u},v.prototype._getManagedAttributes=function(e,t){return v._resolveManagedAttributes(this._managedAttrOptions,e,t)},v._resolveManagedAttributes=function(e,t,n){var r={},i=[],o=function(t,n){var r=e[t];if(null!=r)for(var s=r.length-1;s>=0;s--){var a=r[s];if(null!=a.attributes&&i.push(a),n){var l=a.use;if(null!=l){l=Array.isArray(l)?l:[l];for(var u=0;u<l.length;u++)o(l[u],!0)}}}};o(n,!0);var a=s.oj[n];if(null!=a)for(var l=Object.getPrototypeOf(a.prototype);null!=l&&"oj"===l.namespace;)o(l.widgetName,!0),l=Object.getPrototypeOf(l);if(o("@global",!1),i.length>0)for(var u=0;u<t.length;u++)for(var c=t[u],d=0;d<i.length;d++){var h=i[d];if(h.attributes.indexOf(c)>=0){r[c]={init:h.init,update:h.update,afterCreate:h.afterCreate,beforeDestroy:h.beforeDestroy};break}}return r},v._HANDLER_NAMESPACE=".oj_ko",v._registerWritebacks=function(e,t){for(var n={"^slider$":[{event:"slidechange",getter:y}],"^oj*":[{event:"ojoptionchange",getter:E.bind(void 0,t)}]},r={},i=Object.keys(n),o=0;o<i.length;o++){var s=i[o];if(t.componentName.match(s)){for(var a=n[s],l=0;l<a.length;l++){var u=a[l];e.on(u.event+v._HANDLER_NAMESPACE,{getter:u.getter},function(n,i){if(n.target===e[0])for(var o=n.data.getter(n,i),s=t.valueAccessor(),a=Object.keys(o),l=0;l<a.length;l++){var u=a[l];t.changeTracker.suspend(u);try{if(t.specifiedOptions.indexOf(u)>=0){var c=s[v._OPTION_MAP],d=null==c?null:c[u],h=s[u];v._writeValueToProperty(u,h,o[u],d,t.bindingContext,r)}}finally{t.changeTracker.resume(u)}}})}break}}},v._writeValueToProperty=function(e,n,r,o,s,a){if(null!=n&&i.isObservable(n))i.isWriteableObservable(n)&&n(v.__cloneIfArray(r));else{if(!(e in a)){var l=null,u=m.getPropertyWriterExpression(o);null!=u&&(l=t.createEvaluator(u,s)),a[e]=l}var c=a[e];if(c)m.getWriter(c(s))(v.__cloneIfArray(r))}},v._toJS=function(e){var t=i.utils.unwrapObservable(e);return(Array.isArray(t)||n.CollectionUtils.isPlainObject(t))&&t.ojConvertToJS&&(t=i.toJS(t)),t},v.__cloneIfArray=function(e){return Array.isArray(e)&&(e=e.slice()),e},v.__removeDotNotationOptions=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];i.indexOf(".")>=0&&(t[i]=e[i],delete e[i])}return t},v._deliverCreateDestroyEventToManagedProps=function(e,t,n,r,i,o,s){for(var a=Object.keys(t),l=0;l<a.length;l++){var u=a[l],c=t[u],d=e?c.afterCreate:c.beforeDestroy;d&&d(u,n,r,i,o,s)}},v.__getKnockoutVersion=function(){return i.version},v._isNameRegistered=function(e){return v._REGISTERED_NAMES.indexOf(e)>=0},v._REGISTERED_NAMES=[],v._COMPONENT_OPTION="component",v._OPTION_MAP="_ojOptions",b="cleanExternalData",T=i.utils.domNodeDisposal,S=T[b],T[b]=function(e){var t=o?o.setInKoCleanExternal:null;t&&t(e);try{S(e)}finally{t&&t(null)}},v._INSTANCE=v.create(["__ojComponentPrivate","jqueryUI"]),t.addPostprocessor({getBindingAccessors:function(e,r,o,s){if(null==o)return null;var a=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];if(v._isNameRegistered(r))return r}return null}(o);null!=a&&(o=function(e,r,o,s,a){var l=function(e,n,r,o){var s=null,a=t.getBindingsString(e,r,o),l=i.jsonExpressionRewriting.parseObjectLiteral(a),u=null;C(l,function(e,t){return e===n&&(u=t,!0)}),null!=u&&0===u.indexOf("{")&&(s=i.jsonExpressionRewriting.parseObjectLiteral(u));return{attrList:s,bindingExpr:u}}(e,r,o,s),u=l.attrList;if(null==u)return a;var c={};return C(u,function(e,t){c[e]=t}),(a=n.CollectionUtils.copyInto({},a))[r]=function(e,n,r){var i=function(){var r={};return Object.keys(n).forEach(function(i){var o=n[i],s=t.createEvaluator(o,e).bind(null,e);Object.defineProperty(r,i,{get:s,enumerable:!0})}),Object.defineProperty(r,v._OPTION_MAP,{value:n}),r};return i.toString=function(){return r},i}(s,c,l.bindingExpr),a}(e,a,s,r,o));return o}}),t.addPostprocessor({nodeHasBindings:function(e,t){return n.BaseCustomElementBridge?t||1===e.nodeType&&a.CustomElementUtils.isElementRegistered(e.nodeName):t},getBindingAccessors:function(e,t,n){if(1===e.nodeType){var r=e.nodeName;a.CustomElementUtils.isElementRegistered(r)&&((n=n||{})._ojCustomElement=function(){const e=a.CustomElementUtils.isComposite(r),t=a.CustomElementUtils.isVComponent(r);return{skipThrottling:e||t}})}return n}}),s.widget("oj._ojDetectCleanData",{options:{cleanParent:!1},_destroy:function(){var e=i.utils.domNodeDisposal,t=e.cleanExternalData;e.cleanExternalData=function(){};try{this.options.cleanParent&&null!=this.element[0].parentNode?i.cleanNode(this.element[0].parentNode):i.cleanNode(this.element[0])}finally{e.cleanExternalData=t}}}),v.getDefaultInstance().setupManagedAttributes({attributes:["tooltip"],init:function(e,t,n,r,i,o,s){return A(e,t,s)},update:function(e,t,n,r,i,o,s){return A(e,t,s)},for:"tooltipOptionRenderer"}),function(){for(var e=["ojChart","ojDiagram","ojNBox","ojPictoChart","ojSunburst","ojTagCloud","ojThematicMap","ojTreemap","ojDialGauge","ojLedGauge","ojRatingGauge","ojSparkChart","ojStatusMeterGauge","ojGantt"],t=0;t<e.length;t++)v.getDefaultInstance().setupManagedAttributes({for:e[t],use:"tooltipOptionRenderer"})}(),v.getDefaultInstance().setupManagedAttributes({attributes:["pieCenter"],init:function(e,t,n,r,i,o,s){return I(e,t,s)},update:function(e,t,n,r,i,o,s){return I(e,t,s)},for:"ojChart"}),v.getDefaultInstance().setupManagedAttributes({attributes:["optionTemplate"],init:function(e,t,n,r,i,o,s){var a=R(e,t,s);if(null!==a)return a},update:function(e,t,n,r,i,o,s){return R(e,t,s)},for:"ComboboxOptionRenderer"}),v.getDefaultInstance().setupManagedAttributes({for:"ojCombobox",use:"ComboboxOptionRenderer"}),v.getDefaultInstance().setupManagedAttributes({for:"ojSelect",use:"ComboboxOptionRenderer"}),v.getDefaultInstance().setupManagedAttributes({for:"ojInputSearch",use:"ComboboxOptionRenderer"}),i.bindingHandlers.ojContextMenu={update:function(e,t,r,a,l){var u,c,d=s(e),h=!1,p=!1,f=null;d.off(".ojContextMenu").removeClass("oj-menu-context-menu-launcher")[0].removeEventListener("click",y,!0),d[0].removeEventListener("touchstart",P,{passive:!1}),clearTimeout(u);var _=d.data("_ojLastContextMenu");_&&S(_.selector,_.id).off(".ojContextMenu");var m=!1,g=i.utils.unwrapObservable(t()),v=s.isPlainObject(g)?e.getAttribute("contextmenu"):null;function y(e){if(h)return e.preventDefault(),e.stopPropagation(),h=!1,!1}function E(e){121===e.keyCode&&e.shiftKey&&T().is(":visible")&&e.preventDefault()}function b(){var e=n.Components.__GetWidgetConstructor(T()[0],"ojMenu"),t=e&&e("instance");if(!t)throw new Error('ojContextMenu binding bound to "'+(v||g)+'", which does not reference a valid JET Menu.');return m||(t.widget().on("ojclose.ojContextMenu",function(){document.removeEventListener("keyup",E)}),m=!0),t}function T(){return S(g,v)}function S(e,t){return t?s(document.getElementById(t)):s(e).first()}function C(e,t,n){h=n;var r=b();if(h&&d.one("touchend.ojContextMenu",function(){r.__contextMenuPressHoldJustEnded(!0),setTimeout(function(){r.__contextMenuPressHoldJustEnded(!1)},50)}),"touchstart"===f&&"contextmenu"===e.type||"contextmenu"===f&&"touchstart"===e.type)return f=null,void clearTimeout(c);if(!e.isDefaultPrevented()){var i={launcher:d,initialFocus:"menu",position:{mouse:{my:"start top",at:"start bottom",of:e},touch:{my:"start>40 center",at:"start bottom",of:e,collision:"flipfit"},keyboard:{my:"start top",at:"start bottom",of:"launcher"}}[t]};r.__openingContextMenu=!0,r.open(e,i),r.__openingContextMenu=!1,r.widget().is(":visible")&&(e.preventDefault(),document.addEventListener("keyup",E),"touchstart"!==e.type&&"contextmenu"!==e.type||(f=e.type,c=setTimeout(function(){f=null},300)))}}function P(e){if("touchstart"===e.type&&(e=s.Event(e)),"mousedown"!==e.type||!b().__contextMenuPressHoldJustEnded())return h=!1,"touchstart"===e.type&&(p=!0,u=setTimeout(C.bind(void 0,e,"touch",!0),750)),!0}d.data("_ojLastContextMenu",{selector:g,id:v}),e.addEventListener("click",y,!0),d[0].addEventListener("touchstart",P,{passive:!1}),d.on("mousedown.ojContextMenu keydown.ojContextMenu ",P).on("touchend.ojContextMenu touchcancel.ojContextMenu",function(){return p=!1,clearTimeout(u),!0}).on("keydown.ojContextMenu contextmenu.ojContextMenu",function(e){("contextmenu"===e.type||121===e.keyCode&&e.shiftKey)&&C(e,p?"touch":"keydown"===e.type?"keyboard":"mouse",!1);return!0}).addClass(o.isTouchSupported()?"oj-menu-context-menu-launcher":"")}};const w=function(e,n,o){var s=function(){if(o)return null;return new _(function(t){for(var n=Object.keys(t),r=0;r<n.length;r++){f(n[r])}try{e.setProperties(t)}finally{for(var i=0;i<n.length;i++){g(n[i])}}},t.getGlobalChangeQueue())}(),l={},u={},c={},d={};function h(e){return e.$current||e.$data}function p(t,n,r){var i=l[n];if(i||(i=function(e){var t,n=h(e),r=function(r){t&&t(r,n,e)};return r.setListener=function(e){t=e},r}(t),l[n]=i,e.addEventListener(n,i)),!(null==r||r instanceof Function)){var o=a.AttributeUtils.eventTypeToEventListenerProperty(n),s=`Invalid type '${typeof r}' found for attribute '${a.AttributeUtils.propertyNameToAttribute(o)}'. Expected value of type 'function'."`;if(a.CustomElementUtils.isElementRegistered(e.tagName)){a.CustomElementUtils.getElementState(e).rejectBindingProvider(s)}throw new a.JetElementError(e,s)}i.setListener(r)}function f(e){var t=d[e]||0;t+=1,d[e]=t}function g(e){var t=d[e];t?(t-=1,d[e]=0===t?null:t):r.error("Property count undefrlow")}this.setupPropertyBinding=function(o,l,_,y,E){if(!_)return;if(!function(e,t){var n=e.split("."),r=t;n.shift();for(var i=0;i<n.length&&(r=r.properties);i++)r=r[n[i]];return r}(l,_))return;var b=u[l];b&&(b.dispose(),u[l]=null);var T=c[l];if(T&&(e.removeEventListener(l+"Changed",T),c[l]=null),_._domListener){var S=a.AttributeUtils.eventListenerPropertyToEventType(l);p(n,S,null)}let C,P,O;if(void 0===o){const e=void 0===E?null:(n.$provided||{})[E];e&&(C=()=>e())}else{const e=a.AttributeUtils.getExpressionInfo(o);P=e.expr,P&&(C=t.createEvaluator(P,n),O=e.downstreamOnly)}if(C){if(!_.readOnly){var A=!0;i.ignoreDependencies(function(){u[l]=i.computed(function(){var t,r,o,u=C(n),c=i.utils.unwrapObservable(u);if(_._domListener){var d=a.AttributeUtils.eventListenerPropertyToEventType(l);p(n,d,c)}else Array.isArray(c)&&(c=c.slice()),_._eventListener&&c&&c instanceof Function&&(r=c,o=h(t=n),c=function(e){r(e,o,t)}),!A&&s?s.addChange(l,c):function(t,n){f(t);try{e.setProperty(t,n)}catch(t){throw a.CustomElementUtils.getElementState(e).rejectBindingProvider(t),t}finally{g(t)}}(l,c),A&&y&&y(c)})}),A=!1}void 0!==P&&_.writeback&&!O&&(c[l]=function(o,s,a){var l=o.split("."),u=l[0],c=function(e){if(!function(e){return d[e]}(u)){var c,h=!1;i.ignoreDependencies(function(){for(var r=e.detail.value,o=1;o<l.length;o++){r=r[l[o]]}var u=a(n);if(i.isObservable(u))i.isWriteableObservable(u)?(u(v.__cloneIfArray(r)),h=!0):c="the observable is not writeable";else{var d=m.getPropertyWriterExpression(s);if(null!=d){var p=t.createEvaluator(d,n);m.getWriter(p(n))(v.__cloneIfArray(r)),h=!0}else c="the expression is not a valid update target"}}),h||c&&r.info("The expression '%s' for property '%s' was not updated because %s.",s,o,c)}};return e.addEventListener(u+"Changed",c),c}(l,P,C))}},this.teardown=function(){var t,n=Object.keys(u);for(t=0;t<n.length;t++){var r=u[n[t]];r&&r.dispose()}for(u={},n=Object.keys(c),t=0;t<n.length;t++){var i=n[t].split(".")[0];e.removeEventListener(i+"Changed",c[i])}for(c={},n=Object.keys(l),t=0;t<n.length;t++){var o=n[t];e.removeEventListener(o,l[o])}l={},s&&s.dispose()}},N=function(){this._resolveWhenChildrenBindingsApplied=function(e,t){var n=this._getChildrenBindingsAppliedPromises(e);if("none"===t||0===n.length)a.CustomElementUtils.getElementState(e).resolveBindingProvider(this);else{for(var r=[];n.length>0;){var i=n.shift();("nearestCustomElement"===t||"immediate"===t&&!0===i.immediate)&&r.push(i.promiseCallback)}Promise.all(r).then(function(){this._resolveWhenChildrenBindingsApplied(e,t)}.bind(this))}},this._getChildrenBindingsAppliedPromises=function(e,t){return!e._whenChildrenBindingsApplied&&t&&Object.defineProperty(e,"_whenChildrenBindingsApplied",{value:[],enumerable:!1}),e._whenChildrenBindingsApplied||[]},this.__RegisterBindingAppliedPromiseForChildren=function(e,t){var n=null;if(e){var r=new Promise(function(e){n=e});this._getChildrenBindingsAppliedPromises(e,!0),e._whenChildrenBindingsApplied.push({immediate:t,promiseCallback:r})}return n},this.__NotifyBindingsApplied=function(e){var t=a.CustomElementUtils.getElementState(e).getTrackChildrenOption();this._resolveWhenChildrenBindingsApplied(e,t)},this.__NotifyBindingsDisposed=function(e){a.CustomElementUtils.getElementState(e).disposeBindingProvider(e)},this.__GetThrottlePromise=function(){return t.getGlobalChangeQueue().getThrottlePromise()},this.__ExtendBindingContext=function(e,n,r,i,o){return t.extendBindingContext(e,n,r,i,o)},this.__ContextFor=function(e){return e.__ojBindingContext?e.__ojBindingContext:i.contextFor(e)},this.__UnwrapObservable=function(e){return i.utils.unwrapObservable(e)},this.__IsObservable=function(e){return i.isObservable(e)},this.__KoComputed=function(e,t,n){return i.computed(e,t,n)},this.__KoIsInitial=function(){return i.computedContext.isInitial()},this.__CleanNode=function(e){i.cleanNode(e)}};function j(e,t){var n={};return function(r){var i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$key=r.key,e.$metadata=r.metadata,e.$headerContext=r});return x(r,t,i,o,n),null}}function D(e,t){var n={};return function(r){var i=r.parentElement,o=e.createChildContext(r.data,null,function(e){e.$keys=r.keys,e.$metadata=r.metadata,e.$cellContext=r,e.$cell=r.cell});return x(r,t,i,o,n),null}}function x(e,t,n,r,o){var a=function(e,t){var n=t[e];null==n&&(n=i.utils.parseHtmlFragment(document.getElementById(e).innerHTML,document),t[e]=n);return n.map(function(e){return e.cloneNode(!0)})}(function(e,t){if("function"==typeof e)return e(t);return e}(t,e),o);i.virtualElements.setDomNodeChildren(n,a),i.applyBindingsToDescendants(r,n);for(var l=0;l<n.childNodes.length;l++)if(1===n.childNodes[l].nodeType){s(n.childNodes[l])._ojDetectCleanData({cleanParent:!0});break}}function L(e,t,n){return"template"===e?{_templateFunction:O(n,t)}:null}N.getInstance=function(){return N._instance},N._instance=new N,oj._registerLegacyNamespaceProp("_KnockoutBindingProvider",N),function(){i.bindingHandlers._ojCustomElement={after:["attr"],init:function(o,s,u,c,d){var h,p;const f=a.CustomElementUtils.getElementProperties(o),{provide:_,consume:m,cleanup:g}=function(e,i){const o=Object.create(null),s=Object.create(null),u=Object.create(null),c=l.getPropagationMetadataViaCache(e.localName,i);if(null!==c)for(const[l,[d,h]]of c){if(void 0!==d){const s=a.AttributeUtils.propertyNameToAttribute(l),c=e.hasAttribute(s),h=[],p=[];if(d.forEach(e=>{const t=e.name;if(void 0===t)throw new Error("name attribute for the binding/provide metadata is required!");const r=e.default,i=n(e.transform,r);h.push(i),p.push({name:t,obs:i})}),p.length>0){const n=r(h);o[l]={set:n,vars:p};const d=t(n),f=l+"Changed";if(e.addEventListener(f,d),u[f]=d,c){const t=e.getAttribute(s);a.AttributeUtils.getExpressionInfo(t).expr||n(a.AttributeUtils.attributeToPropertyValue(e,s,t,i[l]))}}}if(void 0!==h){const e=h.name;if(void 0===e)throw new Error("'name' property on the binding/consume metadata is required!");s[l]=e}}return{provide:o,consume:s,cleanup:function(){Object.keys(u).forEach(t=>e.removeEventListener(t,u[t]))}}}(o,f);function v(){h&&(h.teardown(),h=null),p&&(o.removeEventListener(e,p),p=null),N.getInstance().__NotifyBindingsDisposed(o)}i.computed(function(){var t=s().skipThrottling;const n=i.computedContext.isInitial();n||v(),function(t,n){h=new w(o,d,t);var r={_domListener:!0};a.CustomElementUtils.getElementState(o).beginApplyingBindings();for(var i=o.attributes,s=0;s<i.length;s++){var l=i[s],u=a.AttributeUtils.attributeToPropertyName(l.nodeName);let e,t;const o=a.AttributeUtils.isEventListenerProperty(u)&&!f[u];if(!o){t=u.split(".")[0];const r=_[t];e=n&&r?r.set:void 0}h.setupPropertyBinding(l.value,u,o?r:f[t],e)}Object.keys(m).forEach(e=>{if(!o.hasAttribute(a.AttributeUtils.propertyNameToAttribute(e))){const t=_[e],r=n&&t?t.set:void 0;h.setupPropertyBinding(void 0,e,f[e],r,m[e])}}),p=function(e){var t=e.detail,n=t.attribute,i=a.AttributeUtils.attributeToPropertyName(n),o=a.AttributeUtils.isEventListenerProperty(i)&&!f[i]?r:f[i.split(".")[0]];h.setupPropertyBinding(t.value,i,o,void 0,m[i])},o.addEventListener(e,p)}(t,n)},null,{disposeWhenNodeIsRemoved:o}),i.utils.domNodeDisposal.addDisposeCallback(o,function(){v(),g()});const y=function(e,t){let n=e;const r=Object.keys(t);if(r.length>0){const i=e.$provided,o=void 0===i?{}:Object.assign({},i);r.forEach(e=>{t[e].vars.forEach(e=>{o[e.name]=e.obs})}),n=e.extend({$provided:o})}return n}(d,_);return i.applyBindingsToDescendants(y,o),N.getInstance().__NotifyBindingsApplied(o),{controlsDescendantBindings:!0}}};const e="attribute-changed";function t(e){return t=>e(t.detail.value)}function n(e,t){const n=i.observable(t);return e?i.pureComputed({write:t=>n(e.hasOwnProperty(t)?e[t]:t),read:()=>n()}):n}function r(e){return t=>e.forEach(e=>e(t))}}(),v.getDefaultInstance().setupManagedAttributes({attributes:["header","cell"],init:function(e,t,n,r,i,o,s){if("header"===e){var a=t.row;if(null!=a){var l=a.template;null!=l&&(a.renderer=j(s,l))}var u=t.column;if(null!=u){var c=u.template;null!=c&&(u.renderer=j(s,c))}var d=t.rowEnd;if(null!=d){var h=d.template;null!=h&&(d.renderer=j(s,h))}var p=t.columnEnd;if(null!=p){var f=p.template;null!=f&&(p.renderer=j(s,f))}return{header:t}}if("cell"===e){var _=t.template;return null!=_&&(t.renderer=D(s,_)),{cell:t}}},update:function(e,t,n,r,i,o,s){if("header"===e){var a=t.row;if(null!=a){var l=a.template;null!=l&&(a.renderer=j(s,l))}var u=t.column;if(null!=u){var c=u.template;null!=c&&(u.renderer=j(s,c))}var d=t.rowEnd;if(null!=d){var h=d.template;null!=h&&(d.renderer=j(s,h))}var p=t.columnEnd;if(null!=p){var f=p.template;null!=f&&(p.renderer=j(s,f))}return{header:t}}if("cell"===e){var _=t.template;return null!=_&&(t.renderer=D(s,_)),{cell:t}}return null},for:"ojDataGrid"}),v.getDefaultInstance().setupManagedAttributes({attributes:["template"],init:function(e,t,n,r,i,o,s){return L(e,t,s)},update:function(e,t,n,r,i,o,s){return L(e,t,s)},for:"ojDiagram"}),function(){function e(e,t,i,o){var s=r(e.getAttribute(i),o);if(s)return n(e,t,"ko "+t+":"+s)}function n(e,t,n){for(var r=e.tagName.toLowerCase(),i=r,o=e.attributes,s=0;s<o.length;s++){var a=o[s];i+=" ",i+=a.name,i+="='",i+=a.value,i+="'"}var l=e.parentNode,u=document.createComment(i),c=document.createComment("/"+r);l.insertBefore(u,e);var d=document.createComment(n),h=document.createComment("/ko");l.insertBefore(d,e);var p,f=[u,d];if("if"===t)for(;e.childNodes.length>0;)p=e.childNodes[0],l.insertBefore(p,e),f.push(p);else if("_ojBindForEach_"===t)for(;e.childNodes.length>0;)p=e.childNodes[0],l.insertBefore(p,e),f.push(p);return l.insertBefore(h,e),f.push(h),l.replaceChild(c,e),f.push(c),f}function r(e,t){if(null!=e){var n=a.AttributeUtils.getExpressionInfo(e).expr;return null==n&&(n=t?"'"+e+"'":e),n}return null}function o(e,n,r,o){var s,l=a.AttributeUtils.getExpressionInfo(r).expr;if(null==l){var u=a.AttributeUtils.coerceValue(n,"class",r,"any");s=function(){return Array.isArray(u)?u.join(" "):u}}else{var c=t.createEvaluator(l,o).bind(null,o);s=i.pureComputed(function(){var e=i.unwrap(c());return Array.isArray(e)?e.join(" "):e})}e.css=s}function s(e,n,r,i,o){var s=a.AttributeUtils.getExpressionInfo(r).expr;return null==s?function(){return"object"===o?a.AttributeUtils.coerceValue(e,n,r,o):r}:t.createEvaluator(s,i).bind(null,i)}function l(e){return function(){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];t[i]=e[i]()}return t}}function u(e){if(1!==e.nodeType)return{};if(!e._ojbindingsobj){for(var t={},n=[],r=[],i=[],o=e.attributes,s=0;s<o.length;s++){var l=o[s],u=c(l.name);u&&("style"===u?t._STYLE_BIND=u:"style."===u.substring(0,6)?r.push(u):n.push(u)),a.CustomElementUtils.isElementRegistered(e.nodeName)||"on-"!==l.name.substring(0,3)||i.push(l)}if(r.length){if(t._STYLE_BIND)throw new Error("Cannot have both style and style.* data bound attributes on "+e.tagName+" with id "+e.id);t._STYLE_BIND=r}n.length&&(t._ATTR_BIND=n),i.length&&(t._EVENT_BIND=i),Object.defineProperty(e,"_ojbindingsobj",{value:t})}return e._ojbindingsobj}function c(e){return e&&":"===e.charAt(0)?e.slice(1):null}function d(e){return":"+e}t.registerPreprocessor("oj-bind-text",function(t){return e(t,"text","value",!0)}),t.registerPreprocessor("oj-bind-if",function(t){return e(t,"if","test",!1)}),t.registerPreprocessor("oj-bind-for-each",function(e){var t=e.getAttribute("data"),i=a.AttributeUtils.getExpressionInfo(t).expr;if(!i)try{var o=JSON.parse(t);if(!Array.isArray(o))throw new Error("got value "+t);i=t}catch(e){throw new Error("The value on the oj-bind-for-each data attribute should be either a JSON array or an expression : "+e)}var s=r(e.getAttribute("as"),!0);if(!i)return;var l="ko _ojBindForEach_:{data:"+i;return n(e,"_ojBindForEach_",l+=s?",as:"+s+"}":"}")}),t.addPostprocessor({nodeHasBindings:function(e,t){var n=u(e);return t||null!=n._ATTR_BIND||null!=n._STYLE_BIND||null!=n._EVENT_BIND},getBindingAccessors:function(e,t,n){if(1===e.nodeType){n=n||{};var r,c,h=u(e),p=h._STYLE_BIND;if(p){if(n.style)throw new Error("Cannot have both style data-bind and JET style binding on "+e.tagName+" with id "+e.id);if("style"===p)n[p]=s(e,p,e.getAttribute(d(p)),t,"object");else{var f={};for(r=0;r<p.length;r++){c=p[r],f[a.AttributeUtils.attributeToPropertyName(c.substring(6))]=s(e,c,e.getAttribute(d(c)),t,"string")}n.style=l(f)}}var _=h._ATTR_BIND;if(_){if(n.attr)throw new Error("Cannot have both attr data-bind and JET attribute binding on "+e.tagName+" with id "+e.id);var m={};for(r=0;r<_.length;r++)"class"===(c=_[r])?o(n,e,e.getAttribute(d(c)),t):m[c]=s(e,c,e.getAttribute(d(c)),t,"string");n.attr=l(m)}var g=h._EVENT_BIND;if(g){var v=new w(e,t,!0);for(r=0;r<g.length;r++){var y=g[r],E=a.AttributeUtils.attributeToPropertyName(y.nodeName);v.setupPropertyBinding(y.value,E,{_domListener:!0})}i.utils.domNodeDisposal.addDisposeCallback(e,function(){v&&(v.teardown(),v=null)})}}return n}})}(),function(){var e=document&&"function"==typeof document.createDocumentFragment;function t(e,t,n){return{status:"added",value:e,index:t,key:n}}function n(e){return{status:"deleted",value:{},index:e}}function o(e,t){var n;if(e){var r=e.length;n=new Array(r);for(var i=0;i<r;i++)n[i]=t(e[i],i,e)}return n}var s=function(e,t,n){if(Array.isArray(t)){var r=document.createDocumentFragment();for(let e=0,n=t.length;e!==n;++e)r.appendChild(t[e]);if(i.virtualElements.insertAfter(e,r,n),h.Components)for(let e=0,n=t.length;e!==n;++e)h.Components.subtreeAttached(t[e])}else i.virtualElements.insertAfter(e,t,n),h.Components&&h.Components.subtreeAttached(t)};function l(e,n,r){this.element=n.element||e,i.applyBindingsToDescendants(r,this.element),function(e){for(var t,n,r=i.virtualElements.childNodes(e),o=0;o<r.length;o++){var s=r[o];if(1===s.nodeType&&"template"===s.nodeName.toLowerCase()){var l=a.CustomElementUtils.getSlotAssignment(s);if(t||l&&""!==l){if(n||"noData"!==l){var u;switch(l){case"":u="Multiple default templates found: oj-bind-for-each requires a single default template element as its direct child";break;case"noData":u="Multiple noData templates found: oj-bind-for-each requires a single noData template element as its direct child";break;default:u="Unknown template slot detected - "+l+": oj-bind-for-each supports a single default template and a single noData template"}throw new Error(u)}n=s}else t=s}}if(!t)throw new Error("Default template not found: oj-bind-for-each requires a single default template element as its direct child");e._templateNode=t,e._noDataTemplateNode=n}(this.element),this.element._templateNode.__ojBindingContext=i.contextFor(this.element._templateNode),this.data=n.data,this.as=n.as,this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],this.headDataPromise=null,this.tailDataPromise=null,i.virtualElements.emptyNode(this.element),this._initChildrenBindingsAppliedPromise();var s=i.unwrap(this.data);s.fetchFirst?(this.currentDataProvider=s,this.fetchData()):this.onArrayChange(o(s,t)),this.addSubscriptions()}l.PENDING_DELETE_INDEX_KEY="_ko_ffe_pending_delete_index",l.prototype.addSubscriptions=function(){var e=i.isObservable(this.data);this.currentDataProvider?(this.dataMutateHandler=this.handleDataMutateEvent.bind(this),this.dataRefreshHandler=this.handleDataRefreshEvent.bind(this),this.currentDataProvider.addEventListener("mutate",this.dataMutateHandler),this.currentDataProvider.addEventListener("refresh",this.dataRefreshHandler),e&&(this.changeSubs=this.data.subscribe(this.onDataChange,this,"change"))):e&&(this.data.indexOf||(this.data=this.data.extend({trackArrayChanges:!0})),this.changeArraySubs=this.data.subscribe(this.onArrayDataChange,this,"arrayChange"),this.changeSubs=this.data.subscribe(this.onDataChange,this,"change"))},l.prototype.removeSubscriptions=function(){this.changeSubs&&this.changeSubs.dispose(),this.changeArraySubs&&this.changeArraySubs.dispose(),this.currentDataProvider&&(this.currentDataProvider.removeEventListener("mutate",this.dataMutateHandler),this.currentDataProvider.removeEventListener("refresh",this.dataRefreshHandler))},l.prototype.onArrayDataChange=function(e){this.arrayChangeSet=e},l.prototype.onDataChange=function(e){this.arrayChangeSet?(this.onArrayChange(this.arrayChangeSet),this.arrayChangeSet=null):(this.setData({data:this.data,dataProvider:e.fetchFirst?e:null}),this.recreateContent(e))},l.prototype.recreateContent=function(e){this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],this._noDataNodes=null,i.virtualElements.emptyNode(this.element),e.fetchFirst?this.fetchData():this.onArrayChange(o(e,t))},l.prototype.registerBusyState=function(){var e=this.element.parentNode;return c.getContext(e).getBusyContext().addBusyState({description:"oj-bind-for-each binding on a node with the Id "+e.id+"is loading data."})},l.prototype._initChildrenBindingsAppliedPromise=function(){var e=this.element._templateNode.__ojBindingContext.$current,t=e?{_nearestCustomParent:e._nearestCustomParent,_immediate:e._immediate}:null,n=function(e,t){for(var n=e.parentNode;n&&!a.ElementUtils.isValidCustomElementName(n.localName);)n=n.parentNode;return n||(n=t?t._nearestCustomParent:null),n}(this.element,t),r=function(e,t,n){var r=!1,i=!!n;return e.parentNode===t?r=!0:i&&!e.parentNode.parentNode&&(r=n._immediate),r}(this.element,n,t);this.trackingContext={_nearestCustomParent:n,_immediate:r},this._childrenBindingsPromiseResolver=N.getInstance().__RegisterBindingAppliedPromiseForChildren(n,r)},l.prototype._resolveChildrenBindingsAppliedPromise=function(){this._childrenBindingsPromiseResolver&&(this._childrenBindingsPromiseResolver(),this._childrenBindingsPromiseResolver=null)},l.prototype.resetChainIfCompleted=function(e){e===this.tailDataPromise&&(this.headDataPromise=null,this.tailDataPromise=null)},l.prototype.promiseRejectHelper=function(e,t,n){if(t(),this.resetChainIfCompleted(n),!e._CAUGHT_PROMISE_REJECTION&&"oj-bind-for-each: abandoned promise"!==e.message){if(e instanceof Error)throw e._CAUGHT_PROMISE_REJECTION=!0,e;throw new Error(e)}r.info(e)},l.prototype.fetchData=function(){var e,n,r,i=this.registerBusyState(),o=this.currentDataProvider.fetchFirst({size:-1})[Symbol.asyncIterator](),s=function(a,l,u){return function(c){if(u.headDataPromise===r){for(var d=c.value,h=a.length,p=0;p<d.metadata.length&&p<d.data.length;p++)a.push(t(d.data[p],h,d.metadata[p].key)),h+=1;c.done?(l.call(u,a),i(),e(),u.resetChainIfCompleted(r)):o.next().then(s(a,l,u),function(e){i(),n(e),u.resetChainIfCompleted(r)})}else i(),n(new Error("oj-bind-for-each: abandoned promise"))}};(r=new Promise(function(t,a){e=t,n=a,o.next().then(s([],this.onArrayChange,this),function(e){i(),n(e),this.resetChainIfCompleted(r)}.bind(this))}.bind(this))).catch(function(e){if("oj-bind-for-each: abandoned promise"!==e.message){if(e instanceof Error)throw e._CAUGHT_PROMISE_REJECTION=!0,e;throw new Error(e)}}),this.headDataPromise=r,this.tailDataPromise=r},l.prototype.getIndexesForEvent=function(e,t){var n,r=[];if(Array.isArray(e))for(n=0;n<e.length;n++)r.push(e[n]);else if(t){var i=Array.isArray(t)?t.length:t.size,o=new u(t),s=new Map,a=0;for(n=0;n<this.firstLastNodesList.length&&a<i;n++){var l=this.firstLastNodesList[n].key,c=o.get(l);c!==o.NOT_A_KEY&&(s.set(c,n),a+=1)}t.forEach(function(e){r.push(s.get(e))})}return r},l.prototype.handleDataMutateEvent=function(e){var t,n,r={},i=this;this.tailDataPromise?(t=this.registerBusyState(),(n=this.tailDataPromise.then(function(){return t(),i.getDataMutationHelper(e,r)})).catch(function(e){i.promiseRejectHelper(e,t,n)})):(n=this.getDataMutationHelper(e,r),this.headDataPromise=n),this.tailDataPromise=n,r.head=this.headDataPromise,r.current=n},l.prototype.getDataMutationHelper=function(e,r){var i,o,s=e.detail.add,a=e.detail.remove,l=e.detail.update,u=s&&s.data,c=l&&l.data,d=()=>{if(c){var e=0,r=[],i=this.getIndexesForEvent(l.indexes,l.keys);l.keys.forEach(function(o){if(void 0!==i[e]){var s=c[e];r.push(n(i[e])),r.push(t(s,i[e],o))}e+=1}),this.onArrayChange(r)}},h=()=>{if(a){var e=this.getIndexesForEvent(a.indexes,a.keys);e=e.filter(function(e){return void 0!==e}),this.onArrayChange(e.map(n))}},p=()=>{if(u){var e=this.getIndexesForEvent(s.indexes,s.addBeforeKeys?s.addBeforeKeys:s.afterKeys),n=[],r=0;s.keys.forEach(function(i){var o=u[r];n.push(t(o,function(t){var n=e.length>t?e[t]:this.firstLastNodesList.length+t;return void 0===n?this.firstLastNodesList.length:n}(r),i)),r+=1},this),this.onArrayChange(n)}};if(l&&!Array.isArray(c)||s&&!Array.isArray(u)){var f=l&&!Array.isArray(c)?this.currentDataProvider.fetchByKeys({keys:l.keys}):Promise.resolve(),_=s&&!Array.isArray(u)?this.currentDataProvider.fetchByKeys({keys:s.keys}):Promise.resolve();i=this.registerBusyState(),(o=Promise.all([f,_]).then(e=>{if(r.head!==this.headDataPromise)throw i(),new Error("oj-bind-for-each: abandoned promise");var t=e[0];t&&t.results.size>0&&(c=[...l.keys].map(e=>t.results.get(e).data)),d(),h();var n=e[1];n&&n.results.size>0&&(u=[...s.keys].map(e=>n.results.get(e).data)),p(),i(),this.resetChainIfCompleted(r.current)})).catch(e=>{this.promiseRejectHelper(e,i,r.current)})}else d(),h(),p();return o},l.prototype.handleDataRefreshEvent=function(){this.recreateContent(this.currentDataProvider)},l.prototype._addNoData=function(){0===this.firstLastNodesList.length&&this.element._noDataTemplateNode&&(this._noDataNodes=d.execute(this.element,this.element._noDataTemplateNode,{},null),this.insertAllAfter(this._noDataNodes))},l.prototype._removeNoData=function(){this._noDataNodes&&(this._noDataNodes.forEach(e=>{d.clean(e),e.parentNode.removeChild(e)}),this._noDataNodes=null)},l.prototype.onArrayChange=function(e){this._removeNoData();for(var t={added:[],deleted:[]},n=0,r=e.length;n<r;n++)if(t.added.length&&"added"===e[n].status){var i=t.added[t.added.length-1];(i.isBatch?i.index+i.values.length-1:i.index)+1===e[n].index?(i.isBatch||(i={isBatch:!0,status:"added",index:i.index,values:[i.value],keys:[i.key]},t.added.splice(t.added.length-1,1,i)),i.values.push(e[n].value),i.keys.push(e[n].key)):t[e[n].status].push(e[n])}else t[e[n].status].push(e[n]);t.deleted.length>0&&(this.changeQueue.push.apply(this.changeQueue,t.deleted),this.changeQueue.push({status:"clearDeletedIndexes"})),this.changeQueue.push.apply(this.changeQueue,t.added),this.changeQueue.length>0&&!this.rendering_queued&&(this.rendering_queued=!0,this.processQueue()),this._addNoData(),this._resolveChildrenBindingsAppliedPromise()},l.prototype.processQueue=function(){var e=this,t=9007199254740991;i.utils.arrayForEach(this.changeQueue,function(n){"number"==typeof n.index&&(t=Math.min(t,n.index)),e[n.status](n)}),this.flushPendingDeletes(),this.rendering_queued=!1,this.updateIndexes(t),this.changeQueue=[]},l.prototype.added=function(e){for(var t=e.index,n=e.isBatch?e.values:[e.value],r=e.isBatch?e.keys:[e.key],o=this.getLastNodeBeforeIndex(t),s=[],a=0,l=n.length;a<l;++a){var u,c,h=this.getPendingDeleteFor(n[a]);h&&h.nodesets.length?(u=h.nodesets.pop(),c=h.currentChildContext):(c={data:n[a],index:t+a,observableIndex:i.observable()},Object.defineProperties(c,{_nearestCustomParent:{value:this.trackingContext._nearestCustomParent,enumerable:!1},_immediate:{value:this.trackingContext._immediate,enumerable:!1}}),u=d.execute(this.element,this.element._templateNode,c,this.as)),s.push.apply(s,Array.prototype.slice.call(u)),this.firstLastNodesList.splice(t+a,0,{first:u[0],last:u[u.length-1],key:r?r[a]:null,currentChildContext:c})}this.insertAllAfter(s,o)},l.prototype.getNodesForIndex=function(e){var t=[],n=this.firstLastNodesList[e].first,r=this.firstLastNodesList[e].last;for(t.push(n);n&&n!==r;)n=n.nextSibling,t.push(n);return t},l.prototype.getLastNodeBeforeIndex=function(e){return e<1||e-1>=this.firstLastNodesList.length?null:this.firstLastNodesList[e-1].last},l.prototype.insertAllAfter=function(t,n){var r,i=this.element;if(1===t.length)s(i,t[0],n);else if(e)s(i,t,n);else for(r=t.length-1;r>=0;--r){var o=t[r];if(!o)break;s(i,o,n)}return t},l.prototype.shouldDelayDeletion=function(e){return e&&("object"==typeof e||"function"==typeof e)},l.prototype.getPendingDeleteFor=function(e){var t=e&&e._ko_ffe_pending_delete_index;return void 0===t?null:this.pendingDeletes[t]},l.prototype.getOrCreatePendingDeleteFor=function(e){var t=this.getPendingDeleteFor(e);return t||(t={data:e,nodesets:[]},e._ko_ffe_pending_delete_index=this.pendingDeletes.length,this.pendingDeletes.push(t),t)},l.prototype.deleted=function(e){if(this.shouldDelayDeletion(e.value)){var t=this.getOrCreatePendingDeleteFor(e.value);t.nodesets.push(this.getNodesForIndex(e.index)),t.currentChildContext=this.firstLastNodesList[e.index].currentChildContext}else this.removeNodes(this.getNodesForIndex(e.index));this.indexesToDelete.push(e.index)},l.prototype.removeNodes=function(e){if(e.length){!function(){for(var t=e[0].parentNode,n=e.length-1;n>=0;--n)d.clean(e[n]),t.removeChild(e[n])}()}},l.prototype.flushPendingDeletes=function(){for(var e=0,t=this.pendingDeletes.length;e!==t;++e){for(var n=this.pendingDeletes[e];n.nodesets.length;)this.removeNodes(n.nodesets.pop());n.data&&void 0!==n.data._ko_ffe_pending_delete_index&&delete n.data._ko_ffe_pending_delete_index}this.pendingDeletes=[]},l.prototype.clearDeletedIndexes=function(){for(var e=this.indexesToDelete.length-1;e>=0;--e)this.firstLastNodesList.splice(this.indexesToDelete[e],1);this.indexesToDelete=[]},l.prototype.updateIndexes=function(e){for(var t=e,n=this.firstLastNodesList.length;t<n;++t){var r=this.firstLastNodesList[t].currentChildContext;r&&r.observableIndex&&r.observableIndex(t)}},l.prototype.getData=function(){return{data:this.data,dataProvider:this.currentDataProvider}},l.prototype.setData=function(e){this.removeSubscriptions(),this.data=e.data,this.currentDataProvider=e.dataProvider,this.addSubscriptions()},i.bindingHandlers._ojBindForEach_={init:function(e,t,n,r,o){var s,a;return i.computed(function(){if(a=t(),s){var e,n,r=a.data,o=s.getData().data;if(i.ignoreDependencies(function(){e=i.unwrap(o),n=i.unwrap(r)}),s.setData({data:r,dataProvider:n.fetchFirst?n:null}),Array.isArray(e)&&Array.isArray(n)){var l=i.utils.compareArrays(e,n,{sparse:!0,dontLimitMoves:!0});s.onArrayChange(l)}else s.recreateContent(n)}},null,{disposeWhenNodeIsRemoved:e}),s=new l(e,a,o),i.utils.domNodeDisposal.addDisposeCallback(e,function(){s.removeSubscriptions()}),{controlsDescendantBindings:!0}}},i.virtualElements.allowedBindings._ojBindForEach_=!0}();const M={};function k(e,t,n){if("item"===e){var r=t.template;return null!=r&&(t.renderer=function(e,t){return function(n){var r=n.parentElement,o=e.createChildContext(n.data,null,function(e){e.$itemContext=n});return i.renderTemplate(t,o,{afterRender:function(e){s(e)._ojDetectCleanData()}},r,"replaceNode"),null}}(n,r)),{item:t}}return null}function F(e,t,n){return"center"===e&&t.template&&(t._renderer=P(n,t.template)),{center:t}}function B(e,t,n){return"rootNodeContent"===e&&t.template&&(t._renderer=P(n,t.template)),{rootNodeContent:t}}n._registerLegacyNamespaceProp("koStringTemplateEngine",M),M.install=function(){var e=i;if(!e.templates){var t={},n={},r=new e.nativeTemplateEngine,o=function(e){this._templateName=e,this.text=function(e){if(!e)return t[this._templateName];t[this._templateName]=e},this.data=function(e,t){if(n[this._templateName]||(n[this._templateName]={}),1===arguments.length)return n[this._templateName][e];n[this._templateName][e]=t}};r.makeTemplateSource=function(t,n){if("string"==typeof t){var r=(n=n||document).getElementById(t);return r?new e.templateSources.domElement(r):new o(t)}if(t&&1===t.nodeType||8===t.nodeType)return new e.templateSources.anonymousTemplate(t)},e.templates=t,e.setTemplateEngine(r)}},v.getDefaultInstance().setupManagedAttributes({attributes:["item"],init:function(e,t,n,r,i,o,s){var a=k(e,t,s);if(null!=a)return a},update:function(e,t,n,r,i,o,s){return k(e,t,s)},for:"ojListViewRenderer"}),v.getDefaultInstance().setupManagedAttributes({for:"ojListView",use:"ojListViewRenderer"}),v.getDefaultInstance().setupManagedAttributes({for:"ojNavigationList",use:"ojListViewRenderer"}),n._registerLegacyNamespaceProp("ResponsiveKnockoutUtils",f),n._registerLegacyNamespaceProp("KnockoutTemplateUtils",p),v.getDefaultInstance().setupManagedAttributes({attributes:["center"],init:function(e,t,n,r,i,o,s){return F(e,t,s)},update:function(e,t,n,r,i,o,s){return F(e,t,s)},for:"ojStatusMeterGauge"}),v.getDefaultInstance().setupManagedAttributes({attributes:["rootNodeContent"],init:function(e,t,n,r,i,o,s){return B(e,t,s)},update:function(e,t,n,r,i,o,s){return B(e,t,s)},for:"ojSunburst"});function U(e,t,n){var r,o;return r=n,o=t,function(t){var n=null,a=null;if("header"===o)n=e.createChildContext(null,null,function(e){e.$columnIndex=t.columnIndex,e.$headerContext=t.headerContext,e.$data=t.data}),a=t.headerContext.parentElement;else if("cell"===o){var l=t.row;n=e.createChildContext(l,null,function(e){e.$columnIndex=t.columnIndex,e.$cellContext=t.cellContext}),a=t.cellContext.parentElement}"footer"===o&&(n=e.createChildContext(null,null,function(e){e.$columnIndex=t.columnIndex,e.$footerContext=t.footerContext}),a=t.footerContext.parentElement),i.renderTemplate(r,n,{afterRender:function(e){s(e)._ojDetectCleanData()}},a,"replaceNode")}}function V(e,t){return function(n){var r=n.row,o=e.createChildContext(r,null,function(e){e.$rowContext=n.rowContext});i.renderTemplate(t,o,{afterRender:function(e){s(e)._ojDetectCleanData()}},n.rowContext.parentElement,"replaceNode")}}function H(e,t,n){var r,i;if("areaLayers"===e){for(r=0;r<t.length;r++){var o=t[r].areaDataLayer;o&&null!=(i=o.template)&&(o._templateRenderer=O(n,i))}return{areaLayers:t}}if("pointDataLayers"===e){for(r=0;r<t.length;r++)null!=(i=t[r].template)&&(t[r]._templateRenderer=O(n,i));return{pointDataLayers:t}}return null}function G(e,t,n){return"nodeContent"===e&&t.template&&(t._renderer=P(n,t.template)),{nodeContent:t}}v.getDefaultInstance().setupManagedAttributes({attributes:["columns","columnsDefault","rowTemplate"],init:function(e,t,n,r,i,o,s){if("columns"===e||"columnsDefault"===e){for(var a=0;a<t.length;a++){var l=t[a],u=l.template,c=l.footerTemplate,d=l.headerTemplate;null!=u&&(l.renderer=U(s,"cell",u)),null!=c&&(l.footerRenderer=U(s,"footer",c)),null!=d&&(l.headerRenderer=U(s,"header",d))}return"columns"===e?{columns:t}:{columnsDefault:t}}if("rowTemplate"===e)return{rowRenderer:V(s,t)}},update:function(e,t,n,r,i,o,s){if("columns"===e||"columnsDefault"===e){for(var a=0;a<t.length;a++){var l=t[a],u=l.template,c=l.footerTemplate,d=l.headerTemplate;null!=u&&(l.renderer=U(s,"cell",u)),null!=c&&(l.footerRenderer=U(s,"footer",c)),null!=d&&(l.headerRenderer=U(s,"header",d))}r("columns"===e?{columns:t}:{columnsDefault:t})}else if("rowTemplate"===e)return{rowRenderer:V(s,t)};return null},for:"ojTable"}),v.getDefaultInstance().setupManagedAttributes({attributes:["areaLayers","pointDataLayers"],init:function(e,t,n,r,i,o,s){return H(e,t,s)},update:function(e,t,n,r,i,o,s){return H(e,t,s)},for:"ojThematicMap"}),v.getDefaultInstance().setupManagedAttributes({attributes:["nodeContent"],init:function(e,t,n,r,i,o,s){return G(e,t,s)},update:function(e,t,n,r,i,o,s){return G(e,t,s)},for:"ojTreemap"})}),define("ojs/ojknockout-validation",["ojs/ojcore","jquery","ojs/ojcontext","ojs/ojmessaging","ojs/ojknockout","knockout"],function(e,t,n,r,i,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const s=function(){this.Init()};e._registerLegacyNamespaceProp("InvalidComponentTracker",s),e.Object.createSubclass(s,e.Object,"oj.InvalidComponentTracker"),s._OPTION_MESSAGES_SHOWN="messagesShown",s._OPTION_MESSAGES_HIDDEN="messagesHidden",s._OPTION_DISABLED="disabled",s._OPTION_READONLY="readOnly",s.prototype.Init=function(){s.superclass.Init.call(this),this._tracked=[],this._invalid=[],this._invalidHidden=[],this.invalidShown=!1,this.invalidHidden=!1},s.prototype.focusOnFirstInvalid=function(){var e=null,t=this,r=this._updateCounter,i=n.getPageContext().getBusyContext().addBusyState({description:"Setting Focus to first invalid component."});return this.invalidShown&&(e=this._getFirstInvalidComponent()),setTimeout(function(){(e=r===t._updateCounter&&e||t._getFirstInvalidComponent())&&e("instance").GetFocusElement().focus(),i()},1),!!e},s.prototype.showMessages=function(){var e;if(this.invalidHidden)for(var t=this._invalidHidden.length,n=0;n<t;n++)this._invalidHidden[n]&&(e=this._tracked[n].component.call(e,"showMessages"))},s.prototype._getFirstInvalidComponent=function(){var e=0,t=[],n=this._invalid.length;for(e=0;e<n;e++){this._invalid[e]&&t.push(this._tracked[e])}return 0===t.length?null:(t.sort(function(e,t){var n=e.element,r=t.element;return n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}),t[0].component)},s.prototype._remove=function(e){var n=-1,r=!1;return t.each(this._tracked,function(t,r){n<0&&r.component===e&&(n=t)}),n>=0&&(this._tracked.splice(n,1),this._invalid.splice(n,1),this._invalidHidden.splice(n,1),this._updateInvalidProperties(),r=!0),r},s.prototype._update=function(e,n,r,i){var o,a=e.call(e,"isValid"),l=!0,u=-1;switch(t.each(this._tracked,function(t,n){u<0&&n.component===e&&(u=t)}),r){case s._OPTION_MESSAGES_SHOWN:case s._OPTION_MESSAGES_HIDDEN:if(o=!1,i){if(u<0&&(u=this._tracked.push({component:e,element:n})-1,this._initializeInvalidTrackers(u,o)),!a&&s._hasInvalidMessages(i)&&(o=!0,r===s._OPTION_MESSAGES_SHOWN)){var c=e.call(e,"option",s._OPTION_DISABLED),d=e.call(e,"option",s._OPTION_READONLY);o=!(c||d)}l=this._updateInvalidTracker(r,u||0,o),this._updateInvalidProperties(),l&&(void 0===this._updateCounter&&(this._updateCounter=0),this._updateCounter+=1)}break;case s._OPTION_DISABLED:case s._OPTION_READONLY:l=!1,i&&(l=this._updateInvalidTracker(s._OPTION_MESSAGES_SHOWN,u||0,!1),l=this._updateInvalidTracker(s._OPTION_MESSAGES_HIDDEN,u||0,!1)||l,this._updateInvalidProperties())}return l},s.prototype._initializeInvalidTrackers=function(e,t){void 0===this._invalid[e]&&this._updateInvalidTracker(s._OPTION_MESSAGES_SHOWN,e,t),void 0===this._invalidHidden[e]&&this._updateInvalidTracker(s._OPTION_MESSAGES_HIDDEN,e,t)},s.prototype._updateInvalidProperties=function(){this.invalidShown=this._invalid.indexOf(!0)>=0,this.invalidHidden=this._invalidHidden.indexOf(!0)>=0},s.prototype._updateInvalidTracker=function(e,t,n){var r,i=!1;return r=e===s._OPTION_MESSAGES_SHOWN?this._invalid:e===s._OPTION_MESSAGES_HIDDEN?this._invalidHidden:[],t>=0&&void 0!==r[t]?(i=r[t]!==n)&&(r[t]=n):(r.push(n),i=!0),i},s._hasInvalidMessages=function(e){return!r.isValid(e)};const a=function(){};e._registerLegacyNamespaceProp("ValueBinding",a),a._ATTRIBUTE_INVALID_COMPONENT_TRACKER="invalidComponentTracker",a._EVENT_OPTIONCHANGE="ojoptionchange",a._OPTION_MESSAGES_SHOWN="messagesShown",a._OPTION_MESSAGES_HIDDEN="messagesHidden",a._OPTION_DISABLED="disabled",a._OPTION_READONLY="readOnly",a._update=function(e,t,n,r,i){var s={},l=i.call()[a._ATTRIBUTE_INVALID_COMPONENT_TRACKER];if(e===a._OPTION_DISABLED||e===a._OPTION_READONLY){var u=l&&l.peek()||null;return null!==u&&o.isWriteableObservable(l)&&u._update.call(u,r,n,e,t)&&l.valueHasMutated(),s[e]=t,s}},a._init=function(e,t){var n={};return n[e]=t,n},a._afterCreate=function(e,t,n,r){var i=r.call();return e===a._ATTRIBUTE_INVALID_COMPONENT_TRACKER&&!!i[e]&&a._registerInvalidComponentTrackerWriteback(e,i,t,n),{}},a._beforeDestroy=function(e,n,r,i){var s,l=t(n),u=i.call()[e];e===a._ATTRIBUTE_INVALID_COMPONENT_TRACKER&&(l.off(a._EVENT_OPTIONCHANGE,a._updateInvalidComponentTracker),u&&o.isWriteableObservable(u)&&(s=u.peek())._remove.call(s,r)&&u.valueHasMutated())},a._updateInvalidComponentTracker=function(e){var t,n=e.data.tracker,r=e.data.component,i=e.data.element,s=arguments[1],l=s.option,u=s.value;l!==a._OPTION_MESSAGES_SHOWN&&l!==a._OPTION_MESSAGES_HIDDEN||n&&o.isWriteableObservable(n)&&(t=n.peek())&&t._update.call(t,r,i,l,u)&&n.valueHasMutated()},a._registerInvalidComponentTrackerWriteback=function(e,n,r,i){var l,u=n[e],c=t(r);if(!o.isObservable(u))throw new Error("Binding attribute "+a._ATTRIBUTE_INVALID_COMPONENT_TRACKER+" should be bound to a ko observable.");if(null==(l=u.peek())&&u(l=new s),o.isWriteableObservable(u)){var d=i.call(i,"option",a._OPTION_MESSAGES_SHOWN),h=i.call(i,"option",a._OPTION_MESSAGES_HIDDEN);l._update.call(l,i,r,a._OPTION_MESSAGES_SHOWN,d),l._update.call(l,i,r,a._OPTION_MESSAGES_HIDDEN,h),u.valueHasMutated()}var p={tracker:u,component:i,element:r};c.on(a._EVENT_OPTIONCHANGE,p,a._updateInvalidComponentTracker)},e.ComponentBinding.getDefaultInstance().setupManagedAttributes({for:"editableValue",attributes:[a._ATTRIBUTE_INVALID_COMPONENT_TRACKER,a._OPTION_DISABLED,a._OPTION_READONLY],init:a._init,update:a._update,afterCreate:a._afterCreate,beforeDestroy:a._beforeDestroy})}),define("ojs/ojrouter",["ojs/ojcore","knockout","signals","ojs/ojlogger"],function(e,t,n,r){"use strict";!function(){var i,o,s,a,l,u="/",c={hasChanged:!1},d=!1,h=[],p=window.location;function f(e){return e?e.split("/"):[]}function _(e){return B(f(e)[0])}function m(t,n){var r=document.createElement("a");return r.href=p.href,void 0!==t.search&&(r.search=t.search),void 0!==t.pathname&&(r.pathname=t.pathname),r.search=function(t,n){var r,i,o="",s=t.indexOf("oj_Router");if(-1!==s){var a=t.indexOf("&",s);-1===a&&(a=t.length),r=t.substring(0,s),i=t.substr(a)}else r=t+(-1===t.indexOf("?")?"?":"&"),i="";n&&Object.getOwnPropertyNames(n).length>0?o=function(t){var n=JSON.stringify(t),r=encodeURIComponent(n),i=e.LZString.compressToEncodedURIComponent(n),o=!1,s="oj_Router=";i.length<=r.length&&(o=!0);s+=o?"1"+i:"0"+r;if(s.length>1024)throw new Error("Size of bookmarkable data is too big.");return s}(n):r=r.substring(0,r.length-1);return r+o+i}(r.search,n),r.href.replace(/\?$/,"")}function g(e){return e._parentRouter?g(e._parentRouter)+"."+e._name:e._name}function v(e,t){var n;return e._childRouters.every(function(e){if(e._parentState){if(e._parentState===t)return n=e,!1}else n=e;return!0}),n}function y(e){var t=e.filter(function(e){return e.value!==e.router._stateId()});return r.option("level")===r.LEVEL_INFO&&(r.info("Potential changes are: "),t.forEach(function(e){r.info("   { router: %s, value: %s }",e.router&&g(e.router),e.value)})),t}function E(e){var t=this[e.router._name];void 0!==t&&(e.router._extra=t)}function b(){return h[0]&&h[0].cancel}function T(t){var n,i=t.charAt(0),o=t.slice(1);if("0"===i)o=decodeURIComponent(o);else{if("1"!==i)throw new Error("Error retrieving bookmarkable data. Format is invalid");o=e.LZString.decompressFromEncodedURIComponent(o)}if(n=JSON.parse(o),r.option("level")===r.LEVEL_INFO){r.info("Bookmarkable data: ");for(var s=Object.keys(n),a=0;a<s.length;a++){var l=s[a];r.info("   { router: %s, value: %s }",l,n[l])}}return n}function S(e,t,n){var r;return e._childRouters.every(function(e){return!((!e._parentState||e._parentState===n)&&e._getStateFromId(t))||(r=e,!1)}),r}function C(t){e.Router._transitionedToState.dispatch(t)}function P(e,t){this.router=e,this.value=t}function O(e){var t,n,r=e[e.length-1];for(r?(t=r.router,n=_(r.value)):(t=l,(n=l._defaultStateId)&&e.push(new P(t,n))),t=v(t,n);t;)(n=t._defaultStateId)&&e.push(new P(t,n)),t=v(t,n);var i=function e(t){var n=[];return t._currentState()&&(n.push(new P(t)),t._childRouters.forEach(function(t){n=n.concat(e(t))})),n}(l),o=[];return i.forEach(function(t,n){var r=e[n];r&&t.router===r.router||o.unshift(t)}),o.concat(e)}function A(e,t,n){var i=e();return i||r.info("%s is false for state: %s",t,n),i}function I(e,t,n,r){return"function"==typeof e&&(t=t?t.then(function(t){return t&&(t=A(e,n,r)),t}):new Promise(function(t){t(A(e,n,r))})),t}function R(e){var t;return b()?Promise.resolve(!1):(r.info("Start _canExit."),t=e?null===(t=function e(t,n){var r=t._currentState();if(r){for(var i=0;i<t._childRouters.length;i++)n=e(t._childRouters[i],n);n=I(r.viewModel&&r.viewModel.canExit?r.viewModel.canExit:r._canExit,n,"canExit",r._id)}return n}(e,null))?Promise.resolve(!0):t.then(function(e){return e&&!b()}):Promise.resolve(!0))}function w(e,t){if(b())return Promise.resolve();r.info("Start _canEnter.");var n=null;return e.forEach(function(e){var t=e.getState();t&&(n=I(t._canEnter,n,"canEnter",t._id))}),n=null===n?Promise.resolve({allChanges:e,origin:t}):n.then(function(n){var r;return n&&!b()&&(r={allChanges:e,origin:t}),r})}function N(t){if(!t)return Promise.resolve(c);var n,i=Promise.resolve().then(function(){r.info("Entering _updateAll."),e.Router._updating=!0}),o=t.allChanges;return o.forEach(function(e){n=e.router.currentState.peek(),i=i.then(function(){if(!b())return function(e,t){var n=e.router._getStateFromId(_(e.router._stateId())),i=e.getState();return Promise.resolve().then(function(){r.option("level")===r.LEVEL_INFO&&r.info("Updating state of %s to %s.",g(e.router),e.value)}).then(n?n._exit:void 0).then(function(){var n=e.router,r=!1;if("popState"===t){var o,s=n._navHistory.length;for(o=s-1;o>=0;o--)if(n._navHistory[o]===e.value){r=!0,n._navHistory.splice(o,s-o);break}s-o==1&&(n._navigationType="back")}if(r||(delete n._navigationType,n._navHistory.push(_(n._stateId()))),e.value&&i){var a=f(e.value);i._paramOrder.forEach(function(e,t){var n=B(a[t+1]);n!==i.parameters[e]&&(i.parameters[e]=n)})}n._stateId(e.value)}).then(i?i._enter:void 0)}(e,t.origin)})}),i.then(function(){var t,i,s=!1;if(o.length){s=!b();var a=o[o.length-1];t=a.router,i=a.state}return e.Router._updating=!1,r.info("_updateAll returns %s.",String(s)),{hasChanged:s,router:t,oldState:n,newState:i}},function(t){return e.Router._updating=!1,Promise.reject(t)})}function j(e){var t;try{t=y(t=o.parse())}catch(e){return Promise.reject(e)}return w(t,e).then(N)}function D(e,t){if(r.option("level")===r.LEVEL_INFO){var n=t.path?"path="+t.path:"",i=t.deferredHandling?"deferredHandling=true":"",o=t.router?g(t.router):"null";r.info(">> %s: origin=%s router=%s %s %s",e,t.origin,o,n,i)}}function x(){var e,t=h[0];return D("Resolving",t),t.cancel?(D("Cancelled",t),e=Promise.resolve(c)):e=function(e){if(D("Executing",e),!e.deferredHandling){if("sync"===e.origin)return j();if("popState"===e.origin)return R(e.router).then(function(t){return t?j(e.origin):Promise.resolve(c)})}return e.router._go(e)}(t),e.then(function(e){if(D("Done with",h.shift()),!0===e.hasChanged){var t,n=function e(t){if(!t)return{title:"",segment:""};var n=e(v(t,t._stateId()));if(""===n.title){var r=t._currentState();if(r){var i=r._title;void 0!==i?("function"==typeof i&&(i=i()),n.title=String(i)):void 0!==(i=r._label)&&(i=String(i),""!==n.segment&&(i+=" | "+n.segment),n.segment=i)}}return n}(l);""!==n.title?t=n.title:i&&i.length>0?(t=i,""!==n.segment&&(t+=" | "+n.segment)):t=n.segment,t!==window.document.title&&(window.document.title=t)}return C(e),e},function(e){return h=[],r.error("Error when executing transition: %o",e),C(c),Promise.reject(e)})}function L(e){D("Queuing  ",e);var t=h.push(e);if(1===t)a=x();else{var n=h[t-2];n.deferredHandling||(D("Cancelling",n),n.cancel=!0),a=a.then(x)}return a}function M(){var e=_(l._stateId()),t=null;if(r.info("Handling popState event with URL: %s",p.href),e)for(var n=0;n<l._childRouters.length;n++){var i=l._childRouters[n];if(e===i.parent.stateId()){t=i;break}}L({router:t,origin:"popState"})}function k(){d||(o||(o=new e.Router.urlPathAdapter),o.init(u),i=window.document.title,window.addEventListener("popstate",M,!1),r.info("Initializing rootInstance."),r.info("Base URL is %s",u),r.info("Current URL is %s",p.href),d=!0)}function F(e){var t=e;return t&&t.replace&&(t=(t=t.replace(/~/g,"~0")).replace(/\//g,"~1")),t}function B(e){var t=e;return t&&t.replace&&(t=(t=t.replace(/~1/g,"/")).replace(/~0/g,"~")),t}P.prototype.getState=function(){return this.state||this.value&&(this.state=this.router._getStateFromId(_(this.value))),this.state},P.prototype.addParameter=function(e){e&&(this.value+="/"+e)},e.Router=function(e,n,r){var i=this;function o(e,t){var n={name:a(e),params:{ojRouter:{parentRouter:t,get direction(){return t._navigationType}}}};return n.params.ojRouter.parameters={},e&&(s(e,n),n.lifecycleListener={attached:t.moduleConfig.lifecycleListener.attached}),n}function s(e,n){var r=n.params.ojRouter.parameters,i=e.parameters;Object.keys(i).forEach(function(e){var n=i[e],o=r[e];o||(o=t.observable(),r[e]=o),o(n)})}function a(e){var t;return e&&((t=e.value)&&"string"==typeof t||(t=e._id)),t}this._name=e,this._parentState=r||(n?_(n._stateId()):void 0),this._parentRouter=n,this._childRouters=[],this._extra=void 0,this._stateId=t.observable(),this._stateIdComp=t.pureComputed({read:function(){return _(this._stateId())},write:function(e){this.go(e).then(null,function(e){throw e})},owner:i}),this._states=null,this._defaultStateId=void 0,this._currentState=t.pureComputed(function(){var e=_(i._stateId());return t.ignoreDependencies(i._getStateFromId,i,[e])}),this._currentValue=t.pureComputed(function(){var e,n=_(i._stateId()),r=t.ignoreDependencies(i._getStateFromId,i,[n]);return r&&(e=r.value),e}),this._navigationType=void 0,this._navHistory=[],this._moduleConfig=Object.create(null,{name:{value:t.pureComputed(function(){var e,t=_(this._stateId())||this._defaultStateId||this._states[0].name,n=this._getStateFromId(t);return n&&((e=n.value)&&"string"==typeof e||(e=n._id)),e},i),enumerable:!0},params:{value:Object.create(null,{ojRouter:{value:new function(){Object.defineProperties(this,{parentRouter:{value:i,enumerable:!0},direction:{get:function(){return i._navigationType},enumerable:!0}})},enumerable:!0}}),enumerable:!0},lifecycleListener:{value:{attached:function(e){var t=i.currentState();t&&(t.viewModel=e.viewModel)},enumerable:!0},enumerabl:!0}}),this._getObservableModuleConfig=function(){if(!this._observableModuleConfig){var e=i.currentState,n=e.peek(),r=t.observable(o(n,i));e.subscribe(function(e){var t=r.peek();t.name!==a(e)?r(o(e,i)):s(e,t)}),this._observableModuleConfig=r}return this._observableModuleConfig},Object.defineProperties(this,{parent:{value:this._parentRouter,enumerable:!0}})},Object.defineProperties(e.Router.prototype,{name:{get:function(){return this._name},enumerable:!0},states:{get:function(){return this._states},enumerable:!0},stateId:{get:function(){return this._stateIdComp},enumerable:!0},currentState:{get:function(){return this._currentState},enumerable:!0},currentValue:{get:function(){return this._currentValue},enumerable:!0},direction:{get:function(){return this._navigationType},enumerable:!0},defaultStateId:{get:function(){return this._defaultStateId},set:function(e){this._defaultStateId=e},enumerable:!0},moduleConfig:{get:function(){return this._moduleConfig},enumerable:!0},observableModuleConfig:{get:function(){return this._getObservableModuleConfig()},enumerable:!0}}),l=new e.Router("root",void 0,void 0),e.Router.prototype.getChildRouter=function(e){var t;if(e&&"string"==typeof e){var n=e.trim();n.length>0&&this._childRouters.every(function(e){return e._name!==n||(t=e,!1)})}return t},e.Router.prototype.getCurrentChildRouter=function(){return v(this,_(this._stateId()||this._defaultStateId))},e.Router.prototype.createChildRouter=function(t,n){var r;e.Assert.assertString(t);for(var i=n||_(this._stateId()),o=encodeURIComponent(t.trim()),s=0;s<this._childRouters.length;s++){var a=this._childRouters[s];if(a._name===o)throw new Error('Invalid router name "'+o+'", it already exists.');if(a._parentState===i)throw new Error('Cannot create more than one child router for parent state id "'+a._parentState+'".')}return r=new e.Router(o,this,i),this._childRouters.push(r),r},e.Router.prototype._getStateFromId=function(t){var n;return this._stateFromIdCallback?!(n=this._stateFromIdCallback(t))||n instanceof e.RouterState||(n=new e.RouterState(t,n,this)):n=function(t,n){var r;return n&&t._states&&(e.Assert.assertString(n),t._states.every(function(e){return e._id!==n||(r=e,!1)})),r}(this,t),n},e.Router.prototype.configure=function(t){return this._stateId(void 0),delete this._defaultStateId,this._navigationType=void 0,this._navHistory=[],"function"==typeof t?(this._states=null,this._stateFromIdCallback=t):(this._states=[],this._stateFromIdCallback=void 0,Object.keys(t).forEach(function(n){var r=t[n];this._states.push(new e.RouterState(n,r,this)),"boolean"==typeof r.isDefault&&r.isDefault&&(this._defaultStateId=_(n))},this)),this},e.Router.prototype.getState=function(e){return this._getStateFromId(e)},e.Router.prototype.go=function(e,t){k();var n=t||{};return Array.isArray(e)&&(e=e.map(F).join("/")),L({router:this,path:e,origin:"go",historyUpdate:n.historyUpdate})},e.Router.prototype._go=function(e){var t,n,i=!0,a=e.path,l=!1,u=!1;switch(e.historyUpdate){case"skip":u=!0;break;case"replace":l=!0}if(a){if("string"!=typeof a)return Promise.reject(new Error("Invalid object type for state id."));i=!1}if(i&&!(a=this._defaultStateId))return r.info(function(){return"Undefined state id with no default id on router "+g(this)}),Promise.resolve(c);if("/"===a.charAt(0))n=a;else{if(!(n=function e(t){var n;if(t){if(n=e(t._parentRouter)){var r=t._stateId();r?n+=r+"/":n=void 0}}else n="/";return n}(this._parentRouter)))return Promise.reject(new Error('Invalid path "'+a+'". The parent router does not have a current state.'));n+=a}r.info("Destination path: %s",n);try{t=O(t=function(e,t){var n,r,i,o,a=[],l=[],u=e,c=f(t),d=0;for(c.splice(0,1);u;)l.unshift(u),u=u._parentRouter;for(var h=c.shift();h;h=c.shift()){if(i)i._paramOrder[d]?(o.addParameter(h),d+=1):d=0;if(!i||0===d){if(!(u=l.shift())&&!(u=S(n,h,r)))return s=t,a;if(!(i=(o=new P(u,h)).getState()))throw new Error('Invalid path "'+t+'". State id "'+h+'" does not exist on router "'+u._name+'".');a.push(o),n=u,r=h}}return a}(this,n))}catch(e){return Promise.reject(e)}var d=y(t);return l||d.length>0?(r.info("Deferred mode or new state is different."),R(this).then(function(e){return e?w(d).then(N).then(function(e){if(e.hasChanged)if(u)r.info("Skip history update.");else{var n=o.buildUrlFromStates(t);r.info("%s URL to %s",l?"Replacing":"Pushing",n),window.history[l?"replaceState":"pushState"](null,"",n)}return e}):Promise.resolve(c)})):Promise.resolve(c)},e.Router.prototype.store=function(e){this._extra=e;for(var t,n={},r=this;r;)void 0!==r._extra&&(n[r._name]=r._extra),r=r._parentRouter;for(r=this;r;){for(var i=0;i<r._childRouters.length;i++){var o=r._childRouters[i],s=_(r._stateId());if(s&&s===o._parentState){void 0!==o._extra&&(n[o._name]=o._extra),t=o;break}}r=t,t=void 0}window.history.replaceState(null,"",m({},n))},e.Router.prototype.retrieve=function(){return this._extra},e.Router.prototype.dispose=function(){for(;this._childRouters.length>0;)this._childRouters[0].dispose();if(this._parentRouter){for(var t=this._parentRouter._childRouters,n=0;n<t.length;n++)if(t[n]._name===this._name){t.splice(n,1);break}delete this._parentState}else u="/",o=null,this._name="root",window.document.title=i,window.removeEventListener("popstate",M),e.Router._transitionedToState.removeAll(),d=!1;delete this._navigationType,this._navHistory=[],this._states=null,delete this._defaultStateId,delete this._extra},e.Router._transitionedToState=new n.Signal,e.Router._updating=!1,Object.defineProperties(e.Router,{rootInstance:{value:l,enumerable:!0},transitionedToState:{value:e.Router._transitionedToState,enumerable:!0}}),e.Router.defaults={},Object.defineProperties(e.Router.defaults,{urlAdapter:{get:function(){return o||(o=new e.Router.urlPathAdapter),o},set:function(e){if(d)throw new Error("Incorrect operation. Cannot change URL adapter after calling sync() or go().");o=e},enumerable:!0,readonly:!1},baseUrl:{get:function(){return u},set:function(e){if(d)throw new Error("Incorrect operation. Cannot change base URL after calling sync() or go().");u=e?e.match(/[^?#]+/)[0]:"/"},enumerable:!0,readonly:!1},rootInstanceName:{get:function(){return l._name},set:function(t){if(d)throw new Error("Incorrect operation. Cannot change the name of the root instance after calling sync() or go().");e.Assert.assertString(t),l._name=encodeURIComponent(t.trim())},enumerable:!0,readonly:!1}}),e.Router.sync=function(){var t={router:l,origin:"sync"};return k(),r.info("Entering sync with URL: %s",p.href),s?(t.path=s,t.deferredHandling=!0,t.historyUpdate="replace",s=void 0,L(t)):e.Router._updating?(r.info("Sync called while updating, waiting for updates to end."),new Promise(function(t){e.Router._transitionedToState.addOnce(function(e){r.info("Sync updates done."),t(e)})})):L(t)},e.Router.urlPathAdapter=function(){var e="";this.init=function(t){var n=document.createElement("a");n.href=t;var r=n.pathname;"/"!==(r=r.replace(/^([^/])/,"/$1")).slice(-1)&&(r+="/"),e=r},this.parse=function(){var t=l,n=p.pathname.replace(e,""),i=f(decodeURIComponent(n)).map(B),o=[];for(r.info("Parsing: %s",n);t;){var s=i.shift();if(!s)break;var a=new P(t,s),u=a.getState();u&&u._paramOrder.forEach(function(){a.addParameter(i.shift())}),o.push(a),t=v(t,s)}o=O(o);var c=p.search.split("oj_Router=")[1];return c&&(c=c.split("&")[0])&&o.forEach(E,T(c)),o},this.buildUrlFromStates=function(t){for(var n=!1,r="",i={},o=t.pop();o;o=t.pop())o.value&&(n||o.value!==o.router._defaultStateId)&&(r=r?o.value+"/"+r:o.value,n=!0),void 0!==o.router._extra&&(i[o.router._name]=o.router._extra);return m({pathname:e+r},i)}},e.Router.urlParamAdapter=function(){this.init=function(){},this.parse=function(){var e=p.search,t=function(e){var t={},n=e.split("?")[1];return n&&n.split("&").forEach(function(e){var n=e.split(/=(.+)?/),r=n[0];if(r.length){var i=n[1]&&decodeURIComponent(n[1]);t[r]=i}}),t}(e),n=l,i=[];for(r.info("Parsing: %s",e);n;){var o=t[n._name]||n._defaultStateId,s=f(o),a=new P(n,o=s.shift());if(o){var u=a.getState();u&&u._paramOrder.forEach(function(){a.addParameter(s.shift())}),i.push(a)}n=v(n,o)}i=O(i);var c=t.oj_Router;return c&&i.forEach(E,T(c)),i},this.buildUrlFromStates=function(e){for(var t=!1,n="",r={},i=e.pop();i;i=e.pop()){if(i.value&&(t||i.value!==i.router._defaultStateId)){var o="&"+i.router._name+"=",s=i.value;n=o+encodeURIComponent(s)+n,t=!0}void 0!==i.router._extra&&(r[i.router._name]=i.router._extra)}return n&&(n="?"+n.substr(1)),m({search:n},r)}}}();var i,o,s,a,l=e.Router;return o=String.fromCharCode,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",e.LZString={compressToEncodedURIComponent:function(e){return null===e?"":function(e,t,n){if(null===e)return"";for(var r,i,o={},s={},a="",l=2,u=3,c=2,d="",h=0,p=0,f=e.length,_=0;_<f;_++){var m=e[_];Object.prototype.hasOwnProperty.call(o,m)||(o[m]=u,u+=1,s[m]=!0);var g=a+m;if(Object.prototype.hasOwnProperty.call(o,g))a=g;else{if(Object.prototype.hasOwnProperty.call(s,a)){if(a.charCodeAt(0)<256){for(r=c;r--;)h<<=1,p===t-1?(p=0,d+=n(h),h=0):p+=1;for(i=a.charCodeAt(0),r=8;r--;)h=h<<1|1&i,p===t-1?(p=0,d+=n(h),h=0):p+=1,i>>=1}else{for(i=1,r=c;r--;)h=h<<1|i,p===t-1?(p=0,d+=n(h),h=0):p+=1,i=0;for(i=a.charCodeAt(0),r=16;r--;)h=h<<1|1&i,p===t-1?(p=0,d+=n(h),h=0):p+=1,i>>=1}0==(l-=1)&&(l=Math.pow(2,c),c+=1),delete s[a]}else for(i=o[a],r=c;r--;)h=h<<1|1&i,p===t-1?(p=0,d+=n(h),h=0):p+=1,i>>=1;0==(l-=1)&&(l=Math.pow(2,c),c+=1),o[g]=u,u+=1,a=String(m)}}if(""!==a){if(Object.prototype.hasOwnProperty.call(s,a)){if(a.charCodeAt(0)<256){for(r=c;r--;)h<<=1,p===t-1?(p=0,d+=n(h),h=0):p+=1;for(i=a.charCodeAt(0),r=8;r--;)h=h<<1|1&i,p===t-1?(p=0,d+=n(h),h=0):p+=1,i>>=1}else{for(i=1,r=c;r--;)h=h<<1|i,p===t-1?(p=0,d+=n(h),h=0):p+=1,i=0;for(i=a.charCodeAt(0),r=16;r--;)h=h<<1|1&i,p===t-1?(p=0,d+=n(h),h=0):p+=1,i>>=1}0==(l-=1)&&(l=Math.pow(2,c),c+=1),delete s[a]}else for(i=o[a],r=c;r--;)h=h<<1|1&i,p===t-1?(p=0,d+=n(h),h=0):p+=1,i>>=1;0==(l-=1)&&(c+=1)}for(i=2,r=c;r--;)h=h<<1|1&i,p===t-1?(p=0,d+=n(h),h=0):p+=1,i>>=1;for(;;){if(h<<=1,p===t-1){d+=n(h);break}p+=1}return d}(e,6,function(e){return s.charAt(e)})},decompressFromEncodedURIComponent:function(e){return null===e?"":""===e?null:function(e,t,n){for(var r,i,s=[],a=4,l=4,u=3,c="",d="",h={val:n(0),position:t,index:1},p=0;p<3;p+=1)s[p]=p;for(var f=0,_=Math.pow(2,2),m=1;m!==_;)r=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index),h.index+=1),f|=(r>0?1:0)*m,m<<=1;switch(f){case 0:for(f=0,_=Math.pow(2,8),m=1;m!==_;)r=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index),h.index+=1),f|=(r>0?1:0)*m,m<<=1;i=o(f);break;case 1:for(f=0,_=Math.pow(2,16),m=1;m!==_;)r=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index),h.index+=1),f|=(r>0?1:0)*m,m<<=1;i=o(f);break;case 2:return""}s[3]=i;var g=i;for(d=i;;){if(h.index>e)return"";for(f=0,_=Math.pow(2,u),m=1;m!==_;)r=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index),h.index+=1),f|=(r>0?1:0)*m,m<<=1;switch(i=f){case 0:for(f=0,_=Math.pow(2,8),m=1;m!==_;)r=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index),h.index+=1),f|=(r>0?1:0)*m,m<<=1;s[l]=o(f),i=(l+=1)-1,a-=1;break;case 1:for(f=0,_=Math.pow(2,16),m=1;m!==_;)r=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index),h.index+=1),f|=(r>0?1:0)*m,m<<=1;s[l]=o(f),i=(l+=1)-1,a-=1;break;case 2:return d}if(0===a&&(a=Math.pow(2,u),u+=1),s[i])c=s[i];else{if(i!==l)return null;c=g+(g.length?g[0]:"")}d+=c,s[l]=g+c[0],l+=1,g=c,0==(a-=1)&&(a=Math.pow(2,u),u+=1)}}(e.length,32,function(t){return function(e,t){var n;if(i||(i={}),!i[e])for(i[e]={},n=0;n<e.length;n++)i[e][e[n]]=n;return i[e][t]}(s,e.charAt(t))})}},a=/^{(\w+)}$/,e.RouterState=function(t,n,r){n=n||{},e.Assert.assertString(t);var i=(t=t.trim()).split("/");this._id=i.shift(),this._parameters={},this._paramOrder=[],i.forEach(function(e,t){var n=e.match(a);if(n){var r=n[1];this._parameters[r]=null,this._paramOrder[t]=r}},this),this._canEnter=n.canEnter,this._canEnter&&e.Assert.assertFunctionOrNull(this._canEnter),this._enter=n.enter,this._enter&&e.Assert.assertFunctionOrNull(this._enter),this._canExit=n.canExit,this._canExit&&e.Assert.assertFunctionOrNull(this._canExit),this._exit=n.exit,this._exit&&e.Assert.assertFunctionOrNull(this._exit),this._value=n.value,this._label=n.label,this._title=n.title,this._router=r,this.viewModel=void 0,this.go=()=>this._router?this._router.go(this._id):(e.Router._transitionedToState.dispatch({hasChanged:!1}),Promise.reject(new Error("Router is not defined for this RouterState object."))),this.isCurrent=()=>{if(!this._router)throw new Error("Router is not defined for this RouterState object.");return this._router._stateId()===this._id},Object.defineProperties(this,{id:{value:this._id,enumerable:!0},value:{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0},label:{get:function(){return this._label},set:function(e){this._label=e},enumerable:!0},title:{get:function(){return this._title},set:function(e){this._title=e},enumerable:!0},canEnter:{get:function(){return this._canEnter},set:function(e){this._canEnter=e},enumerable:!0},enter:{get:function(){return this._enter},set:function(e){this._enter=e},enumerable:!0},canExit:{get:function(){return this._canExit},set:function(e){this._canExit=e},enumerable:!0},exit:{get:function(){return this._exit},set:function(e){this._exit=e},enumerable:!0},parameters:{get:function(){return this._parameters},enumerable:!0}})},l}),define("ojs/ojmodule",["ojs/ojcore-base","knockout","ojs/ojlogger","ojs/ojcontext"],function(e,t,n,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const i={};return e._registerLegacyNamespaceProp("ModuleBinding",i),i.defaults={viewPath:"text!views/",viewSuffix:".html",modelPath:"viewModels/",initializeMethod:"initialize",disposeMethod:"dispose",activatedHandler:"handleActivated",attachedHandler:"handleAttached",detachedHandler:"handleDetached",bindingsAppliedHandler:"handleBindingsApplied",deactivatedHandler:"handleDeactivated",transitionCompletedHandler:"handleTransitionCompleted"},i._EMPTY_MODULE="oj:blank",function(){function o(e,n,r){var i=n||e,o=[];r&&e===i&&(r.parentNode.removeChild(r),o.push(r)),t.virtualElements.setDomNodeChildren(i,o)}function s(e,t){e.forEach(function(e){t.appendChild(e)})}function a(e,n){for(var r,i=0;i<e.length&&!(r=t.contextFor(e[i]));i++);return r&&r.$module&&r.$module===n}function l(e,t,n){var r={};n[0]&&(r.viewModel=n[0]),n[1]&&(r.view=n[1]);var i=new CustomEvent(t,{detail:r});e.dispatchEvent(i)}function u(e,n,r){if(e&&e[n]){var i={element:r[0],valueAccessor:r[1]};return r.length>2&&(i.viewModel=r[2],r.length>3&&(i["boolean"==typeof r[3]?"fromCache":"cachedNodes"]=r[3])),t.ignoreDependencies(e[n],e,[i])}}function c(e,n,r){if(null!=e){var o=i.defaults[n];if(null!=o&&e){var s,a=e[o];if("function"==typeof a)return r&&(s={element:r[0],valueAccessor:r[1]},r.length>2&&(s["boolean"==typeof r[2]?"fromCache":"cachedNodes"]=r[2])),t.ignoreDependencies(a,e,[s])}}}function d(e,n,r){if(e&&n){var i=e[n];"function"==typeof i&&t.ignoreDependencies(i,e,[r])}}function h(e,n,r){for(var i=e;null!=i;){var o=t.virtualElements.nextSibling(i),s=i.nodeType;i===n||1!==s&&8!==s||r(i),i=o}}function p(e,n){for(var r=n.length-1;r>=0;r--)t.virtualElements.prepend(e,n[r])}function f(e,t){if(t)for(var n=0;n<e.length;n++){var r=e[n];1===r.nodeType&&t(r)}}function _(e,t,r){var i=e||require,o=new Promise(function(e,t){i([r],e,t)});return o=o.catch(function(e){throw n.error("ojModule failed to load "+r),e})}t.bindingHandlers.ojModule={init:function(m,g,v,y,E){var b,T,S,C,P,O,A,I,R={},w=-1,N=m.parentNode&&"OJ-MODULE"===m.parentNode.nodeName,j=N?function(){}:c,D=N?function(){}:u,x=N?d:function(){},L=N?l:function(){};function M(){O&&(O(),O=null)}var k=function(e){j(e,"disposeMethod",[m,g])},F=function(){k(b)};t.utils.domNodeDisposal.addDisposeCallback(m,function(){F();for(var e=Object.keys(R),t=0;t<e.length;t++){var n=R[e[t]].model;k(n)}M()});var B=new Error("Promise cancelled because ojModule is fetching new View and ViewModel"),U=function(e){if(e!==w)throw B},V=m;return 8===m.nodeType&&(V=m.parentNode,t.virtualElements.setDomNodeChildren(m,[]),P=m.nextSibling),t.computed(function(){if(w+=1,!O){var l=r.getContext(V).getBusyContext();O=l.addBusyState({description:"ojModule binding on a node with the Id "+m.id+"is loading the module. Binding evaluator: "+g.toString()})}var u,c,d,v,y,k,H,G,K,z,Y,W,$,q,X=0===w,J=t.utils.unwrapObservable,Q=J(g());"string"==typeof Q?u=Q:(u=J(Q.name),c=J(Q.viewName),d=J(Q.params),v=J(Q.viewModelFactory),y=J(Q.createViewFunction),k=J(Q.cacheKey),H=J(Q.lifecycleListener),G=J(Q.animation),W=J(Q.view),$=J(Q.viewModel),K=J(Q.require),q=J(Q.cleanupMode)),null==K||K instanceof Function||(Y=K.viewPath,z=K.modelPath,K=K.instance),c=null==c?u:c;var Z,ee,te,ne,re=i._EMPTY_MODULE===c,ie=D(H,"activated",[m,g]);if(L(V,"ojTransitionStart",[$]),re?(Z=Promise.resolve([]),ee=Promise.resolve(null)):null!=(te=null==k?null:R[k])&&(delete R[k],Z=Promise.resolve(te.view),ee=Promise.resolve(te.model)),null==Z&&null!=W&&(Z=Promise.resolve(W)),null==ee&&(null!=$?ee=Promise.resolve($):null!=v&&(ee=t.ignoreDependencies(v.createViewModel,v,[d,g])),null==ee&&null!=u&&(null==z&&(z=i.defaults.modelPath),ee=_(K,"viewModel",z+u)),null!=ee&&(ee=ee.then(function(e,t){return U(e),t="function"==typeof t?new t(d):j(t,"initializeMethod",[m,g])||t}.bind(null,w)),null==Z&&null!=y&&(Z=ee.then(function(e,t){if(U(e),null==t)throw M(),new Error("createViewFunction option cannot be used when the ViewModel is null");var n=t[y];if(null==n)throw M(),new Error("function specified by the createViewFunction option was not found on the ViewModel");return n.call(t)}.bind(null,w)))),null==Z)){if(null==c)throw M(),new Error("View name or view instance must be specified");null==Y&&(Y=i.defaults.viewPath),Z=_(K,"view",Y+c+i.defaults.viewSuffix)}if(null==Z)throw M(),new Error("ojModule is missing a View");null!=ee&&(ne=ee.then(function(e,t){return U(e),j(t,"activatedHandler",[m,g])}.bind(null,w))),Promise.all([Z,ee,ie,ne,T]).then(function(r,i){if(r===w){var l=i[0];if(null==l)throw M(),new Error("The module's View was resolved to null");var u=function(e,n){var r=e;if("string"==typeof r)r=t.utils.parseHtmlFragment(r,document);else if(function(e){if(window.DocumentFragment)return e instanceof DocumentFragment;return e&&11===e.nodeType}(r))r=t.utils.arrayPushAll([],r.childNodes);else{if(!Array.isArray(r))throw n(),new Error("The View ("+r+") has an unsupported type");r=t.utils.arrayPushAll([],r)}return r}(l,M),c=i[1];!function(e,t,n,r,i){if(r&&t.length>0&&!a(t,n)){if(t[0]._oj_module_used_view)throw i(),new Error("The oj-module with id '"+e.id+"' cannot apply binding on a previously cleaned view.");Object.defineProperty(t[0],"_oj_module_used_view",{value:!0})}}(m,u,c,N,M);var _,v=!1,y=function(e,n,r){for(var i=[],o=t.virtualElements.firstChild(e);null!=o&&o!==r;o=o.nextSibling)o!==n&&i.push(o);return i}(m,C,P),O=function(e,n){var r=[];return h(t.virtualElements.firstChild(e),n,function(e){r.push(e)}),r}(m,C);null==S||A?N&&(_=y):(v=!0,_=y,C||((C=document.createElement("div")).className="oj-helper-module-cache",t.virtualElements.prepend(m,C)));var B=!1,U=function(n){if(!B){if(B=!0,v)s(y,C),o(m,n||m,C);else if(N&&"none"===I)for(var r=0;r<_.length;r++){var i=_[r];i.parentNode.removeChild(i)}else O.forEach(function(e){t.cleanNode(e)}),o(m,n||m,C);X||(D(H,"detached",[m,g,b,_]),j(b,"detachedHandler",[m,g,_]),x(b,"disconnected",_),L(V,"ojViewDisconnected",[b,_]),D(H,"deactivated",[m,g,b]),j(b,"deactivatedHandler",[m,g])),v?(f(_,e.Components?e.Components.subtreeHidden:null),R[S]={model:b,view:_}):N&&"none"===I?f(_,e.Components?e.Components.subtreeDetached:null):F(),b=c,S=k,A=re,I=q}},K=function(){D(H,"transitionCompleted",[m,g,c]),j(c,"transitionCompletedHandler",[m,g]),x(c,"transitionCompleted",u),L(V,"ojTransitionEnd",[c]),M()};if(null!=G){var z=function(r,i,o,a,l,u,c){var d,h,_=r,m=i.canAnimate;if(null!=m&&!m.call(i,_))return;var g=i.prepareAnimation.call(i,_);g&&(d=g.newViewParent,h=g.oldViewParent);var v=d||o;h&&h!==o?s(a,h):v===o&&u(null);v!==o&&t.virtualElements.setDomNodeChildren(v,[]);l(v);var y=Array.prototype.slice.call(v.childNodes),E=!1,b=function(){if(!E&&(E=!0,o!==v)){p(o,y);var t=o.parentNode&&"OJ-MODULE"===o.parentNode.nodeName;e.Components&&!t&&(f(y,e.Components.subtreeDetached),f(y,e.Components.subtreeAttached))}},T=u.bind(null,h);_.newViewParent=d,_.oldViewParent=h,_.oldViewNodes=a,_.removeOldView=T,_.insertNewView=b;var S=function(){T(),b(),c()};return i.animate.call(i,_).then(S,function(){S(),n.error("ojModule animation promise was rejected")})}(function(e,t,n,r,i,o){return{node:o?e.parentNode:e,valueAccessor:o?null:t,isInitial:n,oldViewModel:r,newViewModel:i}}(m,g,X,b,c,N),G,m,y,Y,U,K);T=function(e){if(!e)return e;return new Promise(function(t,n){e.then(t,t)})}(z)}else T=void 0;T||(U(null),Y(null),K())}function Y(n){var r=n||m,i=N&&a(u,c);p(r,u);var o=null!=te;if(o?f(u,e.Components?e.Components.subtreeShown:null):i&&f(u,e.Components?e.Components.subtreeAttached:null),D(H,"attached",[r,g,c,o]),j(c,"attachedHandler",[r,g,o]),x(c,"connected",u),L(V,"ojViewConnected",[c]),!o&&!i){var s=E.createChildContext(c,void 0,function(e){e.$module=c,e.$params=d});N&&(s.$parent=void 0,s.$parents=void 0,s.$parentContext=void 0,s.$props=void 0,s.$properties=void 0,s.$slotNodeCounts=void 0,s.$slotCounts=void 0,s.$unique=void 0,s.$uniqueId=void 0,s.$provided=void 0),function(e,n,r,i){var o=t.bindingProvider.instance,s=o.preprocessNode;s&&(h(n,i,function(e){s.call(o,e)}),n=t.virtualElements.firstChild(e));h(n,i,function(e){t.applyBindings(r,e)})}(r,u[0],s,C),D(H,"bindingsApplied",[r,g,c]),j(c,"bindingsAppliedHandler",[r,g])}}}.bind(null,w),function(e,t){t!==B&&null!=t&&(M(),n.error(t))}.bind(null,w))},null,{disposeWhenNodeIsRemoved:m}),{controlsDescendantBindings:!0}}},t.virtualElements.allowedBindings.ojModule=!0}(),i}),define("ojs/ojmodule-element",["knockout","ojs/ojcontext","ojs/ojmodule","ojs/ojcomposite"],function(e,t,n,r){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;r.register("oj-module",{view:'\x3c!-- ko ojModule: {"view":config().view, "viewModel":config().viewModel,"cleanupMode":config().cleanupMode,"animation":animation} --\x3e\x3c!-- /ko --\x3e',metadata:{properties:{animation:{type:"object"},config:{type:"object|Promise",properties:{cleanupMode:{type:"string",enumValues:["none","onDisconnect"],value:"onDisconnect"},view:{type:"Array<Node>"},viewModel:{type:"object"}}}},events:{ojTransitionEnd:{},ojTransitionStart:{},ojViewConnected:{},ojViewDisconnected:{}},extension:{}},viewModel:function(n){var r=n.element,i=n.properties,o=this;function s(){o.busyCallback||(o.busyCallback=t.getContext(r).getBusyContext().addBusyState({description:"oj-module is waiting on config Promise resolution"}));var e=Promise.resolve(i.config);o.configPromise=e,e.then(function(t){e===o.configPromise&&(o.config(t),o.busyCallback(),o.busyCallback=null)},function(t){if(e===o.configPromise)throw o.busyCallback(),o.busyCallback=null,t})}function a(t,n){var r=t&&t[n];"function"==typeof r&&e.ignoreDependencies(r,t)}function l(e,t,n){var i={};t&&(i.viewModel=t),n&&(i.view=n);var o=new CustomEvent(e,{detail:i});r.dispatchEvent(o)}this.animation=n.properties.animation,this.config=e.observable({view:[]}),this.configPromise=null,this.propertyChanged=function(e){"animation"===e.property?o.animation=e.value:"config"===e.property&&s()},s(),this.connected=function(){var e,t,n=this.config();(t=(e=n)?e.view:null)&&t.length>0&&r.contains(t[0])&&(a(n.viewModel,"connected"),l("ojViewConnected",n.viewModel))}.bind(this),this.disconnected=function(){var e=this.config();a(e.viewModel,"disconnected"),l("ojViewDisconnected",e.viewModel,e.view)}.bind(this)}})}),define("ojs/ojmodule-element-utils",["exports","ojs/ojcore-base","ojs/ojhtmlutils"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const r={};t._registerLegacyNamespaceProp("ModuleElementUtils",r),r.createView=function(e){return e&&e.viewPath?new Promise(function(t,n){(e.require?e.require:require)(["text!"+e.viewPath],t,n)}).then(r._processViewText):Promise.resolve([])},r._processViewText=function(e){return n.stringToNodeArray(e)},r.createViewModel=function(e){return e&&e.viewModelPath?new Promise(function(t,n){(e.require?e.require:require)([e.viewModelPath],t,n)}).then(function(t){var n=t;return n&&("always"===e.initialize||null!=e.params&&"never"!==e.initialize)&&("function"==typeof n?n=new n(e.params):"function"==typeof n.initialize&&n.initialize(e.params)),n}):Promise.resolve(null)},r.createConfig=function(e){if(!e||!e.name&&!e.viewPath)return Promise.resolve(null);var t=e.viewPath||"views/"+e.name+".html",n=e.viewModelPath||(e.name?"viewModels/"+e.name:null);return Promise.all([r.createView({viewPath:t,require:e.require}),r.createViewModel({viewModelPath:n,require:e.require,params:e.params,initialize:"always"})]).then(function(e){return{view:e[0],viewModel:e[1]}})};const i=r.createView,o=r.createViewModel,s=r.createConfig;e.createConfig=s,e.createView=i,e.createViewModel=o,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojanimation",["exports","ojs/ojcore-base","jquery","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojlogger"],function(e,t,n,r,i,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const s={};t._registerLegacyNamespaceProp("AnimationUtils",s),s._getName=function(e,t){if(!s._nameMap){s._nameMap={};var n=s._nameMap,r=e.style;n.backfaceVisibility=void 0!==r.webkitBackfaceVisibility?"webkitBackfaceVisibility":"backfaceVisibility",n.transform=void 0!==r.webkitTransform?"webkitTransform":"transform",n.transformOrigin=void 0!==r.webkitTransformOrigin?"webkitTransformOrigin":"transformOrigin",n.transition=void 0!==r.webkitTransition?"webkitTransition":"transition",n.transitionend=void 0!==r.webkitTransition?"webkitTransitionEnd":"transitionend"}return s._nameMap[t]||t},s._getElementStyle=function(e,t){return e.style[s._getName(e,t)]},s._setElementStyle=function(e,t,n){e.style[s._getName(e,t)]=n},s._animate=function(e,t,r,i,o,a){var l=[].concat(o),u=function(n,u){var c=function(e){var t=0===e.propertyName.indexOf("-webkit-")?e.propertyName.substr(8):e.propertyName;t=s._getCamelCasePropName(t);var n=l.indexOf(t);n>-1&&(l.length>1?l.splice(n,1):p())},d=0,h=!1;function p(){h||(d&&(window.cancelAnimationFrame(d),d=0),e.removeEventListener(s._getName(e,"transitionend"),c),n&&n(!0),h=!0)}null==r&&(r={}),null==r.css&&(r.css={}),r.css.transition=s._createTransitionValue(e,o,i);var f=s._saveStyle(e,t,r,i,a||o);s._applyState(e,t,f>1),e.addEventListener(s._getName(e,"transitionend"),c);var _=i.duration,m=i.delay,g=i._skipPromise;function v(){d=0,s._applyState(e,r,f>1)}null==t?v():(i._noReflow||(s._x=e.offsetWidth),d=window.requestAnimationFrame(v));var y=s._getTotalTiming(_,m);g||setTimeout(p,y+100)};return i._skipPromise?(u(null),null):new Promise(u).then(function(){t&&t.addClass&&n(e).removeClass(t.addClass),r&&r.addClass&&n(e).removeClass(r.addClass),s._restoreStyle(e)})},s._saveCssValues=function(e,t,n,r){for(var i=Object.keys(t),o=Object.prototype.hasOwnProperty,a=0;a<i.length;a++){var l=i[a];o.call(n,l)||r&&-1!==r.indexOf(l)||(n[l]=s._getElementStyle(e,l))}},s._saveStyle=function(e,t,n,r,i){var o=e._ojSavedStyle||{},a=t&&t.css?t.css:{},l=n&&n.css?n.css:{},u=i;r&&"all"===r.persist||(u=null),s._saveCssValues(e,a,o,u),s._saveCssValues(e,l,o,u),e._ojSavedStyle=o;var c=e._ojEffectCount||0;return c+=1,e._ojEffectCount=c,c},s._restoreStyle=function(e){var t=e,n=t._ojEffectCount;if(n>1)t._ojEffectCount=n-1;else{var r=t._ojSavedStyle;if(r){for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];s._setElementStyle(t,a,r[a])}delete t._ojSavedStyle,delete t._ojEffectCount}}},s._getCamelCasePropName=function(e){if(e.indexOf("-")>=0){for(var t="",n=e.split("-"),r=0;r<n.length;r++){var i=n[r];i&&(t?t+=i.charAt(0).toUpperCase()+i.slice(1):t=i)}return t}return e},s._getHyphenatedPropName=function(e){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return 0===t.indexOf("webkit")&&(t="-"+t),t},s._concatMultiValue=function(e,t,n,r,i){if(t.css[n]){var o=s._getElementStyle(e,n);o&&0!==o.indexOf(r)&&(t.css[n]=o+i+t.css[n])}},s._splitTransform=function(e){var t=[];if(e&&"none"!==e)for(var n=e,r=n.indexOf(")");r>0;){var i=n.substr(0,r+1);t.push(i.trim()),r=(n=n.slice(r+1)).indexOf(")")}return t},s._getTransformFuncName=function(e){var t=e.indexOf("(");return t>=1?e.substr(0,t):e},s._applyTransform=function(e,t){for(var n=s._getElementStyle(e,"transform"),r=s._splitTransform(n),i=s._splitTransform(t),o=[],a=0;a<i.length;a++){var l=s._getTransformFuncName(i[a]),u=!1;if(l)for(var c=0;c<r.length;c++)0===r[c].indexOf(l+"(")&&(r[c]=i[a],u=!0);u||o.push(i[a])}return(r=r.concat(o)).join(" ")},s._applyState=function(e,t,r){if(t){if(t.css){r&&s._concatMultiValue(e,t,"transition","all",", "),t.css.transform&&(t.css.transform=s._applyTransform(e,t.css.transform));for(var i=t.css,o=Object.keys(i),a=0;a<o.length;a++){var l=o[a];s._setElementStyle(e,l,i[l])}}t.addClass&&n(e).addClass(t.addClass),t.removeClass&&n(e).removeClass(t.removeClass)}},s._getTimingValue=function(e){var t=parseFloat(e);return isNaN(t)?0:e.indexOf("ms")>-1?t:1e3*t},s._getTotalTiming=function(e,t){var n=s._getTimingValue(e);return n>0?n+(t?s._getTimingValue(t):0):0},s._calcCssTime=function(e,t,n){for(var r=e.split(","),i=t.split(","),o=n.split(","),a=r.length,l=i.length,u=o.length,c=0,d=0;d<a;d++){var h=o[d%u],p=i[d%l],f=s._getTotalTiming(h,p);c=Math.max(c,f)}return c},s._calcEffectTime=function(e){var t,n,r,i=window.getComputedStyle(e);t=i.animationName||i.webkitAnimationName,n=i.animationDelay||i.webkitAnimationDelay,r=i.animationDuration||i.webkitAnimationDuration;var o=s._calcCssTime(t,n,r);t=i.transitionProperty||i.webkitTransitionProperty,n=i.transitionDelay||i.webkitTransitionDelay,r=i.transitionDuration||i.webkitTransitionDuration;var a=s._calcCssTime(t,n,r);return Math.max(o,a)},s._fillEmptyOptions=function(e,t){e.delay=e.delay||t.delay,e.duration=e.duration||t.duration,e.timingFunction=e.timingFunction||t.timingFunction,e.persist=e.persist||t.persist},s._triggerEvent=function(e,t,n,r){var i;if(r&&r._trigger)i=!r._trigger(t,null,n);else{var o="oj"+t.substr(0,1).toUpperCase()+t.substr(1),s=new CustomEvent(o,{detail:n,bubbles:!0,cancelable:!0}),a=r||e;a.dispatchEvent&&a.dispatchEvent(s),i=s.defaultPrevented}return i},s.startAnimation=function(e,t,r,i){return e=n(e)[0],new Promise(function(o,a){var l=n(e),u="oj-animate-"+t,c=u+"-active",d=!1,h=!1,p=function(){if(d&&h){l.removeClass(u),l.removeClass(c),s._restoreStyle(e),o(!0);var n={action:t,element:e};s._triggerEvent(e,"animateEnd",n,i)}},f=function(){d=!0,p()},_=function(){h=!0,p()};s._saveStyle(e,null,null,null,null);var m={action:t,element:e,endCallback:f};if(!s._triggerEvent(e,"animateStart",m,i)){for(var g=[].concat(r),v=[],y={},E=0;E<g.length;E++){var b,T=g[E],S="";null!=T&&"none"!==T&&("string"==typeof T?(S=T,b={}):"object"==typeof T&&(S=T.effect,b=n.extend({},T)),s._fillEmptyOptions(b,y),y=n.extend({},b)),S&&s[S]&&v.push(s[S](e,b))}v.length?Promise.all(v).then(f):f()}l.addClass(u);var C=window.requestAnimationFrame(function(){C=0,l.addClass(c);var t=s._calcEffectTime(e);t>0?setTimeout(_,t+100):_()});setTimeout(function(){C&&(window.cancelAnimationFrame(C),C=0,_())},1e3)})},s._mergeOptions=function(e,t){return null==s._defaultOptions&&(s._defaultOptions=i.parseJSONFromFontFamily("oj-animation-effect-default-options")),n.extend({duration:"400ms"},s._defaultOptions?s._defaultOptions[e]:null,t)},s._createTransitionValue=function(e,t,n){var r="";if(t)for(var i=0;i<t.length;i++){var o=s._getName(e,t[i]);r+=(i>0?", ":"")+s._getHyphenatedPropName(o)+" "+n.duration,n.timingFunction&&(r+=" "+n.timingFunction),n.delay&&(r+=" "+n.delay)}return r},s._fade=function(e,t,n,r,i){var o=s._mergeOptions(n,t),a={css:{opacity:r}},l={css:{opacity:i}};return o&&(o.startOpacity&&(a.css.opacity=o.startOpacity),o.endOpacity&&(l.css.opacity=o.endOpacity)),s._animate(e,a,l,o,["opacity"])},s.fadeIn=function(e,t){return s._fade(e,t,"fadeIn",0,1)},s.fadeOut=function(e,t){return s._fade(e,t,"fadeOut",1,0)},s.expand=function(e,t){return s._expandCollapse(e,t,!0)},s.collapse=function(e,t){return s._expandCollapse(e,t,!1)},s._wrapRowContent=function(e,t){var n,r,i=[],o=e.children,s=[],a=[];for(e._ojSavedHeight=e.style.height,r=0;r<o.length;r++){n=o[r];var l=window.getComputedStyle(n);s.push(l.padding),a.push(l.textAlign),n._ojSavedPadding=n.style.padding}for(r=0;r<o.length;r++){n=o[r];var u=document.createElement("div");u.style.overflow="hidden;";var c=document.createElement("div");for(c.style.display="table-cell",c.style.verticalAlign="middle",c.style.boxSizing="border-box",c.style.height=t,c.style.padding=s[r],c.style.textAlign=a[r],u.appendChild(c);n.firstChild;)c.appendChild(n.firstChild);n.appendChild(u),n.style.padding="0",i.push(u)}return e.style.height="0",i},s._unwrapRowContent=function(e){for(var t=e.children,n=0;n<t.length;n++){var r=t[n],i=r.children[0];if(i){var o=i.children[0];if(o)for(;o.firstChild;)r.appendChild(o.firstChild);r.removeChild(i)}r.style.padding=r._ojSavedPadding,delete r._ojSavedPadding}e.style.height=e._ojSavedHeight,delete e._ojSavedHeight},s._expandCollapseRow=function(e,t,r){var i=Promise.resolve(),o=e.offsetHeight+"px",a=s._wrapRowContent(e,o),l=n.extend({},t);if(r?l.endMaxHeight||(l.endMaxHeight=o):l.startMaxHeight||(l.startMaxHeight=o),l.persist="all",l._noReflow=!0,a.length)for(var u=0;u<a.length;u++)0===u?(l._skipPromise=!1,i=s._expandCollapse(a[u],l,r)):(l._skipPromise=!0,s._expandCollapse(a[u],l,r));return i.then(function(){null!=t&&"all"===t.persist||s._unwrapRowContent(e)})},s._getSizeLimit=function(e,t,n,r,i){var o=n;if(!o)if(r)o="0";else{var s=i?t.maxWidth:t.maxHeight;o="none"!==s?s:(i?e.offsetWidth:e.offsetHeight)+"px"}return o},s._expandCollapse=function(e,t,n){if(e&&"TR"===e.tagName)return s._expandCollapseRow(e,t,n);var r=s._mergeOptions(n?"expand":"collapse",t),i={css:{}},o={css:{}},a=r.direction||"height",l=i.css,u=o.css,c=window.getComputedStyle(e),d=[];if("both"===a||"height"===a){var h=s._getSizeLimit(e,c,r.startMaxHeight,n,!1),p=s._getSizeLimit(e,c,r.endMaxHeight,!n,!1);l.maxHeight=h,u.maxHeight=p,d.push("maxHeight")}if("both"===a||"width"===a){var f=s._getSizeLimit(e,c,r.startMaxWidth,n,!0),_=s._getSizeLimit(e,c,r.endMaxWidth,!n,!0);l.maxWidth=f,u.maxWidth=_,d.push("maxWidth")}l.overflow=r.overflow?r.overflow:"hidden";var m=[].concat(d);return m.push("overflow"),s._animate(e,i,o,r,d,m)},s.zoomIn=function(e,t){return s._zoom(e,t,!0)},s.zoomOut=function(e,t){return s._zoom(e,t,!1)},s._zoom=function(e,t,n){var r,i=s._mergeOptions(n?"zoomIn":"zoomOut",t),o={css:{}},a={css:{}},l=i.axis||"both";r="both"===l?"scale":"x"===l?"scaleX":"scaleY";var u=o.css,c=a.css;return u.transform=r+"("+(n?0:1)+") translateZ(0)",c.transform=r+"("+(n?1:0)+") translateZ(0)",u.transformOrigin=i.transformOrigin||"center",s._animate(e,o,a,i,["transform"])},s.slideIn=function(e,t){return s._slide(e,t,!0)},s.slideOut=function(e,t){return s._slide(e,t,!1)},s._slide=function(e,t,n){var i=s._mergeOptions(n?"slideIn":"slideOut",t),o={css:{}},a={css:{}},l=i.direction||"start",u="0",c="0",d=o.css,h=a.css;if(i.offsetX||i.offsetY)i.offsetX&&(u=i.offsetX),i.offsetY&&(c=i.offsetY);else{var p="rtl"===r.getReadingDirection();switch(l){case"left":u=(n?e.offsetWidth:-e.offsetWidth)+"px";break;case"right":u=(n?-e.offsetWidth:e.offsetWidth)+"px";break;case"top":c=(n?e.offsetHeight:-e.offsetHeight)+"px";break;case"bottom":c=(n?-e.offsetHeight:e.offsetHeight)+"px";break;case"end":u=(n?-e.offsetWidth:e.offsetWidth)*(p?-1:1)+"px";break;default:u=(n?e.offsetWidth:-e.offsetWidth)*(p?-1:1)+"px"}}return n?(d.transform="translate("+u+","+c+") translateZ(0)",h.transform="translate(0,0) translateZ(0)"):(d.transform="translate(0,0) translateZ(0)",h.transform="translate("+u+","+c+") translateZ(0)"),s._animate(e,o,a,i,["transform"])},s.ripple=function(e,t){var r=s._mergeOptions("ripple",t),i={css:{}},o={css:{}},a=e.offsetWidth,l=e.offsetHeight,u=n("<div>").css({position:"absolute",overflow:"hidden"}),c=n("<div class='oj-animation-effect-ripple oj-animation-rippler'>"),d="static"===window.getComputedStyle(e).position?{left:e.offsetLeft,top:e.offsetTop}:{left:0,top:0};e.insertBefore(u[0],e.firstChild),u.css({left:d.left+"px",top:d.top+"px",width:a+"px",height:l+"px"}),u.prepend(c);var h=i.css,p=o.css;return s._setRippleOptions(h,c,u,r),h.transform="scale(0) translateZ(0)",h.opacity=r.startOpacity||c.css("opacity"),p.transform="scale(1) translateZ(0)",p.opacity=r.endOpacity||0,r.persist="all",s._animate(c[0],i,o,r,["transform","opacity"]).then(function(){u.remove()})},s._setRippleOptions=function(e,t,n,r){var i=e,o=t.width(),a=n.width(),l=n.height();if(r.diameter){var u=r.diameter,c=parseInt(u,10);isNaN(c)||(o="%"===u.charAt(u.length-1)?Math.floor(Math.min(a,l)*(c/100)):c,i.width=o+"px",i.height=o+"px")}var d,h="static"===n.css("position")?n.position():{left:0,top:0};null!=(d=s._calcRippleOffset(r.offsetX,o,a,h.left))&&(i.left=d+"px"),null!=(d=s._calcRippleOffset(r.offsetY,o,l,h.top))&&(i.top=d+"px"),r.color&&(i.backgroundColor=r.color)},s._calcRippleOffset=function(e,t,n,r){var i,o=e||"50%",s=parseInt(o,10);return isNaN(s)||(i="%"===o.charAt(o.length-1)?n*(s/100)-t/2:s-t/2,i=Math.floor(i+r)),i},s._removeRipple=function(e,t){var r=t||{},i=r.removeEffect||"fadeOut",a=n(".oj-animation-rippler",e);if(0!==a.length)return i in{fadeOut:1,collapse:1,zoomOut:1,slideOut:1}?s[i](a,r).then(function(){a.remove()}):a.remove();o.warn("No rippler so returning")},s._calcBackfaceAngle=function(e){var t,n=e.match(/^([+-]?\d*\.?\d*)(.*)$/),r=parseFloat(n[1]),i=n[2];switch(i){case"deg":t=r-180+i;break;case"grad":t=r-200+i;break;case"rad":t=r-3.1416+i;break;case"turn":t=r-.5+i;break;default:o.error("Unknown angle unit in flip animation: "+i)}return t},s._flip=function(e,t,r,i,o){if(t&&"children"===t.flipTarget){var a,l=[],u=n(e).children(),c=n.extend({},t);delete c.flipTarget;var d=n.extend({},c);d.startAngle=s._calcBackfaceAngle(t.startAngle||i),d.endAngle=s._calcBackfaceAngle(t.endAngle||o);for(var h=0;h<u.length;h++)a=n(u[h]).hasClass("oj-animation-backface")?d:c,l.push(s._flip(u[h],a,r,i,o));return Promise.all(l)}var p,f={},_={},m={css:f},g={css:_},v="rotateY(",y="2000px",E="hidden",b="center";(t=s._mergeOptions(r,t))&&("x"===t.axis&&(v="rotateX("),t.startAngle&&(i=t.startAngle),t.endAngle&&(o=t.endAngle),t.perspective&&(y=t.perspective),t.backfaceVisibility&&(E=t.backfaceVisibility),t.transformOrigin&&(b=t.transformOrigin)),p="perspective("+y+") "+v;return f.transform=p+i+")",f.backfaceVisibility=E,f.transformOrigin=b,_.transform=p+o+")",s._animate(e,m,g,t,["transform"],["transform","backfaceVisibility","transformOrigin"])},s.flipIn=function(e,t){return s._flip(e,t,"flipIn","-180deg","0deg")},s.flipOut=function(e,t){return s._flip(e,t,"flipOut","0deg","180deg")},s.addTransition=function(e,t){var n=s._mergeOptions("addTransition",t);return s._animate(e,null,null,n,n.transitionProperties)},s._createHeroParent=function(){var e=document.createElement("div"),t=document.body;t.appendChild(e),e.style.position="absolute",e.style.height=t.offsetHeight+"px",e.style.width=t.offsetWidth+"px",e.style.left=t.offsetLeft+"px",e.style.top=t.offsetTop+"px",e.style.zIndex=2e3,e.className="oj-animation-host-viewport";var n=document.createElement("div");return n.className="oj-animation-host",e.appendChild(n),n},s._removeHeroParent=function(e){if(e){var t=e.parentNode;t&&t.parentNode&&t.parentNode.removeChild(t)}},s._defaultHeroCreateClonedElement=function(e){return e.fromElement.cloneNode(!0)},s._defaultHeroHideFromAndToElements=function(e){var t=e.fromElement,n=e.toElement;t.style.visibility="hidden",n.style.visibility="hidden"},s._defaultHeroAnimateClonedElement=function(e){return new Promise(function(t){var n=e.clonedElement.style;n.transformOrigin="left top",n.transform="translate(0, 0) scale(1, 1)",requestAnimationFrame(function(){n.transitionDelay=e.delay,n.transitionDuration=e.duration,n.transitionTimingFunction=e.timingFunction,n.transitionProperty="transform";var r="translate("+e.translateX+"px,"+e.translateY+"px)";r+=" scale("+e.scaleX.toFixed(2)+","+e.scaleY.toFixed(2)+")",n.transform=r;var i=s._getTimingValue(e.delay)+s._getTimingValue(e.duration);setTimeout(function(){t()},i)})})},s._defaultHeroShowToElement=function(e){e.toElement.style.visibility="visible"},s._doAnimateHero=function(e,t,n,r,i,o){var a=document.querySelector(t);if(null!=a){var l=e.getBoundingClientRect(),u=a.getBoundingClientRect(),c=u.left-l.left,d=u.top-l.top,h=u.width/l.width,p=u.height/l.height,f={fromElement:e,toElement:a,clonedElement:null,translateX:c,translateY:d,scaleX:h,scaleY:p,toElementElapsedTime:r,delay:n.delay,duration:n.duration,timingFunction:n.timingFunction},_=n.createClonedElement(f);f.clonedElement=_;var m=s._createHeroParent(),g=m.getBoundingClientRect();m.appendChild(_),_.style.position="absolute",_.style.left=l.left-g.left+"px",_.style.top=l.top-g.top+"px",n.hideFromAndToElements(f),_.style.visibility="visible",n.animateClonedElement(f).then(function(){v(),i()}).catch(function(e){v(),o(e)})}else{r+100>n.toElementWaitTime?o("toElement not found in DOM after toElementWaitTime has expired"):setTimeout(function(){s._doAnimateHero(e,t,n,r+100,i,o)},100)}function v(){n.showToElement(f),s._removeHeroParent(m)}},s.animateHero=function(e,t){var n=e,r={toElementWaitTime:5e3,createClonedElement:s._defaultHeroCreateClonedElement,hideFromAndToElements:s._defaultHeroHideFromAndToElements,animateClonedElement:s._defaultHeroAnimateClonedElement,showToElement:s._defaultHeroShowToElement,delay:"0s",duration:"400ms",timingFunction:"ease"};return Object.assign(r,t),new Promise(function(e,i){n?t.toElementSelector?s._doAnimateHero(n,t.toElementSelector,r,0,e,i):i("No options.toElementSelector specified"):i("No element specified")})};const a=s.startAnimation,l=s.fadeIn,u=s.fadeOut,c=s.expand,d=s.collapse,h=s.zoomIn,p=s.zoomOut,f=s.slideIn,_=s.slideOut,m=s.ripple,g=s.flipIn,v=s.flipOut,y=s.addTransition,E=s.animateHero;e.addTransition=y,e.animateHero=E,e.collapse=d,e.expand=c,e.fadeIn=l,e.fadeOut=u,e.flipIn=g,e.flipOut=v,e.ripple=m,e.slideIn=f,e.slideOut=_,e.startAnimation=a,e.zoomIn=h,e.zoomOut=p,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojmoduleanimations",["exports","knockout","jquery","ojs/ojcore-base","ojs/ojdomutils","ojs/ojthemeutils","ojs/ojanimation"],function(e,t,n,r,i,o,s){"use strict";n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const a={};r._registerLegacyNamespaceProp("ModuleAnimations",a),a._addContainedElements=function(e,n){for(var r=t.virtualElements.firstChild(e);r;)1===r.nodeType?n.push(r):8===r.nodeType&&this._addContainedElements(r,n),r=t.virtualElements.nextSibling(r)},a._cacheVirtualViewRoot=function(e,t){e._ojOldRoot=t},a._getVirtualViewRoot=function(e){return e._ojOldRoot},a._defaultCanAnimate=function(e){if(e.isInitial)return!1;if(1===e.node.nodeType)return!0;if(8===e.node.nodeType){var t=[];if(a._addContainedElements(e.node,t),t&&1===t.length)return a._cacheVirtualViewRoot(e,t[0]),!0}return!1},a._getOldView=function(e){var t;return 1===e.node.nodeType?t=e.node:8===e.node.nodeType&&(t=a._getVirtualViewRoot(e)),t},a._createViewParent=function(e){var t=n(document.createElement("div")),r={position:"absolute",height:e.offsetHeight+"px",width:e.offsetWidth+"px",left:e.offsetLeft+"px",top:e.offsetTop+"px"};t.appendTo(e.offsetParent),t.css(r),t.addClass("oj-animation-host-viewport");var i=document.createElement("div");return i.className="oj-animation-host",t.append(i),i},a.createAnimation=function(e,t,n){return{canAnimate:a._defaultCanAnimate,prepareAnimation:function(r){var i={},o=a._getOldView(r);return t&&!n&&(i.newViewParent=a._createViewParent(o)),e&&(i.oldViewParent=a._createViewParent(o)),t&&n&&(i.newViewParent=a._createViewParent(o)),i},animate:function(n){var r=n.oldViewParent,i=n.newViewParent,o=[];return r&&e&&("function"==typeof e?o.push(e(r)):o.push(s.startAnimation(r,"close",e))),i&&t&&("function"==typeof t?o.push(t(i)):o.push(s.startAnimation(i,"open",t))),Promise.all(o).then(function(){a._postAnimationProcess(n)}).catch(function(){a._postAnimationProcess(n)})}}},a._removeViewParent=function(e,t){var n=e[t];if(n){var r=n.parentNode;r&&r.parentNode&&r.parentNode.removeChild(r)}},a._postAnimationProcess=function(e){e.removeOldView(),e.insertNewView(),a._removeViewParent(e,"newViewParent"),a._removeViewParent(e,"oldViewParent")},a._getModuleEffect=function(e){return null==a._moduleEffects&&(a._moduleEffects=o.parseJSONFromFontFamily("oj-animation-module-effects")),a._moduleEffects?a._moduleEffects[e]:null},a._getImplementation=function(e){var t=a._getModuleEffect(e);return t?a.createAnimation(t.oldViewEffect,t.newViewEffect,t.newViewOnTop):null},a._getNavigateMethod=function(e,t){return null==a._navigateMethods&&(a._navigateMethods=o.parseJSONFromFontFamily("oj-animation-navigate-methods")),a._navigateMethods?a._navigateMethods[t]:null},a._navigateCanAnimate=function(e,t){var n=a._getNavigateMethod(e,t);return!!a[n]&&(null==a[n].canAnimate||a[n].canAnimate(e))},a._navigatePrepareAnimation=function(e,t){var n=a._getNavigateMethod(e,t);return a[n]&&a[n].prepareAnimation?a[n].prepareAnimation(e):null},a._navigateAnimate=function(e,t){var n=a._getNavigateMethod(e,t);return a[n]&&a[n].animate?a[n].animate(e):Promise.resolve()},a._getNavigateImplementation=function(e){return{canAnimate:function(t){return a._navigateCanAnimate(t,e)},prepareAnimation:function(t){return a._navigatePrepareAnimation(t,e)},animate:function(t){return a._navigateAnimate(t,e)}}},a.coverLeft=a._getImplementation("coverLeft"),a.coverRight=a._getImplementation("coverRight"),a.revealLeft=a._getImplementation("revealLeft"),a.revealRight=a._getImplementation("revealRight"),a.coverStart="rtl"===i.getReadingDirection()?a.coverRight:a.coverLeft,a.revealEnd="rtl"===i.getReadingDirection()?a.revealLeft:a.revealRight,a.coverUp=a._getImplementation("coverUp"),a.revealDown=a._getImplementation("revealDown"),a.zoomIn=a._getImplementation("zoomIn"),a.zoomOut=a._getImplementation("zoomOut"),a.fade=a._getImplementation("fade"),a.pushStart=a._getImplementation("pushStart"),a.pushEnd=a._getImplementation("pushEnd"),a.navChild=a._getNavigateImplementation("navChild"),a.navParent=a._getNavigateImplementation("navParent"),a.drillIn=a.navChild,a.drillOut=a.navParent,a.navSiblingEarlier=a._getNavigateImplementation("navSiblingEarlier"),a.navSiblingLater=a._getNavigateImplementation("navSiblingLater"),a.switcher=function(e){return new function(){var t;function n(e){return function(n){return t[e].call(t,n)}}var r=this;this.canAnimate=function(i){var o=e(i);if(!(t=null==o?null:a[o]))return!1;for(var s=["prepareAnimation","animate"],l=0;l<s.length;l++){var u=s[l];r[u]=n(u)}return n("canAnimate")(i)}}};const l=a.createAnimation,u=a.coverLeft,c=a.coverRight,d=a.revealLeft,h=a.revealRight,p=a.coverStart,f=a.revealEnd,_=a.coverUp,m=a.revealDown,g=a.zoomIn,v=a.zoomOut,y=a.fade,E=a.pushStart,b=a.pushEnd,T=a.navChild,S=a.navParent,C=a.drillIn,P=a.drillOut,O=a.navSiblingEarlier,A=a.navSiblingLater,I=a.switcher;e.coverLeft=u,e.coverRight=c,e.coverStart=p,e.coverUp=_,e.createAnimation=l,e.drillIn=C,e.drillOut=P,e.fade=y,e.navChild=T,e.navParent=S,e.navSiblingEarlier=O,e.navSiblingLater=A,e.pushEnd=b,e.pushStart=E,e.revealDown=m,e.revealEnd=f,e.revealLeft=d,e.revealRight=h,e.switcher=I,e.zoomIn=g,e.zoomOut=v,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojdefer",["ojs/ojkoshared","knockout","ojs/ojcore-base"],function(e,t,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,e.addPostprocessor({nodeHasBindings:function(e,t){return t||1===e.nodeType&&"oj-defer"===e.nodeName.toLowerCase()},getBindingAccessors:function(e,t,n){var r=n;return 1===e.nodeType&&"oj-defer"===e.nodeName.toLowerCase()&&((r=r||{})._ojDefer_=function(){}),r}}),t.bindingHandlers._ojDefer_={init:function(e,n,r,i,o){var s=e;if(s._shown)t.applyBindingsToDescendants(o,s);else if(!s._activateSubtree){for(var a=[];s.firstChild;)a.push(s.firstChild),s.removeChild(s.firstChild);s._activateSubtree=e=>{a.forEach(t=>e.appendChild(t)),t.applyBindingsToDescendants(o,e)}}return{controlsDescendantBindings:!0}}};class r extends HTMLElement{constructor(){super(),this._activateSubtreeInternal=null,this._shownInternal=!1}get _shown(){return this._shownInternal}get _activateSubtree(){return this._activateSubtreeInternal}set _activateSubtree(e){this._activateSubtreeInternal=e}_activate(){this._activateSubtree?(this._activateSubtree(this),this._activateSubtreeInternal=null):this._shownInternal=!0}}customElements.define("oj-defer",r),n._registerLegacyNamespaceProp("DeferElement",r)}),define("ojs/ojdatasource-common",["exports","ojs/ojcore-base","ojs/ojcore"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;
/**
   * @preserve Copyright 2013 jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
const r=function(e){this.data=e,this.Init()};t._registerLegacyNamespaceProp("DataSource",r),t.Object.createSubclass(r,t.EventSource,"oj.DataSource"),r.prototype.Init=function(){r.superclass.Init.call(this)};const i=function(e){i.superclass.constructor.call(this,e)};n._registerLegacyNamespaceProp("DataGridDataSource",i),n.Object.createSubclass(i,n.DataSource,"oj.DataGridDataSource");const o=function(e){o.superclass.constructor.call(this,e)};t._registerLegacyNamespaceProp("DiagramDataSource",o),t.Object.createSubclass(o,t.DataSource,"oj.DiagramDataSource"),o.EventType={ADD:"add",REMOVE:"remove",CHANGE:"change"};
/**
   * @preserve Copyright 2013 jQuery Foundation and other contributors
   * Released under the MIT license.
   * http://jquery.org/license
   */
const s=function(e,t){if(this.constructor===s){var n=s._LOGGER_MSG._ERR_TABLE_DATASOURCE_INSTANTIATED_SUMMARY,r=s._LOGGER_MSG._ERR_TABLE_DATASOURCE_INSTANTIATED_DETAIL;throw new Error(n+"\n"+r)}this.data=e,this.options=t,this.isFetching=!1,this._startIndex=0,this.Init()};n._registerLegacyNamespaceProp("TableDataSource",s),n.Object.createSubclass(s,n.DataSource,"oj.TableDataSource"),s.prototype.Init=function(){s.superclass.Init.call(this)},s.prototype.sortCriteria=null,s.prototype.totalSizeConfidence=function(){return"actual"},s.EventType={ADD:"add",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",REQUEST:"request",SYNC:"sync",ERROR:"error"},s._LOGGER_MSG={_ERR_TABLE_DATASOURCE_INSTANTIATED_SUMMARY:"oj.TableDataSource constructor called.",_ERR_TABLE_DATASOURCE_INSTANTIATED_DETAIL:"Please do not instantiate oj.TableDataSource. Please use one of the subclasses instead such as oj.ArrayTableDataSource or oj.CollectionTableDataSource.",_ERR_DATA_INVALID_TYPE_SUMMARY:"Invalid data type.",_ERR_DATA_INVALID_TYPE_DETAIL:"Please specify the appropriate data type."};const a=function(e){a.superclass.constructor.call(this,e)};n._registerLegacyNamespaceProp("TreeDataSource",a),n.Object.createSubclass(a,n.DataSource,"oj.TreeDataSource");var l={};l.DataGridDataSource=oj.DataGridDataSource,e.DataGridDataSource=i,e.DataSource=r,e.DataSourceCommon=l,e.DiagramDataSource=o,e.TableDataSource=s,e.TreeDataSource=a,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojarraytabledatasource",["ojs/ojcore-base","jquery","ojs/ojlogger","ojs/ojtranslation","ojs/ojdatasource-common"],function(e,t,n,r,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;const o=function(e,t){if(this.data=e||{},!(e instanceof Array||this._isObservableArray(e))){var r=i.TableDataSource._LOGGER_MSG._ERR_DATA_INVALID_TYPE_SUMMARY,s=i.TableDataSource._LOGGER_MSG._ERR_DATA_INVALID_TYPE_DETAIL;throw new Error(r+"\n"+s)}null!=t&&null!=t.idAttribute||n.info(o._LOGGER_MSG._INFO_ARRAY_TABLE_DATASOURCE_IDATTR),o.superclass.constructor.call(this,e,t),this._eventHandlers=[],this._rows={},null!=e&&(this._idAttribute=null,null!=t&&null!=t.idAttribute&&(this._idAttribute=t.idAttribute)),(null==t||"enabled"!==t.startFetch&&null!=t.startFetch)&&null!=t||(this._startFetchEnabled=!0)};e._registerLegacyNamespaceProp("ArrayTableDataSource",o),e.Object.createSubclass(o,i.TableDataSource,"ArrayTableDataSource"),o.prototype.comparator=null,o.prototype.sortCriteria=null,o.prototype.Init=function(){o.superclass.Init.call(this)},o.prototype.add=function(e,t){t=t||{},this._checkDataLoaded();var n=t.at;return this._addToRowSet(e,n,t)},o.prototype.at=function(e,t){var n;return this._checkDataLoaded(),n=e<0||e>=this._rows.data.length?null:{data:this._rows.data[e],index:e,key:this._getId(this._rows.data[e])},new Promise(function(e){e(n)})},o.prototype.change=function(e,t){t=t||{},this._checkDataLoaded();var n=t.silent,r={data:[],keys:[],indexes:[]};e instanceof Array||(e=[e]);for(var o=0;o<e.length;o++){var s=e[o];if(null!=s){var a=this._getId(s),l=this._getInternal(a,!1);r.data.push(this._wrapWritableValue(s)),r.keys.push(a),r.indexes.push(l.index),this._rows.data[l.index]=s}}return!n&&r.data.length>0&&i.TableDataSource.superclass.handleEvent.call(this,i.TableDataSource.EventType.CHANGE,r),Promise.resolve(r)},o.prototype.fetch=function(e){return"init"!==(e=e||{}).fetchType||this._startFetchEnabled?this._fetchInternal(e):Promise.resolve()},o.prototype.get=function(e,t){return this._checkDataLoaded(),Promise.resolve(this._getInternal(e,!0))},o.prototype.getCapability=function(e){return"full"},o.prototype.remove=function(e,t){return t=t||{},this._checkDataLoaded(),this._removeInternal(e,t)},o.prototype.reset=function(e,t){(t=t||{}).previousRows=this._rows;var n=t.silent;return null!=e&&(this.data=e),this._rows={},this._totalSize=0,this._arrayChangeSubscription&&(this._arrayChangeSubscription.dispose(),this._arrayChangeSubscription=null),n||i.TableDataSource.superclass.handleEvent.call(this,i.TableDataSource.EventType.RESET,null),Promise.resolve()},o.prototype.sort=function(e){null==e?e=this.sortCriteria:this.sortCriteria=e,e=e||{},this._checkDataLoaded();var t=this;return new Promise(function(n){var r=t._getComparator();t._rows.data.sort(function(e,n){return o._sortFunc(e,n,r,t)}),t._sorted=!0;var s={header:e.key,direction:e.direction};i.TableDataSource.superclass.handleEvent.call(t,i.TableDataSource.EventType.SORT,s),n(s)})},o.prototype.totalSize=function(){return this._checkDataLoaded(),this._totalSize},o.prototype._addToRowSet=function(e,t,n){var r=(n=n||{}).silent,s={data:[],keys:[],indexes:[]};e instanceof Array||(e=[e]),null==t||t instanceof Array||(t=[t]);for(var a=0;a<e.length;a++){var l=e[a];if(null!=l){var u=this._getId(l);if(s.data.push(this._wrapWritableValue(l)),s.keys.push(u),!0===this._sorted&&this._rows.data.length>0)for(var c=0;c<this._rows.data.length;c++){if(o._sortFunc(l,this._rows.data[c],this._getComparator(),this)<0){this._rows.data.splice(c,0,l),s.indexes.push(c);break}if(c===this._rows.data.length-1){this._rows.data.push(l),s.indexes.push(c+1);break}}else null==t?(this._rows.data.push(l),s.indexes.push(this._rows.data.length-1)):(this._rows.data.splice(t[a],0,l),s.indexes.push(t[a]));this._totalSize+=1,this._realignRowIndices()}}return!r&&s.data.length>0&&i.TableDataSource.superclass.handleEvent.call(this,i.TableDataSource.EventType.ADD,s),Promise.resolve(s)},o.prototype._checkDataLoaded=function(){if(!this._isDataLoaded()){var e=[];this.data instanceof Array?e=this.data:this._isObservableArray(this.data)&&(e=this.data.peek(),this._subscribeObservableArray(this.data)),this._rows=this._getRowArray(e),this._totalSize=e.length}},o.prototype._isDataLoaded=function(){return null!=this._rows&&null!=this._rows.data},o.prototype._fetchInternal=function(e){var t,n,r,i;e=e||{},this._startFetch(e),this._checkDataLoaded();try{t=e.pageSize>0?e.pageSize:-1,this._startIndex||(this._startIndex=0),this._startIndex=null==e.startIndex?this._startIndex:e.startIndex,i=o._getEndIndex(this._rows,this._startIndex,t),n=[],r=[];for(var s=this._startIndex;s<=i;s++){var a=this._getId(this._rows.data[s]),l=this._wrapWritableValue(this._rows.data[s]);n[s-this._startIndex]=l,r[s-this._startIndex]=a}}catch(t){return this._endFetch(e,null,t),Promise.reject(t)}i<this._startIndex&&(this._startIndex=i+1),e.pageSize=t,e.startIndex=this._startIndex,e.refresh=!0;var u={data:n,keys:r,startIndex:this._startIndex};return this._endFetch(e,u,null),Promise.resolve(u)},o.prototype._getInternal=function(e,n){for(var r=null,i=0;i<this._rows.data.length;i++){var o=this._rows.data[i];if(void 0!==o){var s=this._getId(o);if(t.isArray(s)&&t.isArray(e)){if(s.length===e.length){for(var a=!0,l=0;l<e.length;l++)if(s[l]!==e[l]){a=!1;break}if(a){r=n?{data:this._wrapWritableValue(o),key:s,index:this._rows.indexes[i]}:{data:o,key:s,index:this._rows.indexes[i]};break}}}else if(s===e){r=n?{data:this._wrapWritableValue(o),key:s,index:this._rows.indexes[i]}:{data:o,key:s,index:this._rows.indexes[i]};break}}}return r},o.prototype._getComparator=function(){var e=this.comparator;if(null==e){var n=this.sortCriteria.key,r=this.sortCriteria.direction;"ascending"===r?e=function(e){return t.isFunction(e[n])?e[n]():e[n]}:"descending"===r&&(e=function(e,r){var i,o;return t.isFunction(e[n])?(i=e[n](),o=r[n]()):(i=e[n],o=r[n]),i===o?0:i>o?-1:1})}return e},o.prototype._realignRowIndices=function(){for(var e=0;e<this._rows.data.length;e++)this._rows.indexes[e]=e},o.prototype._removeInternal=function(e,t){var n,r=(t=t||{}).silent,o={data:[],keys:[],indexes:[]};e instanceof Array||(e=[e]);var s=[];for(n=0;n<e.length;n++){var a=e[n];if(null!=a){var l=this._getId(a),u=this._getInternal(l,!1);null!=u&&s.push({data:u.data,key:u.key,index:u.index})}}for(s.sort(function(e,t){return e.index-t.index}),n=0;n<s.length;n++)o.data.push(s[n].data),o.keys.push(s[n].key),o.indexes.push(s[n].index);for(n=o.indexes.length-1;n>=0;n--)this._rows.data.splice(o.indexes[n],1),this._rows.indexes.splice(o.indexes[n],1),this._totalSize-=1;return this._realignRowIndices(),!r&&o.data.length>0&&i.TableDataSource.superclass.handleEvent.call(this,i.TableDataSource.EventType.REMOVE,o),Promise.resolve(o)},o.prototype._setRow=function(e,t){this._rows[e]=t,t.index=e},o.prototype._startFetch=function(e){e.silent||i.TableDataSource.superclass.handleEvent.call(this,i.TableDataSource.EventType.REQUEST,{startIndex:e.startIndex})},o.prototype._endFetch=function(e,t,n){null!=n?i.TableDataSource.superclass.handleEvent.call(this,i.TableDataSource.EventType.ERROR,n):e.silent||i.TableDataSource.superclass.handleEvent.call(this,i.TableDataSource.EventType.SYNC,t)},o.prototype._handleRowChange=function(e){e.startIndex=this._startIndex,i.TableDataSource.superclass.handleEvent.call(this,i.TableDataSource.EventType.CHANGE,e)},o._compareKeys=function(e,t,n){if("descending"===n){if(e<t)return 1;if(t<e)return-1}else{if(e>t)return 1;if(t>e)return-1}return 0},o._getEndIndex=function(e,t,n){var r=e.data.length-1;return n>0&&(r=(r=t+n-1)>e.data.length-1?e.data.length-1:r),r},o._getKey=function(e,t){return"function"==typeof e[t]?e[t]():e[t]},o.prototype._getRowArray=function(e){var t=e.length-1,n={data:[],indexes:[]};this._attributes=null;for(var r=0;r<=t;r++){var i={},o=e[r];if(o)for(var s=Object.keys(o),a=0;a<s.length;a++){var l=s[a];i[l]=o[l],0===r&&(null==this._attributes&&(this._attributes=[]),this._attributes.push(l))}else i=null;n.data[r]=i,n.indexes[r]=r}return n},o.prototype._getId=function(e){var n,i,s=this._getIdAttr(e);if(null==e)return null;if(t.isArray(s)){var a;for(n=[],a=0;a<s.length;a++){if(!(s[a]in e))throw i=r.applyParameters(o._LOGGER_MSG._ERR_ARRAY_TABLE_DATASOURCE_IDATTR_NOT_IN_ROW,[s[a]]),new Error(i);n[a]=o._getKey(e,s[a])}}else{if(!(s in e))throw i=r.applyParameters(o._LOGGER_MSG._ERR_ARRAY_TABLE_DATASOURCE_IDATTR_NOT_IN_ROW,[s]),new Error(i);n=o._getKey(e,s)}return n},o.prototype._getIdAttr=function(e){if(null!=this._idAttribute)return this._idAttribute;if(null==this._attributes){this._attributes=[];for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n];this._attributes.push(r)}}return Object.prototype.hasOwnProperty.call(this._attributes,"id")?"id":this._attributes},o._sortFunc=function(n,r,i,s){var a,l,u,c,d=s.sortCriteria.direction;if(t.isFunction(i)){if(1===i.length){a=i.call(s,n),l=i.call(s,r);var h=e.StringUtils.isString(a)?a.split(","):[a],p=e.StringUtils.isString(l)?l.split(","):[l];for(u=0;u<h.length;u++)if(0!==(c=o._compareKeys(h[u],p[u],d)))return c;return 0}return i.call(s,n,r)}if(e.StringUtils.isString(i)){var f=i.split(",");for(u=0;u<f.length;u++)if(a=o._getKey(n,f[u]),l=o._getKey(r,f[u]),0!==(c=o._compareKeys(a,l,d)))return c}return 0},o.prototype._subscribeObservableArray=function(t){if(!(t instanceof Array)){var n=this;this._arrayChangeSubscription=t.subscribe(function(t){var r,i,o,s,a=[],l=[];for(r=0;r<t.length;r++)for(o=t[r].index,s=t[r].status,i=0;i<t.length;i++)i!==r&&o===t[i].index&&s!==t[i].status&&a.indexOf(r)<0&&l.indexOf(r)<0&&("deleted"===s?(l.push(r),a.push(i)):(l.push(i),a.push(r)));var u=[];for(r=0;r<t.length;r++)if(a.indexOf(r)>=0){var c=n._getId(n._rows.data[t[r].index]),d=n._getId(t[r].value);null==d||e.Object.compareValues(d,c)||(n._rows.data[t[r].index]=t[r].value),u.push(t[r].value)}n.change(u,null),u=[];var h=[];for(r=0;r<t.length;r++)a.indexOf(r)<0&&l.indexOf(r)<0&&"deleted"===t[r].status&&u.push(t[r].value);for(n.remove(u,null),u=[],h=[],r=0;r<t.length;r++)a.indexOf(r)<0&&l.indexOf(r)<0&&"added"===t[r].status&&(u.push(t[r].value),h.push(t[r].index));n.add(u,{at:h})},null,"arrayChange")}},o.prototype._wrapWritableValue=function(e){var t={};if(!e)return null;for(var n=Object.keys(e),r=0;r<n.length;r++)o._defineProperty(t,e,n[r]);return t},o.prototype._isObservableArray=function(e){return"function"==typeof e&&"function"==typeof e.subscribe},o._defineProperty=function(e,t,n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},enumerable:!0})},o._LOGGER_MSG={_INFO_ARRAY_TABLE_DATASOURCE_IDATTR:"idAttribute option has not been specified. Will default to using 'id' if the field exists. If not, will use all the fields.",_ERR_ARRAY_TABLE_DATASOURCE_IDATTR_NOT_IN_ROW:"Specified idAttribute {0} not in row data. Please ensure all specified idAttribute fields are in the row data or do not specify idAttribute and all fields will be used as id."}}),define("ojs/ojeventtarget",["exports","ojs/ojcore-base"],function(e,t){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class n{constructor(e,t){this.type=e,this.options=t,null!=t&&(this.detail=t.detail)}}t._registerLegacyNamespaceProp("GenericEvent",n);class r{addEventListener(e,t){this._eventListeners||(this._eventListeners=[]),this._eventListeners.push({type:e.toLowerCase(),listener:t})}removeEventListener(e,t){if(this._eventListeners){let n;for(n=this._eventListeners.length-1;n>=0;n--)this._eventListeners[n].type==e&&this._eventListeners[n].listener==t&&this._eventListeners.splice(n,1)}}dispatchEvent(e){if(this._eventListeners){var t,n=this._eventListeners.slice(0);for(t=0;t<n.length;t++){var r=n[t];if(e&&e.type&&r.type==e.type.toLowerCase()&&!1===r.listener.apply(this,[e]))return!1}}return!0}static applyMixin(e){[r].forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(n=>{"constructor"!==n&&(e.prototype[n]=t.prototype[n])})})}}t._registerLegacyNamespaceProp("EventTargetMixin",r),e.EventTargetMixin=r,e.GenericEvent=n,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojdataprovider",["exports","ojs/ojcore-base","ojs/ojeventtarget"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
oj.DataProvider=function(){},function(e){let t;!function(e){e.$co="$co",e.$eq="$eq",e.$ew="$ew",e.$pr="$pr",e.$gt="$gt",e.$ge="$ge",e.$lt="$lt",e.$le="$le",e.$ne="$ne",e.$regex="$regex",e.$sw="$sw"}(t=e.AttributeOperator||(e.AttributeOperator={}))}(e.AttributeFilterOperator||(e.AttributeFilterOperator={})),t._registerLegacyNamespaceProp("AttributeFilterOperator",e.AttributeFilterOperator),function(e){let t;!function(e){e.$and="$and",e.$or="$or"}(t=e.CompoundOperator||(e.CompoundOperator={}))}(e.CompoundFilterOperator||(e.CompoundFilterOperator={})),t._registerLegacyNamespaceProp("CompoundFilterOperator",e.CompoundFilterOperator);class r{constructor(){this._handleMutationAdd=function(e){var n;const i=e[r._BEFOREKEYS],o=e[r._KEYS],s=[];o.forEach(e=>{s.push(e)});const a=e[r._DATA],l=e[r._METADATA],u=e[r._INDEXES];if(s&&s.length>0)if(u)s.forEach((e,t)=>{this._items.splice(u[t],0,new this.Item(l[t],a[t]))});else if(i){const o=Object.assign([],i),u=Object.assign(new Set,e[r._KEYS]),c=Object.assign([],e[r._DATA]),d=Object.assign([],e[r._METADATA]),h=[];let p,f,_;for(const e of i){if(p=e,_=!0,null!=p){for(const e of s)if(t.Object.compareValues(e,p)){_=!1;break}if(_)for(const e of this._items)if(t.Object.compareValues(null===(n=null==e?void 0:e.metadata)||void 0===n?void 0:n.key,p)){_=!1;break}}else _=!1;_&&h.push(p)}let m=i.length;for(;m>0;){for(const e of i)if(f=e,h.indexOf(f)>=0){h.push(f);break}m--}for(let e=o.length-1;e>=0;e--)h.indexOf(o[e])>=0&&(delete o[e],u.delete(o[e]),delete c[e],delete d[e]);o.forEach((e,n)=>{var r,i;if(null===e)this._items.push(new this.Item(l[n],a[n]));else for(let o=0;o<this._items.length;o++)if(t.Object.compareValues(null===(i=null===(r=this._items[o])||void 0===r?void 0:r.metadata)||void 0===i?void 0:i.key,e)){this._items.splice(o,0,new this.Item(l[n],a[n]));break}})}else if(this._fetchParams&&null!=this._fetchParams.sortCriteria){const e=this._fetchParams.sortCriteria;if(e){const t=this._getSortComparator(e);let n,r,i;const o=[];a.forEach((e,s)=>{for(n=0;n<this._items.length;n++)if(r=this._items[n].data,i=t(e,r),i<0){this._items.splice(n,0,new this.Item(l[s],a[s])),o.push(s);break}}),a.forEach((e,t)=>{o.indexOf(t)<0&&this._items.push(new this.Item(l[t],a[t]))})}}else a.forEach((e,t)=>{this._items.push(new this.Item(l[t],a[t]))})},this._handleMutationRemove=function(e){const n=e[r._KEYS];if(n&&n.size>0){let e;n.forEach(n=>{for(e=this._items.length-1;e>=0;e--)if(t.Object.compareValues(this._items[e].metadata.key,n)){this._items.splice(e,1);break}})}},this._handleMutationUpdate=function(e){const n=e[r._KEYS],i=e[r._DATA],o=e[r._METADATA];if(i&&i.length>0){let e,r=0;n.forEach(n=>{for(e=this._items.length-1;e>=0;e--)if(t.Object.compareValues(this._items[e].metadata.key,n)){this._items.splice(e,1,new this.Item(o[r],i[r]));break}r++})}},this.Item=class{constructor(e,t){this.metadata=e,this.data=t,this[r._METADATA]=e,this[r._DATA]=t}},this.FetchByKeysResults=class{constructor(e,t){this.fetchParameters=e,this.results=t,this[r._FETCHPARAMETERS]=e,this[r._RESULTS]=t}},this.FetchByOffsetResults=class{constructor(e,t,n){this.fetchParameters=e,this.results=t,this.done=n,this[r._FETCHPARAMETERS]=e,this[r._RESULTS]=t,this[r._DONE]=n}},this._items=[]}addListResult(e){const t=[];e.value.data.forEach((n,r)=>{t.push(new this.Item(e.value.metadata[r],n))}),this._items=this._items.concat(t),this._done=e.done}getDataList(e,t){this._fetchParams=e;let n=25;null!=e.size&&(n=-1===e.size?this.getSize():e.size);const r=this._items.slice(t,t+n),i=[],o=[];return r.forEach(e=>{i.push(e.data),o.push(e.metadata)}),{fetchParameters:e,data:i,metadata:o}}getDataByKeys(e){const t=new Map;return e&&e.keys&&e.keys.forEach(e=>{for(const n of this._items)if(n.metadata.key===e){t.set(e,n);break}}),new this.FetchByKeysResults(e,t)}getDataByOffset(e){let t=[];return e&&(t=this._items.slice(e.offset,e.offset+e.size)),new this.FetchByOffsetResults(e,t,!0)}processMutations(e){null!=e.remove&&this._handleMutationRemove(e.remove),null!=e.add&&this._handleMutationAdd(e.add),null!=e.update&&this._handleMutationUpdate(e.update)}reset(){this._items=[],this._done=!1}getSize(){return this._items.length}isDone(){return this._done}_getSortComparator(e){return(t,n)=>{let i,o,s,a;for(const l of e){i=l[r._DIRECTION],o=l[r._ATTRIBUTE],s=this._getVal(t,o),a=this._getVal(n,o);let e=0;const u="string"==typeof s?s:String(s).toString(),c="string"==typeof a?a:String(a).toString();if(e="ascending"===i?u.localeCompare(c,void 0,{numeric:!0,sensitivity:"base"}):c.localeCompare(u,void 0,{numeric:!0,sensitivity:"base"}),0!==e)return e}return 0}}_getVal(e,t){if("string"==typeof t){const n=t.indexOf(".");if(n>0){const r=t.substring(0,n),i=t.substring(n+1),o=e[r];if(o)return this._getVal(o,i)}}return"function"==typeof e[t]?e[t]():e[t]}}r._DATA="data",r._METADATA="metadata",r._ITEMS="items",r._BEFOREKEYS="addBeforeKeys",r._KEYS="keys",r._INDEXES="indexes",r._FROM="from",r._OFFSET="offset",r._REFRESH="refresh",r._MUTATE="mutate",r._SIZE="size",r._FETCHPARAMETERS="fetchParameters",r._SORTCRITERIA="sortCriteria",r._DIRECTION="direction",r._ATTRIBUTE="attribute",r._VALUE="value",r._DONE="done",r._RESULTS="results",r._CONTAINSPARAMETERS="containsParameters",r._DEFAULT_SIZE=25,r._CONTAINSKEYS="containsKeys",r._FETCHBYKEYS="fetchByKeys",r._FETCHBYOFFSET="fetchByOffset",r._FETCHFIRST="fetchFirst",r._FETCHATTRIBUTES="attributes",t._registerLegacyNamespaceProp("DataCache",r);class i extends n.GenericEvent{constructor(e){const t={};t[i._DETAIL]=e,super("mutate",t)}}i._DETAIL="detail",t._registerLegacyNamespaceProp("DataProviderMutationEvent",i);class o extends n.GenericEvent{constructor(e){const t={};t.detail=e,super("refresh",t)}}t._registerLegacyNamespaceProp("DataProviderRefreshEvent",o);class s{fetchByKeys(e){let t=0;const n=this.getIterationLimit?this.getIterationLimit():-1,r={size:25},i=new Map,o=this.fetchFirst(r)[Symbol.asyncIterator]();return function e(r,i,o){return i.next().then(function(s){const a=s.value,l=a.data,u=a.metadata,c=u.map(function(e){return e.key});let d=!0;return r.keys.forEach(function(e){o.has(e)||c.map(function(t,n){t===e&&o.set(t,{metadata:u[n],data:l[n]})}),o.has(e)||(d=!1)}),t+=l.length,d||s.done||-1!=n&&t>=n?o:e(r,i,o)})}(e,o,i).then(function(t){const n=new Map;return t.forEach(function(e,t){const r=[e];n.set(t,r[0])}),{fetchParameters:e,results:n}})}containsKeys(e){return this.fetchByKeys(e).then(function(t){const n=new Set;return e.keys.forEach(function(e){null!=t.results.get(e)&&n.add(e)}),Promise.resolve({containsParameters:e,results:n})})}getCapability(e){if("fetchByKeys"===e)return{implementation:"iteration"};let t=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;let n=1;for(;this["_ojLastGetCapability"+n];)++n;for(--n;n>0&&(t=this["_ojLastGetCapability"+n](e),!t);n--);delete this._ojSkipLastCapability}return t}static applyMixin(e){const t=e.prototype.getCapability;if([s].forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(n=>{"constructor"!==n&&(e.prototype[n]=t.prototype[n])})}),t){let n=1;for(;e.prototype["_ojLastGetCapability"+n];)++n;e.prototype["_ojLastGetCapability"+n]=t}}}t._registerLegacyNamespaceProp("FetchByKeysMixin",s);class a{fetchByOffset(e){const t=e&&e.size>0?e.size:25,n=e?e.sortCriteria:null,r=e&&e.offset>0?e.offset:0;let i=0;const o=this.getIterationLimit?this.getIterationLimit():-1;let s=!1;const a={};a.size=t,a.sortCriteria=n;const l=new Array,u=this.fetchFirst(a)[Symbol.asyncIterator]();return function e(n,a,l){return a.next().then(function(u){s=u.done;const c=u.value,d=c.data,h=c.metadata,p=d.length;if(r<i+p){for(let e=r<=i?0:r-i;e<p&&l.length!==t;e++)l.push({metadata:h[e],data:d[e]})}return i+=p,l.length<t&&!s?-1!==o&&i>=o?l:e(n,a,l):l})}(e,u,l).then(function(t){return{fetchParameters:e,results:t,done:s}})}getCapability(e){if("fetchByOffset"===e)return{implementation:"iteration"};let t=null;if(!0!==this._ojSkipLastCapability){this._ojSkipLastCapability=!0;let n=1;for(;this["_ojLastGetCapability"+n];)++n;for(--n;n>0&&(t=this["_ojLastGetCapability"+n](e),!t);n--);delete this._ojSkipLastCapability}return t}static applyMixin(e){const t=e.prototype.getCapability;if([a].forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(n=>{"constructor"!==n&&(e.prototype[n]=t.prototype[n])})}),t){let n=1;for(;e.prototype["_ojLastGetCapability"+n];)++n;e.prototype["_ojLastGetCapability"+n]=t}}}var l;t._registerLegacyNamespaceProp("FetchByOffsetMixin",a),function(e){function t(e,t){let n=!1;for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];if(n||!i(r))throw new Error("parsing error "+t);e.operator=r,e.right=o,n=!0}}function n(e,t,n,r){if(r&&["base","accent","case","variant"].indexOf(r.sensitivity)<0)throw new Error("not a valid sensitivity! "+r.sensitivity);let i;if(r&&("string"==typeof t||t instanceof String)&&("string"==typeof n||n instanceof String)&&["base","accent","case","variant"].indexOf(r.sensitivity)>=0&&(i=new Intl.Collator(void 0,r)),"$lt"===e){const e=a(n,t);return n=e[0],t=e[1],i?i.compare(n,t)<0:n<t}if("$gt"===e){const e=a(n,t);return n=e[0],t=e[1],i?i.compare(n,t)>0:n>t}if("$lte"===e){const e=a(n,t);return n=e[0],t=e[1],i?i.compare(n,t)<=0:n<=t}if("$gte"===e){const e=a(n,t);return n=e[0],t=e[1],i?i.compare(n,t)>=0:n>=t}if("$eq"===e)return i?0===i.compare(n,t):n===t;if("$ne"===e)return i?0!==i.compare(n,t):n!==t;if("$regex"===e){if(n){if("string"!=typeof n&&!(n instanceof String))if(n instanceof Object){if("[object Object]"==(n=n.toString()))return!1}else n=new String(n);const e=null==r?void 0:r.sensitivity;"base"!==e&&"case"!==e||(n=n.normalize("NFD").replace(/[\u0300-\u036f]/g,""),t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")),"base"!==e&&"accent"!==e||(n=n.toLowerCase(),t=t.toLowerCase());return null!==n.match(t)}return!1}if("$exists"===e)return t?null!=n:null==n;throw new Error("not a valid operator! "+e)}function r(e){return"$and"===e||"$or"===e}function i(e){return"$lt"===e||"$gt"===e||"$lte"===e||"$gte"===e||"$eq"===e||"$ne"===e||"$regex"===e||"$exists"===e}function o(e){return"$nestedAttr"===e}function s(e){return null!=e&&(e instanceof String||"string"==typeof e)}function a(e,t){return s(e)&&null==t?t="":s(t)&&null==e&&(e=""),[e,t]}function l(e,t){const n=e.split(".");let r=t;for(const e of n)r=r[e];return r}e.satisfy=function(e,s){if(e){return function e(t,s){const a=t.operator,{collationOptions:u}=t;if(r(a)){if(!t.left&&t.array instanceof Array){let n;const r=t.array;for(const t of r){const r=e(t,s);if("$or"===a&&!0===r)return!0;if("$and"===a&&!1===r)return!1;n=r}return n}throw new Error("invalid expression tree!"+t)}if(i(a)){const e=t.right;let r;if("*"!=t.left)return r=l(t.left,s),n(a,e,r,u);{const t=Object.keys(s);for(const i of t)if(r=l(i,s),n(a,e,r,u))return!0;return!1}}if(!o(a))throw new Error("not a valid expression!"+t);{let n=l(t.left,s);if(void 0===n||!(n instanceof Array)||0===n.length)return!1;for(const r of n){if(e(t.right,r))return!0}}}(function e(n,s){let a;const l=[];for(const u in n)if("collationOptions"!==u&&"criterion"!==u&&n.hasOwnProperty(u)){const c=n[u];if(0===u.indexOf("$"))if(r(u)){if(!(c instanceof Array))throw new Error("not a valid expression: "+n);a={operator:u,array:[]};for(const t of c){const r=e(t,n.collationOptions);a.array.push(r)}}else{if(i(u))throw new Error("not a valid expression: "+n);if(o(u)){const t=e(n.criterion,n.criterion.collationOptions);l.push({left:c,right:t,operator:u,collationOptions:s})}}else if("object"!=typeof c)l.push({left:u,right:c,operator:"$eq",collationOptions:s});else{const e={left:u,collationOptions:s};t(e,c),l.push(e)}}l.length>1?a={operator:"$and",array:l}:1===l.length&&(a=l[0]);return a}(e),s)}return!0}}(l||(l={}));class u{constructor(e){e=e||{},this._textFilterAttributes=e.filterOptions?e.filterOptions.textFilterAttributes:null;const t=e.filterDef;t&&(t.op?(this.op=t.op,void 0!==t.value?(this.value=t.value,t.attribute&&(this.attribute=t.attribute)):t.criteria?this.criteria=t.criteria:t.criterion&&(this.criterion=t.criterion,t.attribute&&(this.attribute=t.attribute)),t.collationOptions&&(this.collationOptions=t.collationOptions)):t.text&&(this.text=t.text))}filter(e,t,n){return l.satisfy(u._transformFilter(this),e)}static _transformFilter(e){let t;if(e){let n,r=e.op;const i=e.collationOptions;if("$exists"===r&&e.attribute&&e.criterion)return t={},t.$nestedAttr=e.attribute,t.criterion=u._transformFilter(c.getFilter({filterDef:e.criterion})),t;if(e.text?r="$regex":"$le"===r?r="$lte":"$ge"===r?r="$gte":"$pr"===r&&(r="$exists"),"$and"!==r&&"$or"!==r){n=e.text?new RegExp(e.text.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"i"):e.value,t={};const i=e.attribute;if(i){const e={};"$sw"!==r&&"$ew"!==r&&"$co"!==r||(r="$regex",n=u._fixStringExpr(r,n)),e[r]=n,t[i]=e}else if(e.text){const i={};if(i[r]=n,e._textFilterAttributes&&e._textFilterAttributes.length>0){const n=[];e._textFilterAttributes.forEach(function(e){const t={};t[e]=i,n.push(t)}),t.$or=n}else t["*"]=i}else{const e=[];if(null==n)throw new Error("attribute cannot be empty");u._transformObjectExpr(n,r,null,e),t.$and=e}}else{const n=[];e.criteria.forEach(function(t){t&&t.text&&e._textFilterAttributes&&(t._textFilterAttributes=e._textFilterAttributes),n.push(u._transformFilter(t))}),t={},t[r]=n}t.collationOptions=i}return t}static _transformObjectExpr(e,t,n,r){if(Object.keys(e).length>0)Object.keys(e).forEach(function(i){let o=e[i];const s=n?n+"."+i:i;if(o instanceof Object)u._transformObjectExpr(o,t,s,r);else{const e={};"$sw"!==t&&"$ew"!==t&&"$co"!==t||(t="$regex",o=u._fixStringExpr(t,o)),e[t]=o;const n={};n[s]=e,r.push(n)}});else{const i={};i[t]=e;const o={};o[n]=i,r.push(o)}}static _fixStringExpr(e,t){return("string"==typeof t||t instanceof String)&&("$sw"===e?t="^"+t:"$ew"===e&&(t+="$")),t}}class c{static getFilter(e){return new u(e)}}t._registerLegacyNamespaceProp("FilterFactory",c),function(e){function t(e){const t=(e,n)=>{if(null==e)return e;if("string"==typeof n){const r=n.indexOf(".");if(r>0){const i=n.substring(0,r),o=n.substring(r+1),s=e[i];if(s)return t(s,o)}}return"function"==typeof e[n]?e[n]():e[n]};return(r,i)=>{let o,s,a,l;o=e.direction,s=e.attribute,a=t(r,s),l=t(i,s);let u=0;const c=n();return u="ascending"===o?c(a,l):c(l,a),0!==u?u:0}}function n(){return(e,t)=>{if(null==e)return 1;if(null==t)return-1;let n=0;const r="string"==typeof e?e:String(e).toString(),i="string"==typeof t?t:String(t).toString();return n=r.localeCompare(i,void 0,{numeric:!0,sensitivity:"base"}),0!==n?n:0}}e.getNaturalSortCriteriaComparator=function(e){return(n,r)=>{for(const i of e){const e=t(i)(n,r);if(0!==e)return e}return 0}},e.getNaturalSortCriterionComparator=t,e.getNaturalSortComparator=n}(e.SortUtils||(e.SortUtils={})),e.DataCache=r,e.DataProviderMutationEvent=i,e.DataProviderRefreshEvent=o,e.FetchByKeysMixin=s,e.FetchByOffsetMixin=a,e.FilterFactory=c,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojdataprovideradapter-base",["ojs/ojcore-base","ojs/ojeventtarget"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;class n{constructor(e){var t;this.dataSource=e,this.AsyncIterable=(t=class{constructor(e){this._asyncIterator=e,this[Symbol.asyncIterator]=function(){return this._asyncIterator}}},Symbol.asyncIterator,t),this.AsyncIterator=class{constructor(e,t){this._nextFunc=e,this._params=t,this._fetchFirst=!0}next(){const e=this._fetchFirst;return this._fetchFirst=!1,this._nextFunc(this._params,e)}},this.AsyncIteratorYieldResult=class{constructor(e,t){this._parent=e,this.value=t,this[n._VALUE]=t,this[n._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(e,t){this._parent=e,this.value=t,this[n._VALUE]=t,this[n._DONE]=!0}},this.FetchListResult=class{constructor(e,t,r,i){this._parent=e,this.fetchParameters=t,this.data=r,this.metadata=i,this[n._FETCHPARAMETERS]=t,this[n._DATA]=r,this[n._METADATA]=i}},this.ItemMetadata=class{constructor(e,t){this._parent=e,this.key=t,this[n._KEY]=t}},this.SortCriterion=class{constructor(e,t,r){this._parent=e,this.attribute=t,this.direction=r,this[n._ATTRIBUTE]=t,this[n._DIRECTION]=r}},this.DataProviderMutationEventDetail=class{constructor(e,t,r,i){this._parent=e,this.add=t,this.remove=r,this.update=i,this[n._ADD]=t,this[n._REMOVE]=r,this[n._UPDATE]=i}},this.DataProviderOperationEventDetail=class{constructor(e,t,r,i,o){this._parent=e,this.keys=t,this.metadata=r,this.data=i,this.indexes=o,this[n._KEYS]=t,this[n._METADATA]=r,this[n._DATA]=i,this[n._INDEXES]=o}},this.DataProviderAddOperationEventDetail=class{constructor(e,t,r,i,o,s,a,l){this._parent=e,this.keys=t,this.afterKeys=r,this.addBeforeKeys=i,this.parentKeys=o,this.metadata=s,this.data=a,this.indexes=l,this[n._KEYS]=t,this[n._AFTERKEYS]=r,this[n._ADDBEFOREKEYS]=i,this[n._METADATA]=s,this[n._DATA]=a,this[n._INDEXES]=l}}}getCapability(e){return e===n._SORT&&"full"===this.dataSource.getCapability(e)?{attributes:"multiple"}:"fetchByKeys"===e||"fetchByOffset"===e?{implementation:"lookup"}:null}addListener(e,t){this._eventHandlerFuncs[e]=t.bind(this),this.dataSource.on(e,this._eventHandlerFuncs[e])}removeListener(e){this.dataSource.off(e,this._eventHandlerFuncs[e])}removeAllListeners(){this._eventHandlerFuncs={}}}return n._SORT="sort",n._DATA="data",n._KEY="key",n._ATTRIBUTE="attribute",n._DIRECTION="direction",n._VALUE="value",n._DONE="done",n._FETCHPARAMETERS="fetchParameters",n._METADATA="metadata",n._KEYS="keys",n._INDEXES="indexes",n._ADD="add",n._REMOVE="remove",n._UPDATE="update",n._AFTERKEYS="afterKeys",n._ADDBEFOREKEYS="addBeforeKeys",t.EventTargetMixin.applyMixin(n),e._registerLegacyNamespaceProp("DataSourceAdapter",n),n}),define("ojs/ojmodel",["exports","ojs/ojcore-base","ojs/ojlogger","jquery","ojs/ojconfig"],function(e,t,n,r,i){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;const o={on:function(e,t,n){return this.OnInternal(e,t,n,!1,!1)},off:function(e,t,n){return this._offInternal(e,t,n,!1)},trigger:function(e){var t=Array.prototype.slice.call(arguments);return t.unshift(!1),o.TriggerInternal.apply(this,t)},once:function(e,t,n){return this._onceInternal(e,t,n,!1,null)},listenTo:function(e,t,n){var r,i,s,a,l,u,c,d={};for(c in t.constructor===String?d[t]=n:d=t,d)if(d.hasOwnProperty(c))for(r=o._getEvents(c),i=0;i<r.length;i+=1)u={event:s=r[i].event,attribute:a=r[i].attribute,object:e,callback:d[c]},l=a?s+":"+a:s,void 0===this._listeningTo&&(this._listeningTo=[]),this._listeningTo.push(u),e.OnInternal(l,d[c],null,!0,!1);return this},listenToOnce:function(e,t,n){var r,i,s,a,l,u,c,d={};for(c in t.constructor===String?d[t]=n:d=t,d)if(d.hasOwnProperty(c))for(r=o._getEvents(c),i=0;i<r.length;i+=1)u={event:s=r[i].event,attribute:a=r[i].attribute,object:e,callback:d[c]},l=a?s+":"+a:s,void 0===this._listeningTo&&(this._listeningTo=[]),this._listeningTo.push(u),e._onceInternal(l,d[c],null,!0,this);return this},stopListening:function(e,t,n){var r,i,s,a,l,u,c,d,h,p,f,_,m,g={};if(null==arguments||arguments.length<=1){for(_=this._listeningTo?this._listeningTo.length:0,f=0;f<_;f++)u=this._listeningTo[f],(c=!e||e===u.object)&&u.object._offInternal.apply(u.object,[u.event,u.callback,u.context,!0]);return this._listeningTo=[],this}for(m in i=t,e&&e.constructor===String&&(i=e),i.constructor===String?g[i]=n:g=i,g)if(g.hasOwnProperty(m))for(r=o._getEvents(m),s=0;s<r.length;s+=1)for(a=r[s].event,l=r[s].attribute,f=(_=this._listeningTo?this._listeningTo.length:0)-1;f>=0;f-=1)u=this._listeningTo[f],c=!e||e===u.object,d=!a||a===u.event,h=!n||g[m]===u.callback,p=!l||l===u.attribute,c&&d&&h&&p&&(this._listeningTo[f].object._offInternal.apply(this._listeningTo[f].object,[this._listeningTo[f].event,this._listeningTo[f].callback,this._listeningTo[f].context,!0]),this._listeningTo.splice(f,1));return this},EventType:{ADD:"add",ALLADDED:"alladded",REMOVE:"remove",RESET:"reset",REFRESH:"refresh",SORT:"sort",CHANGE:"change",DESTROY:"destroy",ALLREMOVED:"allremoved",REQUEST:"request",SYNC:"sync",ERROR:"error",INVALID:"invalid",READY:"ready",ALL:"all"}};o.bind=o.on,o.unbind=o.off,o.Mixin=function(e,t){var n,r=t||this;for(n in r)"function"==typeof r[n]&&(e[n]=r[n]);e.eventHandlers={},e._listeningTo=[]},o._onceInternal=function(e,t,n,r,i){var o,s,a,l,u,c,d;c=this._getEventMap(e,t,n),u=c.map,d=c.context;var h=this;return Object.keys(u||{}).forEach(function(e){if(Object.prototype.hasOwnProperty.call(u,e))for(o=h._getEvents(e),s=0;s<o.length;s+=1)a=o[s].event,l=o[s].attribute,void 0===h.eventHandlers&&(h.eventHandlers=[]),void 0===h.eventHandlers[a]&&(h.eventHandlers[a]=[]),h.eventHandlers[a].push({callback:u[e],context:d,attribute:l,once:!0,fired:!1,listen:r,otherObj:i})}),this},o._shouldFire=function(e){return!e.once||!e.fired&&(e.fired=!0,!0)},o._getContext=function(e,t){return t.context||t.otherObj||e},o.TriggerInternal=function(e,t){var n,r,i,s,a,l,u,c,d,h=this._getEvents(t);for(s=[],n=0;n<h.length;n+=1)r=h[n].event,i=h[n].attribute,s.push({event:r,attribute:i});for(n=0;n<s.length;n+=1){for(c=this._getHandlers(this.eventHandlers,o.EventType.ALL),a=o._getHandlers(this.eventHandlers,s[n].event,!1),l=0;l<(a?a.length:0);l+=1)a[l].attribute===s[n].attribute&&a[l].callback&&(u=Array.prototype.slice.call(arguments),a&&a[l]&&a[l].once&&(this._removeHandler(o._getHandlers(this.eventHandlers,s[n].event,!0),a[l]),a[l].otherObj&&a[l].otherObj.stopListening(this,t,a[l].callback)),a&&a[l]&&this._shouldFire(a[l])&&(d=a[l].callback,e&&!a[l].ignoreSilent||d.apply(o._getContext(this,a[l]),u.slice(2))));for(l=0;l<(c?c.length:0);l+=1)(u=Array.prototype.slice.call(arguments)).length>0&&(s[n].attribute?u[1]=s[n].event+":"+s[n].attribute:u[1]=s[n].event),c&&c[l]&&c[l].callback&&this._shouldFire(c[l])&&(d=c[l].callback,e&&!c[l].ignoreSilent||d.apply(o._getContext(this,c[l]),u.slice(1))),c&&c[l]&&c[l].once&&(this._removeHandler(this._getHandlers(this.eventHandlers,o.EventType.ALL,!0),c[l]),c[l].otherObj&&c[l].otherObj.stopListening(this,o.EventType.ALL,c[l].callback))}return this},o.OnInternal=function(e,t,n,r,i){var s,a,l,u,c,d,h,p,f=this._getEventMap(e,t,n);for(p in s=f.map,h=f.context,s)if(s.hasOwnProperty(p))for(a=this._getEvents(p),l=0;l<a.length;l+=1)u=a[l].event,c=a[l].attribute,void 0===this.eventHandlers&&(this.eventHandlers=[]),void 0===this.eventHandlers[u]&&(this.eventHandlers[u]=[]),d={callback:s[p],context:h,attribute:c,listen:r,ignoreSilent:i},-1===this._checkForHandler(this.eventHandlers[u],d,o._handlersIdentical)&&this.eventHandlers[u].push(d);return this},o._offInternal=function(e,t,n,r){var i,o,s,a;if(null==arguments||0===arguments.length)return this.eventHandlers={},this;if(null==e)return this._removeEvent(e,t,n,r),this;for(a in i=(o=this._getEventMap(e,t,n)).map,s=o.context,i)i.hasOwnProperty(a)&&this._removeEvent(a,i[a],s,r);return this},o._getEventMap=function(e,t,n){var r={};return e.constructor!==String?{map:r=e,context:t}:(r[e]=t,{map:r,context:n})},o._removeEvent=function(e,t,n,r){var i,s,a,l,u,c,d,h,p,f=[];if(e)f=o._getEvents(e);else if(void 0!==this.eventHandlers){var _=this;Object.keys(this.eventHandlers||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(_.eventHandlers,e)&&f.push({event:e})})}for(i=0;i<f.length;i+=1)if(s=f[i].event,l=f[i].attribute,void 0!==this.eventHandlers&&this.eventHandlers[s]instanceof Array){for(a=(u=this.eventHandlers[s]).length-1;a>=0;a-=1)c=null==t||u[a].callback===t,d=null==n||u[a].context===n,h=null==l||u[a].attribute===l,p=null==r||u[a].listen===r,c&&d&&h&&p&&u.splice(a,1);0===u.length&&delete this.eventHandlers[s]}},o._removeHandler=function(e,t){var n,r,i,o,s,a;if(e)for(n=e.length-1;n>=0;n-=1)r=void 0===t.callback||null===t.callback||e[n].callback===t.callback,i=void 0===t.context||null===t.context||e[n].context===t.context,o=void 0===t.attribute||null===t.attribute||e[n].attribute===t.attribute,s=void 0===t.listen||null===t.listen||e[n].listen===t.listen,a=void 0===t.once||null===t.once||e[n].once===t.once,r&&i&&o&&s&&a&&e.splice(n,1)},o._getEvents=function(e){var t,n,r,i,o=e?e.split(" "):[],s=[];for(t=0;t<o.length;t+=1)r=(n=o[t].split(":"))[0],i=n.length>1?n[1]:null,s.push({event:r,attribute:i});return s},o._handlersIdentical=function(e,t){return e.callback===t.callback&&e.attribute===t.attribute&&e.context===t.context&&e.listen===t.listen&&e.once===t.once},o._listenersIdentical=function(e,t){return e.event===t.event&&e.attribute===t.attribute&&e.context===t.context&&e.object===t.object},o._checkForHandler=function(e,t,n){var r;if(void 0===e)return-1;for(r=0;r<e.length;r+=1)if(n(e[r],t))return r;return-1},o._getHandlers=function(e,t,n){if(e&&e[t]instanceof Array){if(n)return e[t];var r,i=[];for(r=0;r<e[t].length;r++)i.push(e[t][r]);return i}return null},t._registerLegacyNamespaceProp("Events",o);const s=function(){this.name="URLError",this.message="No URL defined"};t._registerLegacyNamespaceProp("URLError",s),s.prototype=new Error,s.constructor=s;const a=function(e,t){this.rootURL=e,this.model=t,this.customURL=t.customURL,r.support.cors=!0};t._registerLegacyNamespaceProp("RestImpl",a),a._HEADER_PROP="headers",a.addOptions=function(e,t,n){var i=r.extend(!0,e,n),o=t||{};return Object.keys(o).forEach(function(e){Object.prototype.hasOwnProperty.call(o,e)&&"oauthHeader"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||(i[e]=o[e]),e===a._HEADER_PROP&&(i[e]=r.extend(!0,i[e],o[e])))}),t&&t.oauthHeader&&(i[a._HEADER_PROP]||(i[a._HEADER_PROP]={}),Object.keys(t.oauthHeader||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(t.oauthHeader,e)&&(Object.prototype.hasOwnProperty.call(i[a._HEADER_PROP],e)||(i[a._HEADER_PROP][e]=t.oauthHeader[e]))})),i},a.prototype.getRecords=function(e,t,n,r){var i=n||{},o="jsonp"===i.dataType,s=this._getURL("read",this.rootURL,this.customURL,null,r,i),l={crossDomain:i.crossDomain||!o,dataType:this._getDataType(i),jsonpCallback:i.jsonpCallback,context:null!==r?r:this,success:e,error:t};return l=this._addHeaderProp(l),l=a.addOptions(l,i,s),i.xhr=this.ajax(l,r),i.xhr},a.prototype._addHeaderProp=function(e){var t=e||{};return this.model&&this.model.omitLanguageHeader||(t[a._HEADER_PROP]={"Accept-Language":this.getLocale()}),t},a.prototype.getRecord=function(e,t,n,r,i){var o=r||{},s="jsonp"===o.dataType,l=this._getURL("read",this.rootURL,this.customURL,n,i,o),u={crossDomain:o.crossDomain||!s,dataType:this._getDataType(o),jsonpCallback:o.jsonpCallback,context:null!==i?i:this,success:e,error:t};return u=this._addHeaderProp(u),u=a.addOptions(u,o,l),o.xhr=this.ajax(u,i),o.xhr},a.prototype.updateRecord=function(e,t,n,r,i,o,s){var l=i||{},u="jsonp"===l.dataType,c=this._getURL(s?"patch":"update",this.rootURL,this.customURL,t,o,l),d=a._emulateHTTP(l),h={crossDomain:l.crossDomain||!u,contentType:this._getContentType(l),dataType:this._getDataType(l),jsonpCallback:l.jsonpCallback,data:this._getData(JSON.stringify(n),l,c),emulateHTTP:d,emulateJSON:a._emulateJSON(l),success:e,error:r,context:null!==o?o:this};return h=this._addHeaderProp(h),h=a.addOptions(h,l,c),h=a._beforeSendMod(d,h),l.xhr=this.ajax(h,o),l.xhr},a._beforeSendMod=function(e,t){var n=t||{};if(e){var r=n.beforeSend;n.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",n._method),r?r.apply(this,arguments):null}}return n},a.prototype._getData=function(e,t,n){if(a._emulateJSON(t)){var r={_method:n._method?n._method:n.type};return e&&(r.model=e),r}return e},a.prototype._getHTTPMethod=function(e,t){if(t.type)return{method:t.type};var n=null;return"create"===e&&(n="POST"),"delete"===e&&(n="DELETE"),"patch"===e&&(n="PATCH"),"update"===e&&(n="PUT"),a._emulateHTTP(t)?{method:"POST",_method:n}:(null===n&&(n="GET"),{method:n})},a._emulateHTTP=function(e){return e.emulateHTTP||t.emulateHTTP},a._emulateJSON=function(e){return e.emulateJSON||t.emulateJSON},a.prototype._getURL=function(e,n,i,o,s,l){var u=this._getHTTPMethod(e,l);if(r.isFunction(i)){var c=i.call(this,e,s,a.SetCustomURLOptions(o,s,l));if(t.StringUtils.isString(c)){var d={url:c,type:u.method};return u._method&&(d._method=u._method),d}if(c)return c.url=Object.prototype.hasOwnProperty.call(c,"url")?c.url:n,Object.prototype.hasOwnProperty.call(c,"type")||(c.type=u.method),Object.prototype.hasOwnProperty.call(c,"data")||u._method&&(c._method=u._method),c}var h={url:a.GetPropValue(null,n),type:u.method};return u._method&&(h._method=u._method),h},a.prototype.deleteRecord=function(e,t,n,r){var i=n||{},o="jsonp"===i.dataType,s=this._getURL("delete",this.rootURL,this.customURL,e,r,i),l=a._emulateHTTP(i),u=a._emulateJSON(i),c={crossDomain:i.crossDomain||!o,success:i.success,error:t,context:null!==r?r:this,emulateHTTP:l,emulateJSON:u},d=this._getData(null,i,s);return d&&(c.data=d),c=a.addOptions(c,i,s),c=a._beforeSendMod(l,c),i.xhr=this.ajax(c,r),i.xhr},a.prototype.addRecord=function(e,t,n,r){var i=n||{},o=JSON.stringify(e),s="jsonp"===i.dataType,l=this._getURL("create",this.rootURL,this.customURL,null,r,i),u=a._emulateHTTP(i),c={crossDomain:i.crossDomain||!s,contentType:i.contentType||"application/json",dataType:this._getDataType(i),jsonpCallback:i.jsonpCallback,data:this._getData(o,i,l),success:i.success,error:t,emulateHTTP:u,emulateJSON:a._emulateJSON(i),context:null!==r?r:this};return c=this._addHeaderProp(c),c=a.addOptions(c,i,l),i.xhr=this.ajax(c,r),i.xhr},a.prototype._getDataType=function(e){return a._emulateJSON(e)&&!a._emulateHTTP(e)?"application/x-www-form-urlencoded":e.dataType||"json"},a.prototype._getContentType=function(e){return a._emulateJSON(e)&&!a._emulateHTTP(e)?"application/x-www-form-urlencoded":e.contentType||"application/json"},a.prototype.getLocale=function(){return i.getLocale()},a.prototype.ajax=function(e,n){if(null===e.url||void 0===e.url)throw new s;var r=t.ajax(e);return n._addxhr&&n._addxhr(r),r},a.SetCustomURLOptions=function(e,n,r){var i=n instanceof t.Collection?n.ModifyOptionsForCustomURL(r):{};return e&&(i.recordID=e),i},a.GetPropValue=function(e,t){return e?r.isFunction(e[t])?e[t]():e[t]:r.isFunction(t)?t():t};const l=function(e,t){l._init(this,e,t,null)};t._registerLegacyNamespaceProp("Model",l),t.Object.createSubclass(l,t.Object,"oj.Model"),l.prototype.Init=function(){l.superclass.Init.call(this)},l.prototype.attributes={},l.prototype.defaults={},l.prototype.id=null,l.prototype.idAttribute="id",l.prototype.urlRoot=null,l.prototype.customURL=null,l.prototype.validate=null,l.prototype.validationError=null,l.prototype.omitLanguageHeader=!1,l._idCount=0,l._init=function(e,t,n,i){var s,a,u;if(!l._justExtending){e.Init(),o.Mixin(e),e._clearChanged(),e.previousAttrs={},e.nestedSet=!1,e.index=-1;var c=n||{};for(u in e.attributes={},e.defaults&&!c.ignoreDefaults&&(e.attributes=l._cloneAttributes(r.isFunction(e.defaults)?e.defaults():e.defaults,null)),i)Object.prototype.hasOwnProperty.call(i,u)&&(e[u]=i[u]);if(t)if(s=c.parse,r.isFunction(s)&&(e.parse=s),a=l._cloneAttributes(t,e.attributes),e.attributes=a,null==(a=s?e.parse(a):a)||void 0===a)e.attributes={};else for(u in a)Object.prototype.hasOwnProperty.call(a,u)&&e._setProp(u,a[u],!1,!1,c,!0);e.SetCid(),e.SetCollection(c.collection),c.customURL&&(e.customURL=c.customURL),c.url&&(e.url=c.url),c.urlRoot&&(e.urlRoot=c.urlRoot),e.initialize&&e.initialize(t,c),e.SetupId()}},l.extend=function(e,t){var n;l._justExtending=!0,n=new l,l._justExtending=!1,r.extend(n,this.prototype);var i,s=e||{};return Object.keys(s).forEach(function(e){Object.prototype.hasOwnProperty.call(s,e)&&(n[e]=s[e])}),i=s&&s.constructor&&Object.prototype.hasOwnProperty.call(s,"constructor")?s.constructor:function(e,t){l._init(this,e,t,s)},r.extend(i,this),i.prototype=n,i.extend=l.extend,i.prototype.constructor=i,o.Mixin(i,this),t&&Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}),i},l.prototype.TriggerInternal=function(e,t,n,r,i){},l.prototype.SetCid=function(){this.GetCid()||(this.cid="id"+l._idCount,l._idCount+=1)},l.prototype.GetCid=function(){return this.cid},l.prototype.SetIndex=function(e){this.index=e},l.prototype.GetIndex=function(){return this.index},l.prototype.SetNext=function(e){var t=this.nextModel;return this.nextModel=e,t},l.prototype.GetNext=function(){return this.nextModel},l.prototype.SetPrevious=function(e){var t=this.previousModel;return this.previousModel=e,t},l.prototype.GetPrevious=function(){return this.previousModel},l.prototype.Merge=function(e,n,r){var i,o=!1,s=t.StringUtils.isString(n),a=!1,l=this;return Object.keys(e.attributes||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(e.attributes,t)&&(i=l.attributes[t]!==e.attributes[t],s?t===n&&i&&(o=!0):i&&(o=!0),i&&(a=!0,l.attributes[t]=e.attributes[t],l._addChange(t,e.attributes[t]),l._fireAttrChange(t,l.attributes[t],null,r)))}),this.SetupId(),a&&this._fireChange(null,r),o},l._hasProperties=function(e){var t;if(e&&e instanceof Object)for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1},l.prototype.SetCollection=function(e){null!=e?(this.collection=e,this.SetupId()):delete this.collection},l.prototype.GetCollection=function(){return this.collection},l.prototype._fireAttrChange=function(e,t,n,r){null!=e&&this.TriggerInternal(r,o.EventType.CHANGE+":"+e,this,t,n)},l.prototype._fireChange=function(e,t){this.TriggerInternal(t,o.EventType.CHANGE,this,e,null)},l.prototype.SetupId=function(){var e=null;if(this.collection&&this.collection.modelId){var t=this.collection.modelId;e=r.isFunction(t)?t.call(this.collection,this.attributes):t}if(!e){var n=this._getIdAttr();e=null!=this.attributes?this.attributes[n]:null}this.id=e},l.prototype._setPropInternal=function(e,n,r){var i=t.Object.__innerEquals(this.attributes[e],n);return!(!r&&i)&&(this.attributes[e]=n,this.SetupId(),!i)},l.prototype._clearChanged=function(){this.changed={}},l.prototype._addChange=function(e,t){this.changed[e]=t},l.prototype._setProp=function(e,t,n,r,i,o){if(null==e)return!0;var s,a={},u=this.nestedSet;if(r?Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}):a[e]=t,s=i||{},!this._checkValid(a,{validate:s.validate},!1))return!1;u||(this._clearChanged(),this.changes=[]),this.nestedSet||o||(this.previousAttrs=l._cloneAttributes(this.attributes,null)),this.nestedSet=!0;var c=this;Object.keys(a).forEach(function(e){Object.prototype.hasOwnProperty.call(a,e)&&(c._setPropInternal(e,a[e],n)?(c._addChange(e,a[e]),c.changes.push(e)):delete a[e])});var d=s.silent;if(Object.keys(a).forEach(function(e){Object.prototype.hasOwnProperty.call(a,e)&&(!d&&(c.changes.length>0||u&&-1===c.changes.indexOf(e))&&(c.pendingChanges=!0,c.pendingOpts=s),c._fireAttrChange(e,a[e],s,d))}),u)return!0;if(!d&&!u)for(;this.pendingChanges;)this.pendingChanges=!1,this._fireChange(this.pendingOpts,d);return this.nestedSet=!1,!0},l.prototype.clear=function(e){var t,n,r={silent:!0},i=e||{};t=i.silent,r.validate=i.validate,this._clearChanged();for(n in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,n)){if(!this._unsetInternal(n,r,!0))return!1;this.TriggerInternal(t,o.EventType.CHANGE+":"+n,this,void 0,null)}return this.attributes={},this.SetupId(),this._fireAttrChange(null,null,null,t),this._fireChange(null,t),this},l._cloneAttributes=function(e,n){var i,o,s=n||{},a=!0;if(("object"==typeof s?Object.keys(s):[]).length>0){for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&Object.prototype.hasOwnProperty.call(e,i)&&void 0===e[i]&&delete e[i];return t.CollectionUtils.copyInto(s,e,void 0,!0,1e4),s}for(i in e)if("function"===(o=r.type(e[i]))||"undefined"===o||"date"===o||"array"===o||"object"===o){a=!1;break}return a?s=JSON.parse(JSON.stringify(e)):"object"==typeof e&&t.CollectionUtils.copyInto(s,e,void 0,!0,1e4),s},l.prototype.clone=function(){var e,t=new this.constructor;for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&this[e]!==this.attributes&&(t[e]=this[e]);return t.attributes=l._cloneAttributes(this.attributes,null),delete t.cid,t.SetCid(),t.SetupId(),t},l.prototype.Match=function(e,t){var n,r=this.GetId();return void 0!==r&&r==e||void 0!==(n=this.cid)&&n==t},l.prototype.set=function(e,n,r){var i,o=r||{},s=!0;if(arguments&&arguments.length>0)if(t.StringUtils.isString(e))o.unset?this._unsetInternal(e,null,!1):this._setProp(e,n,!1,!1,o,!1)||(s=!1);else if((o=n||{}).unset)for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&this._unsetInternal(i,null,!1);else this._setProp(e,null,!0,!0,o,!1)||(s=!1);return!!s&&this},l.prototype.unset=function(e,t){return this._unsetInternal(e,t,!1)},l.prototype._unsetInternal=function(e,t,n){var r=t||{},i=r.silent;if(this.has(e)){if(!this._checkValid({},r,!1))return!1;n||this._clearChanged(),delete this.attributes[e],this._addChange(e,void 0),this._fireAttrChange(e,null,null,i),this._fireChange(null,i)}return this.SetupId(),!0},l.prototype.get=function(e){return this.attributes[e]},l.prototype.has=function(e){return t.Collection._defined(this.attributes[e])},l.prototype.fetch=function(e){var t,n=e||{},i=n.success,o=n.error,s=this;return(t=l._copyOptions(n)).error=function(t,r,i){l._triggerError(s,!1,n,r,i,t),o&&o.apply(s,[s,i,e,t,r])},t.success=function(e){t.xhr&&(n.xhr=t.xhr),l._fireSyncEvent(s,e,t,!1),r.isFunction(s.parse)&&s.set(s.parse(e),t),i&&i.call(l.GetContext(t,s),s,e,n)},l._internalSync("read",this,t)},l.prototype._parseImpl=function(e){return e},l.prototype.parse=l.prototype._parseImpl,l.prototype.url=function(){var e,t,n=this._getUrlRoot(),r=this.GetId();if(n)return r?n+"/"+encodeURIComponent(r):n;if(e=this.collection)return t=a.GetPropValue(e,"url"),r&&t?t+("/"===l._getLastChar(t)?"":"/")+encodeURIComponent(this.GetId()):t;throw new s},l.prototype.keys=function(){var e=[],t=this;return Object.keys(t.attributes||{}).forEach(function(n){Object.prototype.hasOwnProperty.call(t.attributes,n)&&e.push(n)}),e},l.prototype.values=function(){var e=[],t=this;return Object.keys(t.attributes||{}).forEach(function(n){Object.prototype.hasOwnProperty.call(t.attributes,n)&&e.push(t.get(n))}),e},l.prototype.pairs=function(){var e,t=[],n=this;return Object.keys(n.attributes||{}).forEach(function(r){Object.prototype.hasOwnProperty.call(n.attributes,r)&&((e=[]).push(r),e.push(n.get(r)),t.push(e))}),t},l.prototype.omit=function(e){var t,n=[],r={};if(e instanceof Array)n=e;else for(t=0;t<arguments.length;t++)n.push(arguments[t]);var i=this;return Object.keys(i.attributes||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(i.attributes,e)&&-1===n.indexOf(e)&&(r[e]=i.get(e))}),r},l.prototype.pick=function(e){var t,n=[],r={};if(e instanceof Array)n=e;else for(t=0;t<arguments.length;t++)n.push(arguments[t]);for(t=0;t<n.length;t++)Object.prototype.hasOwnProperty.call(this.attributes,n[t])&&(r[n[t]]=this.get(n[t]));return r},l.prototype.invert=function(){var e,t={},n=this;return Object.keys(n.attributes||{}).forEach(function(r){Object.prototype.hasOwnProperty.call(n.attributes,r)&&(e=n.get(r),t[e]=r)}),t},l._getLastChar=function(e){return e.charAt(e.length-1)},l.prototype._saveUrl=function(){var e=this._getUrlRoot();return e||(this.GetCollection()?this.GetCollection().url:null)},l.prototype._getUrlRoot=function(){return a.GetPropValue(this,"urlRoot")},l.prototype._parseSaveImpl=function(e){return e},l.prototype.parseSave=l.prototype._parseSaveImpl,l.prototype.isValid=function(){var e={validate:this.validate};return this._checkValid(this.attributes,e,!1)},l._isValidateSet=function(e,t){var n=e||{};return void 0!==n.validate&&null!==n.validate?n.validate:t},l.prototype._checkValid=function(e,t,n){var r=t||{},i=this.validate;return!(i&&l._isValidateSet(r,n)&&(this.validationError=i.call(this,e,r),this.validationError))||(this.TriggerInternal(!1,o.EventType.INVALID,this,this.validationError,r),!1)},l._processArgs=function(e){var n,r=!1,i={},o={};if(e&&e.length>0){if(e.length>1&&e[e.length-1]&&l._hasProperties(e[e.length-1])&&(r=!0,i=e[e.length-1]||{}),null==e[0])return{attributes:null,options:i};if(l._hasProperties(e[0])||t.Object.isEmpty(e[0]))Object.keys(e[0]).forEach(function(t){Object.prototype.hasOwnProperty.call(e[0],t)&&(o[t]=e[0][t])});else for(n=0;n<e.length;n+=2)(void 0!==e[n]||n<e.length-1||!r&&n===e.length-1)&&(o[e[n]]=e[n+1])}return{attributes:o,options:i}},l._copyOptions=function(e){var t={},n=e||{};return Object.keys(n).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}),t},l._triggerError=function(e,t,n,r,i,s){var a=n||{};a.textStatus=r,a.errorThrown=i,e.TriggerInternal(t,o.EventType.ERROR,e,s,a)},l.prototype.save=function(e,n){var i,o,s,a,u,c,d,h,p,f=l._processArgs(arguments);p=void 0===e?void 0:f.attributes;var _=n||{};d=l._copyOptions(f.options);var m=r.extend(!0,{},this.attributes,p);return!!this._checkValid(m,d,!0)&&(d.wait||this.set(p),i=void 0!==d.forceNew&&d.forceNew,a=this,u=d.error,c=d.patch,d.error=function(e,t,r){l._triggerError(a,!1,_,t,r,e),u&&u.apply(a,[a,r,n,e,t])},d.saveAttrs=d.wait?this._attrUnion(p):this.attributes,h=this.attributes,this.attributes=d.saveAttrs,d.saveAttrs=this.toJSON(),this.attributes=h,i||this.isNew()?(s=l._getSuccess(d),d.success=function(e){var n;if(d.xhr&&(_.xhr=d.xhr),e&&!t.Object.isEmpty(e)){if(n=r.isFunction(a.parse)?a.parse(e):e,!a._checkValid(n,d,!0))return;a.attributes=r.extend(!0,a.attributes,n),d.wait&&Object.keys(p||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&(p[e]=n[e])}),a.SetupId()}l._fireSyncEvent(a,e,d,!1),d.wait&&a.set(p),s&&s.call(l.GetContext(d,a),a,e,_),a._clearChanged()},d.attrs||(d.attrs=d.saveAttrs),d.parse=!0,c&&(d.saveAttrs=d.attrs),l._internalSync("create",this,d)):(o=d.success,d.success=function(e){var n;d.xhr&&(_.xhr=d.xhr),e&&!t.Object.isEmpty(e)&&(n=r.isFunction(a.parse)?a.parse(e):e,a.attributes=r.extend(!0,a.attributes,n),d.wait&&Object.keys(p||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&(p[e]=n[e])}),a.SetupId()),l._fireSyncEvent(a,e,d,!1),d.wait&&a.set(p),o&&o.call(l.GetContext(d,a),a,e,_),a._clearChanged()},d.attrs||(d.attrs=void 0===p?void 0:c?p:d.saveAttrs),l._internalSync(c?"patch":"update",this,d)))},l.prototype._attrUnion=function(e){var t={},n=this;return Object.keys(n.attributes||{}).forEach(function(e){Object.prototype.hasOwnProperty.call(n.attributes,e)&&(t[e]=n.attributes[e])}),Object.keys(e||{}).forEach(function(n){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t},l.IsComplexValue=function(e){return e&&Object.prototype.hasOwnProperty.call(e,"value")&&Object.prototype.hasOwnProperty.call(e,"comparator")},l.prototype._hasAttrs=function(e){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(!Object.prototype.hasOwnProperty.call(this.attributes,n))return!1;for(var r=Array.isArray(e[n])?e[n]:[e[n]],i=0;i<r.length;i++)if(l.IsComplexValue(r[i])){var o=r[i].comparator,s=r[i].value;if(t.StringUtils.isString(o))throw new Error("String comparator invalid for local where/findWhere");if(!o(this,n,s))return!1}else if(e[n]!==this.attributes[n])return!1}return!0},l.prototype.matches=function(e){return function(t){for(var n in e)if(t.get(n)!==e[n])return!1;return!0}(this)},l.prototype.Contains=function(e){var t,n=e.constructor===Array?e:[e];for(t=0;t<n.length;t++)if(this._hasAttrs(n[t]))return!0;return!1},l._getSuccess=function(e){return null!=e&&e.success?e.success:null},l.GetContext=function(e,t){return void 0!==e&&void 0!==e.context?e.context:t},l.prototype.isNew=function(){return void 0===this.GetId()},l.prototype._getIdAttr=function(){return this.idAttribute||"id"},l.prototype.GetId=function(){return this.id},l.prototype.changedAttributes=function(e){if(e){var n={},r=this;return Object.keys(e).forEach(function(i){Object.prototype.hasOwnProperty.call(e,i)&&(t.Object.__innerEquals(e[i],r.attributes[i])||(n[i]=e[i]))}),!t.Object.isEmpty(n)&&n}return!t.Object.isEmpty(this.changed)&&this.changed},l.prototype.hasChanged=function(e){return void 0!==e?l._hasProperties(this.changed)&&Object.prototype.hasOwnProperty.call(this.changed,e):l._hasProperties(this.changed)},l.prototype.destroy=function(e){var n,r,i,s=e||{},a=s.wait,u=s.error,c=this;i=l._copyOptions(s),n=l._getSuccess(i);var d=this.GetCollection();return i.success=function(e){if(i.xhr&&(s.xhr=i.xhr),d){var r=t.StringUtils.isString(e)&&!t.StringUtils.isEmpty(e)?JSON.parse(e):e;d._setPagingReturnValues(r,null,e,!0)}a&&c._fireDestroy(!1),l._fireSyncEvent(c,e,i,!1),n&&n.call(l.GetContext(i,c),c,e,s)},i.error=function(t,n,r){c.TriggerInternal(!1,o.EventType.ERROR,c,t,s),u&&u.apply(c,[c,r,e,t,n])},this.isNew()?(a||this._fireDestroy(!1),n&&n.call(l.GetContext(i,c),c,null,s),!1):(r=l._internalSync("delete",this,i),a||this._fireDestroy(!1),r)},l.prototype._fireRequest=function(e,t,n,r){this.TriggerInternal(r,o.EventType.REQUEST,e,t,n)},l.prototype._fireDestroy=function(e){this.TriggerInternal(e,o.EventType.DESTROY,this,this.collection,null)},l._fireSyncEvent=function(e,t,n,r){e.TriggerInternal(r,o.EventType.SYNC,e,t,n)},l.prototype.toJSON=function(){var e={},t=this;return Object.keys(t.attributes||{}).forEach(function(n){Object.prototype.hasOwnProperty.call(t.attributes,n)&&(Array.isArray(t.attributes[n])?e[n]=t.attributes[n].slice(0):e[n]=t.attributes[n])}),e},l.prototype.previous=function(e){return this.previousAttrs[e]},l.prototype.previousAttributes=function(){return this.previousAttrs},l.prototype.sync=function(e,n,r){return t.sync(e,n,r)},l._internalSync=function(e,t,n){var r=n||{};t.oauth&&(r.oauthHeader=t.oauth.getHeader()),!r.dataType&&t.dataType&&(r.dataType=t.dataType),!r.jsonpCallback&&t.jsonpCallback&&(r.jsonpCallback=t.jsonpCallback),"create"!==e&&"patch"!==e&&"update"!==e||(r.parsedData=t.parseSave.call(t,"patch"===e?r.attrs:r.saveAttrs));var i=null;t instanceof l&&(i=t.GetId());var o={};Object.keys(r).forEach(function(e){o[e]=r[e]});var s=a.SetCustomURLOptions(i,t,r);return Object.keys(s||{}).forEach(function(e){o[e]=s[e]}),r.xhr=t.sync(e,t,o),o.xhr&&(r.xhr=o.xhr),r.xhr};const u=function(e,t,n){var r,i=n||{};function o(e){return t._fireRequest(t,e,i,i.silent),e}var s,u=i.success,c=i.error;if("create"===e.valueOf())return s=(s=t._saveUrl())||a.GetPropValue(t,"url"),o((r=new a(s,t)).addRecord(i.parsedData,c,i,t));if("read"===e.valueOf())return t instanceof l?(s=i.url?i.url:a.GetPropValue(t,"url"),o((r=new a(s,t)).getRecord(u,c,t.GetId(),i,l.GetContext(i,t)))):(s=t.GetCollectionFetchUrl(i),o((r=new a(s,t)).getRecords(u,c,i,t)));r=new a(a.GetPropValue(t,"url"),t);var d=null;return t instanceof l&&(d=t.GetId()),"update"===e.valueOf()?o(r.updateRecord(u,d,i.parsedData,c,i,t,!1)):"patch"===e.valueOf()?o(r.updateRecord(u,d,i.parsedData,c,i,t,!0)):"delete"===e.valueOf()?o(r.deleteRecord(d,c,i,t)):null};t._registerLegacyNamespaceProp("sync",u),l._urlError=function(e){if(!e.url)throw new Error("The url property or function must be specified")};const c=function(e){return arguments&&arguments.length>0&&l._urlError(arguments[0]),r.ajax.apply(t,arguments)};t._registerLegacyNamespaceProp("ajax",c);const d=function(e,t){d._justExtending||d._init(this,e,t,null)};t._registerLegacyNamespaceProp("Collection",d),t.Object.createSubclass(d,t.Object,"oj.Collection"),d.prototype.model=null,d.prototype.modelId=function(e){var t=this.model;return t&&e?e[t.idAttribute||t.prototype.idAttribute||"id"]:null},d.prototype.length=null,d.prototype.models=null,d.prototype._modelIndices=[],d.prototype.url=null,d.prototype.changes=[],d.prototype.customURL=null,d.prototype.customPagingOptions=null,d.prototype.lastFetchSize=null,d.prototype.hasMore=!1,d.prototype.totalResults=null,d.prototype.lastFetchCount=null,d.prototype.modelLimit=-1,d.prototype.offset=null,d.prototype.fetchSize=-1,d.prototype.sortDirection=1,d.prototype.comparator=null,d.prototype.omitLanguageHeader=!1,d.prototype.Init=function(){d.superclass.Init.call(this)},d.extend=function(e,t){var n,i=null;return d._justExtending=!0,i=new d,d._justExtending=!1,r.extend(i,this.prototype),n=e&&e.constructor&&Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(t,n){d._init(this,t,n,e)},t&&Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),e&&Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}),r.extend(n,this),n.prototype=i,n.extend=d.extend,n.prototype.constructor=n,n},d._init=function(e,t,n,r){var i,s,a,l;if(e.Init(),o.Mixin(e),r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);var u=n||{};for(s=["comparator","customPagingOptions","customURL",d._FETCH_SIZE_PROP,"model","modelLimit","sortDirection","url"],i=0;i<s.length;i++)Object.prototype.hasOwnProperty.call(u,s[i])&&void 0!==u[s[i]]&&(e[s[i]]=u[s[i]]);void 0===e._getFetchSize(null)&&e.setFetchSize(-1),void 0===e.modelLimit&&e.setModelLimit(-1),e.hasMore=!1,e.lruCount=0,e._setModels([],!0);var c=t;u.parse&&(c=e.parse(t)),null!=c&&(u.noparse=!0,a=c instanceof Array?c:[c],e._addInternal(a,u,!0,!1)),e._setLength(),c||(e.totalResults=void 0),r&&r.initialize&&r.initialize.call(e,c,u)},d.prototype.on=function(e,t){},d.prototype.OnInternal=function(e,t,n,r,i){},d.prototype.TriggerInternal=function(e,t,n,r,i){},d.prototype._fireRequest=function(e,t,n,r){this.TriggerInternal(r,o.EventType.REQUEST,e,t,n)},d.prototype._resetChanges=function(){this.changes=[]},d.prototype._setChangeAt=function(e,t){for(var n=e;n<e+t;n++)-1===this.changes.indexOf(n)&&this.changes.push(n)},d.prototype._setModels=function(e,t){if(this.models=e,t)this._modelIndices=[],this._resetChanges();else for(var n=0;n<e.length;n++)e[n]&&this._modelIndices.push(n)},d.prototype._getModels=function(){return this.models},d.prototype._getModelsLength=function(){return this._getModels().length},d.prototype._overUpperLimit=function(e){return!(e<this._getModelsLength())&&!(this.IsVirtual()&&(!this._hasTotalResults()||0===this._getModelsLength()))},d.prototype._hasTotalResults=function(){return d._defined(this.totalResults)},d._defined=function(e){return null!=e},d.prototype._pushModel=function(e){this._getModels().push(e),this._modelIndices.push(this._getModelsLength()-1),this._setChangeAt(this._getModelsLength()-1,1)},d.prototype._pushModels=function(e){this._makeModelHead(e),this._pushModel(e),this.lruCount+=1,e.SetIndex(this._getModelsLength()-1)},d.prototype._reduceLRU=function(e){if(e)for(var t=0;t<e.length;t++)e[t]&&(this.lruCount-=1)},d.prototype._spliceModels=function(e,t,n){for(var r=e;r<e+t;r++)this._removePrevNext(this._getModel(r));void 0===n?(this._reduceLRU(this._getModels().splice(e,t)),this._spliceModelIndices(e,e+t-1)):(this._reduceLRU(this._getModels().splice(e,t,n)),this._spliceModelIndices(e,e+t-1),this._insertModelIndex(e),this._makeModelHead(n)),this._setChangeAt(e,t),this.lruCount<0&&(this.lruCount=0),this._realignModelIndices(e)},d.prototype._getModel=function(e){return this._getModels()[e]},d.prototype._realignModelIndices=function(e){for(var t,n=0;n<this._modelIndices.length;n++)(t=this._modelIndices[n])>=e&&this._getModel(t)&&this._getModel(t).SetIndex(t)},d.prototype._removePrevNext=function(e){if(e){var t=e.GetPrevious(),n=e.GetNext();t?t.SetNext(n):this.head=n,n?n.SetPrevious(t):this.tail=t}},d.prototype._makeModelHead=function(e){e.SetNext(this.head),this.head?this.head.SetPrevious(e):this.tail=e,e.SetPrevious(null),this.head=e},d.prototype._setModelIndex=function(e){-1===this._modelIndices.indexOf(e)&&this._modelIndices.push(e)},d.prototype._insertModelIndex=function(e){for(var t=0;t<this._modelIndices.length;t++)this._modelIndices[t]>=e&&(this._modelIndices[t]+=1);this._modelIndices.push(e)},d.prototype._spliceModelIndices=function(e,t){var n=void 0===t?e:t;this._clearModelIndices(e,n);for(var r=n-e+1,i=0;i<this._modelIndices.length;i++)this._modelIndices[i]>n&&(this._modelIndices[i]-=r)},d.prototype._clearModelIndices=function(e,t){for(var n=void 0===t?e:t,r=e;r<=n;r++){var i=this._modelIndices.indexOf(e);i>-1&&this._modelIndices.splice(i,1)}},d.prototype._setModel=function(e,t){var n=this._getModel(e);this._removePrevNext(n),n||(this.lruCount+=1),this._setChangeAt(e,1),this._getModels()[e]=t,t&&(this._setModelIndex(e),t.SetIndex(e),this._makeModelHead(t))},d.prototype._clearOutModels=function(e){var t,n,r=this.tail,i=0;for(this.tail=null;r&&i<e;)t=r.GetIndex(),(n=this._getModel(t))&&n.hasChanged()?(this.tail||(this.tail=r),r=r.GetPrevious()):(this.lruCount-=1,t>-1&&(this._setModel(t,void 0),this._clearModelIndices(t,t)),r.SetNext(null),r=r.SetPrevious(null),i+=1);this.tail||(this.tail=r),this.lruCount<0&&(this.lruCount=0),0===this.lruCount&&(this.head=null,this.tail=null)},d.prototype._resetLRU=function(){this.lruCount=0,this.head=null,this.tail=null},d.prototype._manageLRU=function(e){if(this.IsVirtual()){var t=this._getModelLimit();t>-1&&this.lruCount+e>t&&this._clearOutModels(this.lruCount+e-t)}},d.prototype.clone=function(){return this._cloneInternal(!0)},d.prototype._cloneInternal=function(e){var t,n,r=new this.constructor;if(this.IsVirtual()&&(r=this._copyFetchProperties(r))._resetModelsToFullLength(this.totalResults),r=this._copyProperties(r),e){var i,o=[];for(t=0;t<this._modelIndices.length;t++)o.push(this._modelIndices[t]);for(o.sort(function(e,t){return e-t}),t=0;t<o.length;t++)i=o[t],(n=this._atInternal(i,null,!0,!1))&&r._addInternal(n.clone(),{at:i},!0,!1)}return r},d.prototype._copyProperties=function(e){var t,n,r=["comparator","model","modelId"];for(n=0;n<r.length;n++)e[t=r[n]]=this[t];return e},d.prototype._copyFetchProperties=function(e){var t,n,r=["totalResults","hasMore",d._FETCH_SIZE_PROP];for(n=0;n<r.length;n++)e[t=r[n]]=this[t];return e},d.prototype._getLength=function(){return this.length},d.prototype._setLength=function(){var e=this._getModelsLength();this.length=e,this.IsVirtual()||(this.totalResults=e)},d._createModel=function(e,t,n){return e.model?r.isFunction(e.model)?new e.model(t,n):new e.model.constructor(t,n):null},d.prototype._newModel=function(e,t,n,r){var i,s=null,a=n||{};return a.ignoreDefaults=r,e instanceof l?s=e:this.model?s=d._createModel(this,e,a):(a.collection=this,s=new l(e,a)),a.validate&&s.validate&&(i=s.validate(s.attributes))?(a.validationError=i,this.TriggerInternal(!1,o.EventType.INVALID,s,i,a),null):s},d.prototype.add=function(e,t){this._manageLRU(1);var n=t||{};return this._handlePromise(this._addInternal(e,t,!1,n.deferred))},d.prototype._addInternal=function(e,r,i,s){var a,u,c,h=r||{},p=[],f=h.at,_=h.silent,m=h.force,g=h.merge||!1,v=h.sort,y=!0,E=!1,b=[],T=[];function S(e,r,s,a,l){var d,p=null;return!m&&g&&s?(y=s.Merge(r,e.comparator,_),p=s):(m||(d=i&&a.isNew()?void 0:e._getLocal(a))&&i&&f!==d.index&&n.warn("Duplicate ID fetched or added without merging, the id = "+d.GetId()),void 0===d?(!function(e,t){void 0===f?(e._pushModels(t),u=e._getModelsLength()-1,e._getModel(u).SetCid()):(u=f,e.IsVirtual()&&i?e._setModel(u,t):e._spliceModels(u,0,t),e._getModel(u).SetCid(),f+=1),void 0===t.GetCollection()&&t.SetCollection(e),e._setLength(),e._listenToModel(t),E=!0}(e,a),p=a):p=d),function(e,n,r,s,a){var l=h||{};i&&(l.fillIn=!0);var d=l.comparator||e._hasComparator();if((!i||i&&d)&&y&&void 0===n&&!v&&void 0===f&&e._getLength()>1){u>-1&&(c=e._getModel(u).cid);var p={};t.CollectionUtils.copyInto(p,l),p.add=!0,e.sort(p),u>-1&&(u=e.IsVirtual()?-1:e.indexOf(e.getByCid(c),a))}E&&(l.at&&(l.index=u),s?(s.TriggerInternal(_,o.EventType.ADD,s,e,l),b.push(s)):(r.TriggerInternal(_,o.EventType.ADD,r,e,l),b.push(r)))}(e,d,s,a,l),p}function C(e,t,n){E=!1;var r=e._newModel(t,!0,h,!1),o=null,s=null;if(null!=r){if(u=-1,r.SetupId(),o=t instanceof l?t:r,n)return m?new Promise(function(t){var i=S(e,o,void 0,r,n);T.push(i),t(i)}):e._getInternal(o,{silent:!0},n,!0).then(function(t){s=t.m;var i=S(e,o,s,r,n);T.push(i)});!m&&g&&(s=i?e._getLocal(o):e.get(o));var a=S(e,o,s,r,n);a&&T.push(a)}else T.push(!1);return Promise.resolve()}function P(e,t){return e.parse&&h.parse&&!h.noparse?e.parse(t):t}if(void 0!==f&&f<0&&(f+=this._getLength()+1),e instanceof Array?p=e:p.push(e),!i&&(this.IsVirtual()||s)){var O=this;return new Promise(function(e,t){var n=function(e){return new Promise(function(t,n){C(O,p[e],!0).then(function(){t(e+1)},n)})},r=Promise.resolve(0);for(p=P(O,p),a=0;a<p.length;a++)r=r.then(n);r.then(function(){b.length>0&&O.TriggerInternal(h.silent,o.EventType.ALLADDED,O,b,h),e(d._returnModels(T))},t)})}for(p=P(this,p),a=0;a<p.length;a++)C(this,p[a],!1);return b.length>0&&this.TriggerInternal(h.silent,o.EventType.ALLADDED,this,b,h),d._returnModels(T)},d._returnModels=function(e){return 1===e.length?e[0]:e},d.prototype._hasComparator=function(){return d._defined(this.comparator)},d.prototype.sort=function(e){var t,n,r=e||{},i=r.silent,s=this.comparator;if(!this._hasComparator())return null;if(this.IsVirtual()){var a=this.totalResults;this._hasTotalResults()?this._setModels(new Array(a),!0):(this._setModels([],!0),this._resetLRU(),this._setLength()),n=r.add?{add:!0}:null,this.TriggerInternal(i,o.EventType.SORT,this,n,null);var l=r.startIndex;return null!=l?this.setRangeLocal(l,this._getFetchSize(r)):null}return t=this,this._getModels().sort(function(e,n){return d.SortFunc(e,n,s,t,t)}),this._realignModelIndices(0),n=r.add?{add:!0}:null,this.TriggerInternal(i,o.EventType.SORT,this,n,null),null},d._getKey=function(e,t){return e instanceof l?e.get(t):a.GetPropValue(e,t)},d.SortFunc=function(e,n,i,o,s){var a,l,u,c;if(r.isFunction(i)){if(1===i.length){a=i.call(s,e),l=i.call(s,n);var h=t.StringUtils.isString(a)?a.split(","):[a],p=t.StringUtils.isString(l)?l.split(","):[l];for(u=0;u<h.length;u++)if(0!==(c=d._compareKeys(h[u],p[u],o.sortDirection)))return c}return i.call(s,e,n)}if(t.StringUtils.isString(i)){var f=i.split(",");for(u=0;u<f.length;u++)if(a=d._getKey(e,f[u]),l=d._getKey(n,f[u]),0!==(c=d._compareKeys(a,l,o.sortDirection)))return c}return 0},d.prototype.sortedIndex=function(e,n){var i,o,s=n||this.comparator;return s?(this._throwErrIfVirtual("sortedIndex"),i=this,o=function(e,n){var o,a;if(r.isFunction(s)){if(1===s.length){o=s.call(i,e),a=s.call(i,n);var l,u,c=t.StringUtils.isString(o)?o.split(","):[o],h=t.StringUtils.isString(a)?a.split(","):[a];for(u=0;u<c.length;u++)if(0!==(l=d._compareKeys(c[u],h[u],i.sortDirection)))return l}return s.call(i,e,n)}return t.StringUtils.isString(s)?(o=e.get(s),a=n.get(s),d._compareKeys(o,a,i.sortDirection)):0},d._find(this._getModels(),e,o)):-1},d._find=function(e,t,n){return function r(i,o){var s,a,l;return i>o?-1:(s=t.GetCid(),a=t.GetId(),e[i].Match(a,s)?i:e[o].Match(a,s)?o:(l=Math.floor((o+i)/2),-1===n(e[l],t)?r(i+1,l):1===n(e[l],t)?r(l,o-1):l))}(0,e.length-1)},d._compareKeys=function(e,t,n){if(-1===n){if(e<t)return 1;if(t<e)return-1}else{if(e>t)return 1;if(t>e)return-1}return 0},d.prototype.unshift=function(e,n){var r={};return t.CollectionUtils.copyInto(r,n||{}),r.at||(r.at=0),this._manageLRU(1),this._handlePromise(this._addInternal(e,r,!1,r.deferred))},d.prototype._handlePromise=function(e){return r.isFunction(e.then)?this._addPromise(function(){return e}):e},d.prototype.shift=function(e){var t,n=e||{},r=this._getDeferred(n);if(this.IsVirtual()||r){var i=this;return this._atInternal(0,n,!1,!0).then(function(e){return t=i._removeInternal(e,0,n),i.TriggerInternal(n.silent,o.EventType.ALLREMOVED,i,[t],n),t})}return t=this._removeInternal(this.at(0),0,n),this.TriggerInternal(n.silent,o.EventType.ALLREMOVED,this,[t],n),t},d.prototype.initial=function(e){var t=void 0===e?1:e;this._throwErrIfVirtual("initial");var n,r=[];for(n=0;n<this._getLength()-t;n+=1)r.push(this.at(n));return r},d.prototype._getDeferred=function(e){return(e||{}).deferred},d.prototype.last=function(e,t){var n,r=this._getDeferred(t),i=void 0===e?1:e;if(1===i)return 0===(n=this._getModelsLength())&&(n=i),n>0?this._atInternal(n-1,t,!1,r):null;var o,s=[];if(n=this._getLength(),r||this.IsVirtual()){var a=n-e;a<0&&(a=0),0===n&&(n=e);var l=this;return this._addPromise(function(){return l.IterativeAt(a,n)})}for(o=n-e;o<n;o+=1)s.push(this.at(o));return s},d.prototype.IterativeAt=function(e,t){var n,r=[],i=this;return new Promise(function(o,s){var a=function(e){return i.IsVirtual()&&i._hasTotalResults()&&e>=i.totalResults?Promise.resolve(e+1):new Promise(function(t,n){i._deferredAt(e,null).then(function(n){r.push(n),t(e+1)},n)})},l=Promise.resolve(e);for(n=e;n<t;n++)l=l.then(a);l.then(function(){o(r)},s)})},d.prototype._getDefaultFetchSize=function(e){return null==e?this[d._FETCH_SIZE_PROP]:e},d.prototype._calculateNextStart=function(){var e=this.lastFetchCount;return null==e&&(e=this[d._FETCH_SIZE_PROP]),void 0===this.offset||null===this.offset?e:this.offset+e},d.prototype.next=function(e,t){var n=t||{};n[d._FETCH_SIZE_PROP]=this._getDefaultFetchSize(e);var r=this._calculateNextStart(),i=this._getLength();if(0===i&&n[d._FETCH_SIZE_PROP]>0)r=0;else if(r>=i){return n.success&&n.success.call(l.GetContext(n,this),this,null,n),null}return n.startIndex=r,this.fetch(n)},d.prototype._calculatePrevStart=function(e){return void 0===this.offset||null===this.offset?0:this.offset-e},d.prototype.previous=function(e,t){var n=t||{};if(0===this.offset){return n.success&&this.lastFetchCount&&n.success.call(l.GetContext(n,this),this,null,n),null}n[d._FETCH_SIZE_PROP]=this._getDefaultFetchSize(e);var r=this._calculatePrevStart(n[d._FETCH_SIZE_PROP]);return r<0&&(n[d._FETCH_SIZE_PROP]=this.offset,r=0),n.startIndex=r,this.fetch(n)},d.prototype.setModelLimit=function(e){this.modelLimit=e,this._manageLRU(0)},d.prototype._getModelLimit=function(){return this.modelLimit},d.prototype.setFetchSize=function(e){this[d._FETCH_SIZE_PROP]=e},d.prototype.rest=function(e,t){var n,r=this._getDeferred(t),i=void 0===e?1:e,o=[];if(this.IsVirtual()||r){var s=this;return this._addPromise(function(){return s.IterativeAt(i,s._getLength())})}for(n=i;n<this._getLength();n+=1)o.push(this.at(n));return o},d.prototype.remove=function(e,t){var n,r=t||{},i=[];e instanceof Array?i=e:i.push(e);var s=[];for(n=i.length-1;n>=0;n-=1)s.unshift(this._removeInternal(i[n],-1,r));return this.TriggerInternal(r.silent,o.EventType.ALLREMOVED,this,i,r),d._returnModels(s)},d.prototype._removeInternal=function(e,n,r){var i=r||{},s=-1===n?this._getInternal(e):d._getModinfo(n,e),a=i.silent,l=s.index;if(l>-1){var u=s.m;void 0!==u&&u.GetCollection()===this&&u.SetCollection(null),this._spliceModels(l,1),this._setLength();var c={};t.CollectionUtils.copyInto(c,i),c.index=l,void 0!==u&&u.TriggerInternal(a,o.EventType.REMOVE,u,this,c),this._unlistenToModel(u)}return s.m},d.prototype._unlistenToModel=function(e){void 0!==e&&e.off(null,null,this)},d.prototype._listenToModel=function(e){e.OnInternal(o.EventType.ALL,this._modelEvent,this,!1,!0)},d.prototype._modelEvent=function(e,t,n,r){if(e===o.EventType.DESTROY&&this.remove(t),!(void 0!==n&&n instanceof d&&n!==this)){var i=r&&r.silent;this.TriggerInternal(i,e,t,n,r)}},d.prototype.refresh=function(e){var t,n=e||{},r=this;return this._addPromise(function(){return new Promise(function(e,i){if(!r.IsVirtual()){t=void 0!==n.silent&&n.silent;try{r.reset(null,{silent:!0});var a={};return Object.keys(n).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&(a[e]=n[e])}),a.success=function(n,i,s){r.TriggerInternal(t,o.EventType.REFRESH,r,s,null),e({collection:n,response:i,options:s})},a.error=function(e,t,o,s,a){i(d._createRejectionError(o,a,t,r,n,!1))},void r._fetchInternal(a,-1,!1)}catch(i){if(i instanceof s)return r.TriggerInternal(t,o.EventType.REFRESH,r,n,null),void e({collection:r,options:n});throw i}}var l=n.startIndex;r._setModels([],!0),r._resetLRU(),r.totalResults=void 0,r._setLength(),t=void 0!==n.silent&&n.silent,r.TriggerInternal(t,o.EventType.REFRESH,r,n,null),null==l&&(l=0),null!=l?r._setRangeLocalInternal(l,r._getFetchSize(n)).then(function(t){e(t)},function(e){i(e)}):e(void 0)})})},d.prototype.reset=function(e,n){var r,i,s={};t.CollectionUtils.copyInto(s,n||{}),s.previousModels=this._getModels();for(var a=0;a<this._modelIndices.length;a++)r=this._modelIndices[a],(i=this._getModel(r))&&(this._unlistenToModel(i),i.SetCollection(null));this._setModels([],!0),this._resetLRU();var l=void 0!==s.silent&&s.silent;if(!e)return this._setLength(),this.totalResults=void 0,this.TriggerInternal(l,o.EventType.RESET,this,s,null),null;var u,c=e;return s.parse&&(c=this.parse(e)),this._manageLRU(c instanceof Array?c.length:1),s.noparse=!0,u=this._addInternal(c,s,!0,!1),this._setLength(),this.TriggerInternal(l,o.EventType.RESET,this,s,null),this._handlePromise(u)},d.prototype.at=function(e,t){var n=this._getDeferred(t);return this._atInternal(e,t,!1,n)},d.prototype._atInternal=function(e,t,n,r){var i=e;if(i<0&&(i+=this._getLength()),i<0||this._overUpperLimit(i))return n||!this.IsVirtual()&&!r?null:this._addPromise(function(){return Promise.resolve(null)});var o=this;return n||!this.IsVirtual()&&!r?this._getModel(i):this._addPromise(function(){return o._deferredAt(i,t)})},d.prototype.whenReady=function(){return this._promises?this._promises:Promise.resolve()},d.prototype._addPromise=function(e){var t=this;return void 0===this._promises&&(this._promiseCount=0,this._promises=Promise.resolve()),this._promiseCount+=1,this._promises=this._promises.then(e.bind(t)).then(function(e){return t._promiseCount-=1,0===t._promiseCount&&(t._promises=void 0,t.TriggerInternal(!1,o.EventType.READY,t,null,null)),e},function(e){return t._promiseCount-=1,0===t._promiseCount&&(t._promises=void 0),Promise.reject(e)}),this._promises},d.prototype._addxhr=function(e){if(e&&e.abort){void 0===this._xhrs&&(this._xhrs=[]);var t=this;this._xhrs.push(e),e.done(function(){var n=t._xhrs?t._xhrs.indexOf(e):-1;n>-1&&t._xhrs.splice(n,1)})}},d.prototype.abort=function(){var e=this;function t(t,n){e._xhrs[t].then(function(r,i){"abort"===i&&(e._xhrs.splice(t,1),0===e._xhrs.length&&e.whenReady().then(function(){n(null)},function(){n(null)}))},function(){e._xhrs.splice(t,1),0===e._xhrs.length&&e.whenReady().then(function(){n(null)},function(){n(null)})})}return this._xhrs&&this._xhrs.length>0?new Promise(function(n){for(var r=e._xhrs.length-1;r>=0;r--)t(r,n),e._xhrs[r].abort()}):Promise.resolve()},d.prototype._deferredAt=function(e,n){var r=this,i=r._getModel(e);return new Promise(void 0===i?function(i,o){var s={};t.CollectionUtils.copyInto(s,n||{}),s.context=r,s.startIndex=e,s.error=function(e,t,i,s,a){o(d._createRejectionError(s,a,t,r,n,!1))},s.success=function(){i(r._getModel(e))},r._fetchInternal(s,-1,!1)}:function(e){e(i)})},d.prototype.getByCid=function(e){for(var t,n=this._getModels(),r=null,i=0;i<this._modelIndices.length;i++)if(n[t=this._modelIndices[i]]&&e===n[t].cid){r=n[t];break}if(r)return r;if(this.IsVirtual())throw new Error("Not found locally and not supported by server for virtual collections");return null},d.prototype.get=function(e,t){var n=this._getDeferred(t),i=this._getInternal(e,t,n);if(i){if(r.isFunction(i.then))return this._addPromise(function(){return new Promise(function(e,t){i.then(function(t){e(t.m)},function(e){t(e)})})});if(this.IsVirtual())return this._addPromise(function(){return new Promise(function(e){e(i.m)})});if(Object.prototype.hasOwnProperty.call(i,"m"))return i.m}return null},d.prototype._getLocal=function(e){var t=this._getLocalInternal(e);return t?t.m:null},d.prototype._getLocalInternal=function(e){var t=e,n=e;e instanceof l?(t=e.GetCid(),n=e.GetId()):d._defined(e)&&void 0!==e.id&&(n=e.id);for(var r,i,o=null,s=this._modelIndices.length,a=this._getModels(),u=0;u<s;u++)if(void 0!==(r=a[i=this._modelIndices[u]])&&r.Match(n,t)){o=d._getModinfo(i,r);break}return o||d._getModinfo(-1,void 0)},d.prototype._getInternal=function(e,n,r,i){var o=e,s=e,a=void 0!==i&&i;e instanceof l?(o=e.GetCid(),s=e.GetId()):d._defined(e)&&void 0!==e.id&&(s=e.id);for(var u,c=null,h=this._getModels(),p=0;p<this._modelIndices.length;p++)if(h[u=this._modelIndices[p]]&&h[u].Match(s,o)){var f=d._getModinfo(u,h[u]);c=f;break}if(c)return r?new Promise(function(e){e(c)}):c;if(this.IsVirtual()){if(void 0===s&&void 0!==o)return new Promise(function(e){e(d._getModinfo(-1,void 0))});var _=this;return new Promise(function(e,r){var i={};t.CollectionUtils.copyInto(i,n||{}),i.context=_,i.startID=s,i.error=function(e,t,i,o,s){r(d._createRejectionError(o,s,t,_,n,!1))},i.success=function(t,n){!function(t){if(null!=t){var n=_._getOffset(),r=_._getModel(n);void 0!==r&&r.Match(s,o)?e(d._getModinfo(n,r)):e(d._getModinfo(-1,void 0))}else e(d._getModinfo(-1,void 0))}(n)},_._fetchInternal(i,-1,a)})}var m=d._getModinfo(-1,void 0);return r?new Promise(function(e){e(m)}):m},d._getModinfo=function(e,t){return{index:e,m:t}},d.prototype._parseImpl=function(e){if(e instanceof Array)return e;if(!e)return e;var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t]instanceof Array)return e[t];return e},d.prototype.parse=d.prototype._parseImpl,d.prototype._checkActual=function(e,t,n){return!!(this._hasTotalResults()&&n.start+n.count>=this.totalResults)||n.start===e&&n.count===t},d.prototype.setRangeLocal=function(e,t,n){var r=this;return this._addPromise(function(){return r._setRangeLocalInternal(e,t,n)})},d.prototype._setRangeLocalInternal=function(e,t,n){this.IsVirtual()&&this._resetModelsToFullLength(this.totalResults);var r=this._getLocalRange(e,t),i=this;if(this._checkActual(e,t,r))return new Promise(function(e){e(r)});var o=this._getModelLimit();return o>-1&&o<t&&(this.modelLimit=t),new Promise(function(r,o){i._setRangeLocalFetch(e,t,-1,{start:e,count:t},r,o,!0,n)})},d.prototype._setRangeLocalFetch=function(e,t,n,r,i,o,a,l){var u=this,c=e,h=c+t;this[d._FETCH_SIZE_PROP]&&this[d._FETCH_SIZE_PROP]>t&&(h=this[d._FETCH_SIZE_PROP]+c);var p=null;if(this.IsVirtual()){var f=this._getFirstMissingModel(c,h);f>c&&(h=(c=f)+t,this[d._FETCH_SIZE_PROP]&&this[d._FETCH_SIZE_PROP]>t&&(h=this[d._FETCH_SIZE_PROP]+c)),p={context:this,startIndex:c,fetchSize:h-c}}else p={context:this};p.error=function(e,t,n,r,i){o(d._createRejectionError(r,i,t,u,null,!1))},p.success=function(){!function(){var e=u._getLocalRange(r.start,r.count);if(a&&u._hasTotalResults()&&e.count<r.count){var n=e.start+e.count,s=c+(u.lastFetchCount?u.lastFetchCount:t);s<u.totalResults?u._setRangeLocalFetch(s,t,n,r,i,o,a,l):i(e)}else i(e)}()},l&&l.silent&&(p.silent=l.silent);try{this._fetchInternal(p,n,n>-1)}catch(e){if(e instanceof s){var _=u._getLocalRange(c,t);i(_)}}},d._createRejectionError=function(e,t,n,r,i,o){var s=!1;i&&i.silent&&(s=i.silent),o&&l._triggerError(r,s,i,t,n,e);var a=new Error(t);return a.xhr=e,a.error=n,a.collection=r,a.status=t,a},d.prototype._getMaxLength=function(e,t){var n=this._getModelsLength();return 0===n?e+t:e+t>n?n:e+t},d.prototype.isRangeLocal=function(e,t){var n=this._getLocalRange(e,t);return 0===this._getModelsLength()?0===t:e===n.start&&(t===n.count||e+t>this._getModelsLength())},d.prototype._getModelArray=function(e,t){for(var n=[],r=this._getModels(),i=e+t,o=e;o<i;o++)n.push(r[o]);return n},d.prototype._getLocalRange=function(e,t){if(!this.IsVirtual()){if(this._getModelsLength()>0){if(e+t>this._getModelsLength()){var n=this._getModelsLength()-e;return{start:e,count:n,models:this._getModelArray(e,n)}}return{start:e,count:t,models:this._getModelArray(e,t)}}return{start:e,count:0,models:[]}}var r=this._getMaxLength(e,t);if(!this._hasTotalResults()&&r<e+t)return{start:e,count:r-e,models:this._getModelArray(e,r-e)};if(0===r)return{start:e,count:0,models:[]};var i=this._getFirstMissingModel(e,r);if(i>-1)return{start:e,count:i-e,models:this._getModelArray(e,i-e)};var o=t;return e>r?o=0:e+o>r&&(o=r-e),{start:e,count:o,models:this._getModelArray(e,o)}},d.prototype._getFirstMissingModel=function(e,t){for(var n=e;n<t;n++)if(void 0===this._getModel(n))return n;return-1},d.prototype.fetch=function(e){var t=this._fetchInternal(e,-1,!1);return this._addPromise(function(){return Promise.resolve(t)}),t},d.prototype._fetchInternal=function(e,t,n){function r(e,t,n,r){e.IsVirtual()?n||e._resetModelsToFullLength(r):t.add||t.useset||e.reset(null,{silent:!0})}var i,s=e||{},a=s.success,u=s.error;return s.set&&(s.useset=!!s.set),void 0===s.parse&&(s.parse=!0),i=this,s.error=function(t,n,r){l._triggerError(i,!1,e,n,r,t),u&&u.call(l.GetContext(e,i),i,r,e,t,n)},s.success=function(u){var c,h;try{c=i.parse(u,e)}catch(t){return void d._reportError(i,t,s.error,e)}i._setPagingReturnValues(u,e,c,n)||(h=i.totalResults);var p=null,f=!1,_=t;if(s.add||i.model){r(i,s,n,h);try{-1===t&&(f=!0,_=i._getOffset()),p=i._fillInCollectionWithParsedData(c,_,f,s)}catch(t){return void d._reportError(i,t,s.error,e)}}else n||(i.IsVirtual()?(r(i,s,n,h),-1===t&&(f=!0,_=i._getOffset()),p=i._putDataIntoCollection(c,_,f)):s.useset?i._setInternal(c,!1,s,!1):i.reset(c,{silent:!0}));i.IsVirtual()&&p&&(i.lastFetchCount=p.length);var m=!!s.silent;i.TriggerInternal(m,o.EventType.SYNC,i,u,s),a&&a.call(l.GetContext(e,i),i,u,s)},this._fetchCall(s)},d.prototype._putDataIntoCollection=function(e,t,n){var r;if(e){r=e instanceof Array?e:[e];var i={};n&&this._manageLRU(r.length);for(var o=t,s=this.IsVirtual(),a=null,l=0;l<r.length;l+=1)s&&(i={at:o},a=this._atInternal(o,null,!0,!1)),i.silent=!0,this._addInternal(r[l],i,!0,!1),this._atInternal(o,null,!0,!1)!==a&&(o+=1)}return r},d.prototype._fillInCollectionWithParsedData=function(e,t,n,r){var i=r||{},o=i.parse,s=d._createModel(this),a=null;if(e){a=e instanceof Array?e:[e];var l,u={};n&&this._manageLRU(a.length);var c,h=this.IsVirtual();if(i.useset&&!h){for(c=0;c<a.length;c+=1)l=s&&o?s.parse(a[c]):a[c],a[c]=l;this._setInternal(a,!1,i,!1)}else{var p=null,f=t;for(c=0;c<a.length;c+=1)l=s&&o?s.parse(a[c]):a[c],h&&(u={at:f},p=this._atInternal(f,u,!0,!1)),u.silent=!0,this._addInternal(l,u,!0,!1),this._atInternal(f,null,!0,!1)!==p&&(f+=1)}}return a},d._reportError=function(e,t,r,i){n.error(t.toString()),r&&r.call(l.GetContext(i,e),e,t,i)},d.prototype._fetchOnly=function(e){var t,n,r=e||{},i=r.success;return void 0===r.parse&&(r.parse=!0),n=this,r.success=function(s){var a,u,c,h=null,p=[];try{c=n.parse(s,e)}catch(t){return void d._reportError(n,t,r.error,e)}if(r.add||n.model){if(u=d._createModel(n),c)for(h=c instanceof Array?c:[c],a=0;a<h.length;a+=1){if(u&&r.parse)try{t=u.parse(h[a])}catch(t){return void d._reportError(n,t,r.error,e)}else t=h[a];p.push(n._newModel(t))}}else h=c instanceof Array?c:[c];n.TriggerInternal(!1,o.EventType.SYNC,n,s,r),i&&i.call(l.GetContext(e,n),n,p,r)},this._fetchCall(r)},d.prototype._fetchCall=function(e){try{return l._internalSync("read",this,e)}catch(t){throw l._triggerError(this,!1,e,null,t,null),t}},d.prototype._resetModelsToFullLength=function(e){return void 0!==e&&this._getModelsLength()!==e&&(this._setModels(new Array(e),!0),this._resetLRU(),this._setLength(),!0)},d.prototype._getFetchSize=function(e){return(e||{})[d._FETCH_SIZE_PROP]||this[d._FETCH_SIZE_PROP]},d.prototype.IsVirtual=function(){return this._getFetchSize(null)>-1},d.prototype._getReturnProperty=function(e,t,n,r,i){var o=parseInt(d._getProp(e,t,n),10);return null==o||isNaN(o)?r||i:o},d.prototype._cleanTotalResults=function(e){if(-1!==e)return e},d.prototype._setPagingReturnValues=function(e,t,n,r){var i={};this.customPagingOptions&&((i=this.customPagingOptions.call(this,e))||(i={}));var o=t||{};this.lastFetchSize=this._getReturnProperty(i,e,"limit",o.fetchSize,this.fetchSize),this.offset=this._getReturnProperty(i,e,"offset",o.startIndex,0),this.lastFetchCount=this._getReturnProperty(i,e,"count",this.lastFetchCount,this.lastFetchCount),this.totalResults=this._cleanTotalResults(this._getReturnProperty(i,e,"totalResults",this.totalResults,this.totalResults)),this.hasMore=this._getHasMore(d._getProp(i,e,"hasMore"),this.offset,this.lastFetchSize,this.totalResults);var s=!1;if(!r){var a=this._cleanTotalResults(parseInt(d._getProp(i,e,"totalResults"),10)),l=parseInt(d._getProp(i,e,"count"),10);this.totalResults=this._adjustTotalResults(a,this.hasMore,this.offset,l,n&&Array.isArray(n)?n.length:0),s=void 0===a||isNaN(a)||null===a}return!this.IsVirtual()&&this.totalResults&&this.totalResults!==this.lastFetchCount&&this.lastFetchSize&&this.setFetchSize(this.lastFetchSize),s},d.prototype._adjustTotalResults=function(e,t,n,r,i){if(!t&&isNaN(e))return(isNaN(r)?i:r)+n;return this.totalResults},d.prototype._getHasMore=function(e,t,n,r){return d._defined(e)?e:null==r||!(t+n>r)},d._getProp=function(e,t,n){return Object.prototype.hasOwnProperty.call(e,n)?e[n]:t?t[n]:void 0},d.prototype._getOffset=function(){return d._defined(this.offset)?this.offset:0},d.prototype.create=function(e,t){var n=this,r=t||{},i=this._getDeferred(r);function o(t,n,r,i){return n.save(e instanceof l?null:e,i),n}function s(e,t){return r.wait?n.IsVirtual()||i?n._addPromise(function(){return Promise.resolve(void 0)}):null:n.add(e,t)}var a=this._newModel(e,!0,r,!1),u=r.success,c=r.context;r.validate;if(r.context=this,r.success=function(e,t,i){i.xhr&&(r.xhr=i.xhr),r.wait&&n.add(a,r),u&&u.call(null!=c?c:n,e,t,r)},null==a)return!1;r.forceNew=null!=a.GetId();var d=l._copyOptions(r);return a.SetCollection(this),i||this.IsVirtual()?new Promise(function(e){d.merge=!0,d.deferred=!0,s(a,d).then(function(){r.success=function(t,i,o){o.xhr&&(r.xhr=o.xhr),r.wait?(n.IsVirtual()&&(d.force=!0),n.add(a,d).then(function(){u&&u.call(null!=c?c:n,t,i,r),e(t)})):(u&&u.call(null!=c?c:n,t,i,r),e(t))};var t=o(0,a,0,r);t||e(t)})}):(d.merge=!0,s(a,d),o(0,a,0,r))},d.prototype.pluck=function(e){var t,n=[];for(this._throwErrIfVirtual("pluck"),t=0;t<this._getLength();t+=1)n.push(this.at(t).get(e));return n},d.prototype.where=function(e,t){return this._handlePromise(this._whereInternal(e,t))},d.prototype._whereInternal=function(e,t){var n=t||{},r=this._getDeferred(n),i=this;if(this.IsVirtual())return new Promise(function(t,r){var o={query:e,all:!0,success:function(e,n){t(n)},error:function(e,t,o){r(d._createRejectionError(e,t,o,i,n,!0))}};i._fetchOnly(o)});var o,s,a=[];for(o=0;o<this._getLength();o+=1)(s=this.at(o)).Contains(e)&&a.push(s);return r?new Promise(function(e){e(a)}):a},d.prototype.whereToCollection=function(e,t){var n=t||{},r=this._getDeferred(n),i=this;if(this.IsVirtual()||r)return i._addPromise(function(){return new Promise(function(t,r){return i._whereInternal(e,n).then(function(e){var n=i._makeNewCollection(e);t(n)},function(e){r(e)})})});var o=this._whereInternal(e,n),s=this._makeNewCollection(o);return s[d._FETCH_SIZE_PROP]=-1,s._setLength(),s},d.prototype._makeNewCollection=function(e){var t=this._cloneInternal(!1);return t._setModels(e,!1),t._resetLRU(),t._setLength(),t},d.prototype._throwErrIfVirtual=function(e){if(this.IsVirtual())throw new Error(e+" not valid on a virtual Collection")},d.prototype.map=function(e,t){var n,r=[];return this._throwErrIfVirtual("map"),this._getModels().forEach(function(i){n=e.call(t||this,i),r.push(n)}),r},d.prototype.each=function(e,t){this._throwErrIfVirtual("each"),this._getModels().forEach(e,t)},d.prototype.size=function(){return this._getLength()},d.prototype.sortBy=function(e,t){var n,i=[];return this._throwErrIfVirtual("sortBy"),this._getModels().forEach(function(e){i.push(e)}),n=this,i.sort(function(i,o){var s,a;return r.isFunction(e)?(s=e.call(t||n,i),a=e.call(t||n,o),d._compareKeys(s,a,n.sortDirection)):(s=i.get(e),a=o.get(e),d._compareKeys(s,a,n.sortDirection))}),i},d.prototype.groupBy=function(e,t){var n,i={};return this._throwErrIfVirtual("groupBy"),this._getModels().forEach(function(o){n=r.isFunction(e)?e.call(t||this,o):o.get(e),void 0===i[n]&&(i[n]=[]),i[n].push(o)},this),i},d.prototype.indexBy=function(e,t){var n,i={};return this._throwErrIfVirtual("indexBy"),this._getModels().forEach(function(o){n=r.isFunction(e)?e.call(t||this,o):o.get(e),i[n]=o},this),i},d.prototype.min=function(e,t){var n,r,i={};return this._throwErrIfVirtual("min"),0===this._getModelsLength()?null:(i=this._getModel(0),n=e.call(t||this,this._getModel(0)),this._getModels().forEach(function(o,s){s>=1&&(r=e.call(t||this,o))<n&&(i=o,n=r)},this),i)},d.prototype.max=function(e,t){var n,r,i={};return this._throwErrIfVirtual("max"),0===this._getModelsLength()?null:(i=this._getModel(0),n=e.call(t,this._getModel(0)),this._getModels().forEach(function(o,s){s>=1&&(r=e.call(t||this,o))>n&&(i=o,n=r)},this),i)},d.prototype.filter=function(e,t){var n=[];return this._throwErrIfVirtual("filter"),this._getModels().forEach(function(r){e.call(t||this,r)&&n.push(r)}),n},d.prototype.without=function(e){var t,n,r,i,o,s=[];this._throwErrIfVirtual("without");for(var a=0;a<this._getModels().length;a++){for(i=!0,o=this._getModel(a),t=0;t<arguments.length;t+=1)if(r=arguments[t].GetCid(),n=arguments[t].GetId(),o.Match(n,r)){i=!1;break}i&&s.push(o)}return s},d.prototype.difference=function(e){var t,n,r,i,o,s,a=[];this._throwErrIfVirtual("difference");for(var l=0;l<this._getModels().length;l++){for(o=!0,s=this._getModel(l),t=0;t<arguments.length;t+=1){for(n=0;n<arguments[t].length;n++)if(i=arguments[t][n].GetCid(),r=arguments[t][n].GetId(),s.Match(r,i)){o=!1;break}if(!o)break}o&&a.push(s)}return a},d.prototype.isEmpty=function(){return 0===this._getLength()},d.prototype.any=function(e,t){var n;this._throwErrIfVirtual("any");for(var r=0;r<this._getModelsLength();r+=1)if(n=this._getModel(r),e.call(t||this,n))return!0;return!1},d.prototype.findWhere=function(e,t){var n=this._getDeferred(t),r=this;if(this.IsVirtual()||n)return this._addPromise(function(){return new Promise(function(n){r._whereInternal(e,t).then(function(e){e&&e.length>0&&n(e[0]),n(null)})})});var i=this._whereInternal(e,t);return i.length>0?i[0]:null},d.prototype.slice=function(e,t,n){var r,i=this._getDeferred(n),o=[],s=t;if(void 0===s){if(this.IsVirtual()&&!this._hasTotalResults())throw new Error("End must be set for virtual collections with no totalResults");s=this._getModelsLength()}if(i||this.IsVirtual()){var a=this;return this._addPromise(function(){return a.IterativeAt(e,s)})}for(r=e;r<s;r+=1)o.push(this._getModel(r));return o},d.prototype.set=function(e,t){var n=this._getDeferred(t);return this._setInternal(e,!0,t,n||this.IsVirtual())},d._removeAfterSet=function(e,t,n,r,i){if(n)for(var o=t.length-1;o>=0;o-=1)-1===r.indexOf(o)&&e._removeInternal(t[o],o,i)},d.prototype._swapModels=function(e,t,n,r){if(this._hasComparator()||!n||!r)return{index:e,swapped:!1};var i=this._getModelsLength();if(e>=i||t>=i)return{index:e,swapped:!1};var o=this._getModel(e),s=this._getModel(t);return this._setModel(e,s),s.SetIndex(e),this._setModel(t,o),o.SetIndex(t),{index:t,swapped:t!==e}},d.prototype._setInternal=function(e,t,n,r){var i,s,a=n||{},l=void 0===a.add||a.add,u=void 0===a.remove||a.remove,c=void 0===a.merge||a.merge,h=[],p=null,f=t?this.parse(e):e;if(s=Array.isArray(f)?f:[f],r){var _=this;return this._addPromise(function(){return _._deferredSet(s,_._getModels(),a,u,l,c,t)})}var m=!1;for(i=0;i<s.length;i+=1)if(-1!==(p=this._updateModel(this._newModel(s[i],t,a,!0),l,c,r))){var g=this._swapModels(p,i,u,l),v=g.index;g.swapped&&(m=!0),-1===h.indexOf(v)&&h.push(v)}if(m){var y=a.add?{add:!0}:null;this.TriggerInternal(a.silent,o.EventType.SORT,this,y,null)}return d._removeAfterSet(this,this._getModels(),u,h,a),null},d.prototype._deferredSet=function(e,t,n,r,i,o,s){var a,l=[],u=this;return new Promise(function(c,h){var p=function(t){return new Promise(function(r,a){u._updateModel(u._newModel(e[t],s,n,!0),i,o,!0).then(function(e){-1!==e&&l.push(e),r(t+1)},a)})},f=Promise.resolve(0);for(a=0;a<e.length;a+=1)f=f.then(p);f.then(function(){d._removeAfterSet(u,t,r,l,n),c(void 0)},h)})},d.prototype._updateModel=function(e,t,n,r){function i(r,i,o){var s=i?i.index:-1,a=i?i.m:null,l={};if(a){if(n){if(l={merge:n},o)return new Promise(function(t){r._addInternal(e,l,!1,!0).then(function(){t(s)})});r.add(e,l)}}else if(t){if(o)return new Promise(function(t){r._addInternal(e,l,!1,!0).then(function(){t(r._getLength()-1)})});r.add(e),s=r._getLength()-1}return s}if(r||this.IsVirtual()){var o=this;return new Promise(function(t){o._getInternal(e,{silent:!0},r).then(function(e){i(o,e,!0).then(function(e){t(e)})})})}return i(this,this._getInternal(e),!1)},d.prototype.toJSON=function(){var e=[];return this._throwErrIfVirtual("toJSON"),this._getModels().forEach(function(t){e.push(t.toJSON())}),e},d.prototype.first=function(e,t){var n,r=this._getDeferred(t),i=this._getLength(),o=[],s=this,a=e;a?i=a:a=1;var l=this.IsVirtual()||r;if(1===a)return l?this._addPromise(function(){return s._deferredAt(0,null)}):this._getModelsLength()>0?this._getModel(0):null;if(i>this._getModelsLength()&&(this.IsVirtual()&&!this._hasTotalResults()||(i=this._getModelsLength())),l)return this._addPromise(function(){return s.IterativeAt(0,i)});for(n=0;n<i;n+=1)o.push(this._getModel(n));return o},d.prototype.indexOf=function(e,t){var n=this._getDeferred(t);if(this.IsVirtual()||n){var r=this;return this._addPromise(function(){return r._getInternal(e,null,!0).then(function(e){return e.index})})}return this._getInternal(e).index},d.prototype.contains=function(e,t){var n=this._getDeferred(t);if(this.IsVirtual()||n){var r=this;return this._addPromise(function(){return r._getInternal(e,null,!0).then(function(e){return e.index>-1})})}return this._getInternal(e).index>-1},d.prototype.include=d.prototype.contains,d.prototype._localIndexOf=function(e){var t=this._getLocalInternal(e);return void 0!==t?t.index:-1},d.prototype.pop=function(e){var t=this._getDeferred(e);if(this.IsVirtual()||t){var n=this;return this._atInternal(this._getLength()-1,e,!1,!0).then(function(t){return n.remove(t,e),t})}var r=this.at(this._getLength()-1);return this.remove(r,e),r},d.prototype.push=function(e,t){var n=this._getDeferred(t);return this._manageLRU(1),this._handlePromise(this._addInternal(e,t,!1,n))},d.prototype.lastIndexOf=function(e,n){var r,i=n;for(this._throwErrIfVirtual("lastIndexOf"),void 0===i&&(i=0),r=this._getLength()-1;r>=i;r-=1)if(t.Object.__innerEquals(e,this.at(r)))return r;return-1},d.prototype._getSortAttrs=function(e){return void 0===e?[]:e.split(",")},d._getQueryString=function(e){function t(e,t,n){return e+n+t}function n(e,n){var i,o=n;return Object.keys(e||{}).forEach(function(n){if(Object.prototype.hasOwnProperty.call(e,n))for(var s=Array.isArray(e[n])?e[n]:[e[n]],a=0;a<s.length;a++){if(l.IsComplexValue(s[a])){var u=s[a].value,c=null,d=s[a].comparator;c=r.isFunction(d)?d(null,n,u):d,i=t(n,u,c)}else i=t(n,e[n],"=");o+=i+"+"}}),o=o.substring(0,o.length-1)+","}var i,o=Array.isArray(e)?e:[e],s="";for(i=0;i<o.length;i++)s=n(o[i],s);return","===s.substring(s.length-1)?s.substring(0,s.length-1):s},d.prototype.ModifyOptionsForCustomURL=function(e){var n={};Object.keys(e||{}).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])});var r=this.comparator;if(r&&t.StringUtils.isString(r)){for(var i=this._getSortAttrs(r),o=0;o<i.length;o++)0===o?n.sort=i[o]:n.sort+=","+i[o];n.sortDir=this._getSortDirStr()}return this.IsVirtual()&&(n[d._FETCH_SIZE_PROP]=this._getFetchSize(n)),n},d.prototype.IsUrlBased=function(e){var t=this.customURL;if(r.isFunction(t))return!0;var n=this.GetCollectionFetchUrl(e);return d._defined(n)},d.prototype.GetCollectionFetchUrl=function(e){var n=a.GetPropValue(this,"url");if(this.IsVirtual()){var r=e||{},i=r.all,o=null;if(i)o=this.totalResults||this._getFetchSize(r);else o=this._getFetchSize(r);if(n&&n.indexOf("?")>-1?n+="&":n+="?",n+="limit="+o,i||(d._defined(r.startIndex)&&(n+="&offset="+r.startIndex),r.startID&&(n+="&fromID="+r.startID),r.since&&(n+="&since="+r.since),r.until&&(n+="&until="+r.until)),r.query){var s=d._getQueryString(r.query);s&&s.length>0&&(n+="&q="+s)}var l=this.comparator;if(l&&t.StringUtils.isString(l)){var u,c=this._getSortAttrs(l),h=this._getSortDirStr();for(u=0;u<c.length;u++)n+=0===u?"&orderBy="+c[u]+":"+h:","+c[u]+":"+h}n+="&totalResults=true"}return n},d.prototype._getSortDirStr=function(){return-1===this.sortDirection?"desc":"asc"},d.prototype.sync=function(e,n,r){return t.sync(e,n,r)},d._FETCH_SIZE_PROP="fetchSize";const h=function(e,t){h._init(this,t||{},e||"Authorization")};t._registerLegacyNamespaceProp("OAuth",h),t.Object.createSubclass(h,t.Object,"oj.OAuth"),h.prototype.Init=function(){h.superclass.Init.call(this)},h.prototype.getHeader=function(){var e={};return this.accessTokenResponse.access_token||this.clientCredentialGrant(),e[this.accessTokenRequest.auth_header]="Bearer "+this.accessTokenResponse.access_token,e},h.prototype.isInitialized=function(){return!(!this.accessTokenResponse||!this.accessTokenResponse.access_token)},h.prototype.clientCredentialGrant=function(){var e={},t=this;e[t.accessTokenRequest.auth_header]="Basic "+h._base64_encode(t.accessTokenRequest.client_id+":"+t.accessTokenRequest.client_secret),r.ajax({type:"POST",async:!1,url:this.accessTokenRequest.bearer_url,data:"grant_type=client_credentials",headers:e,success:function(e){t.accessTokenResponse=h._initAccessToken(t.accessTokenResponse,e)},error:function(e){throw new Error(e.responseText)}})},h.prototype.setAccessTokenResponse=function(e){this.accessTokenResopnse=h._initAccessToken(this.accessTokenResponse,e)},h.prototype.getAccessTokenResponse=function(){return this.accessTokenResponse},h.prototype.cleanAccessTokenResponse=function(){h._cleanAccessToken(this.accessTokenResponse)},h.prototype.setAccessTokenRequest=function(e){this.accessTokenRequest=h._initAccessToken(this.accessTokenRequest,e)},h.prototype.getAccessTokenRequest=function(){return this.accessTokenRequest},h.prototype.cleanAccessTokenRequest=function(){h._cleanAccessToken(this.accessTokenRequest)},h._init=function(e,t,n){var r=e;r.Init(),r.accessTokenRequest={},r.accessTokenResponse={},t.access_token?r.accessTokenResponse=h._initAccessToken(r.accessTokenResponse,t):t.client_id&&t.client_secret&&t.bearer_url&&(r.accessTokenResponse=h._initAccessToken(r.accessTokenRequest,t)),r.accessTokenRequest.auth_header=n},h._initAccessToken=function(e,t){var n=t||{},r=e||{};return Object.keys(n).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}),r},h._cleanAccessToken=function(e){var t=e||{};Object.keys(t).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&"auth_header"!==e&&(t[e]=null,delete t[e])})},h._base64_encode=function(e){var t,n,r,i,o=0,s=0,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=[];do{t=e.charCodeAt(o),o+=1,n=e.charCodeAt(o),o+=1,r=e.charCodeAt(o),o+=1,t=(i=t<<16|n<<8|r)>>18&63,n=i>>12&63,r=i>>6&63,i&=63,l[s]=a.charAt(t)+a.charAt(n)+a.charAt(r)+a.charAt(i),s+=1}while(o<e.length);return l=l.join(""),((t=e.length%3)?l.slice(0,t-3):l)+"===".slice(t||3)},e.Collection=d,e.Events=o,e.Model=l,e.OAuth=h,e.URLError=s,e.ajax=c,e.sync=u,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojdataprovideradapter",["ojs/ojcore-base","ojs/ojdataprovider","ojs/ojmodel","ojs/ojdataprovideradapter-base","ojs/ojeventtarget"],function(e,t,n,r,i){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;class o extends r{constructor(e){super(e),this.tableDataSource=e,this.FetchByKeysResults=class{constructor(e,t,n){this._parent=e,this.fetchParameters=t,this.results=n,this[o._FETCHPARAMETERS]=t,this[o._RESULTS]=n}},this.ContainsKeysResults=class{constructor(e,t,n){this._parent=e,this.containsParameters=t,this.results=n,this[o._CONTAINSPARAMETERS]=t,this[o._RESULTS]=n}},this.Item=class{constructor(e,t,n){this._parent=e,this.metadata=t,this.data=n,this[o._METADATA]=t,this[o._DATA]=n}},this.FetchByOffsetResults=class{constructor(e,t,n,r){this._parent=e,this.fetchParameters=t,this.results=n,this.done=r,this[o._FETCHPARAMETERS]=t,this[o._RESULTS]=n,this[o._DONE]=r}},this.FetchListParameters=class{constructor(e,t,n){this._parent=e,this.size=t,this.sortCriteria=n,this[o._SIZE]=t,this[o._SORTCRITERIA]=n}},this._addTableDataSourceEventListeners(),this[o._OFFSET]=0,this._ignoreDataSourceEvents=new Array}destroy(){this._removeTableDataSourceEventListeners()}containsKeys(e){const t=this,n=[];return e[o._KEYS].forEach(function(e){n.push(t.tableDataSource.get(e))}),Promise.all(n).then(function(n){const r=new Set;return n.forEach(e=>{null!=e&&r.add(e[o._KEY])}),Promise.resolve(new t.ContainsKeysResults(t,e,r))})}fetchByKeys(e){const t=this,n=[];return e[o._KEYS].forEach(function(e){n.push(t.tableDataSource.get(e))}),Promise.all(n).then(function(n){const r=new Map;for(let e=0;e<n.length;e++){const i=n[e];if(null!=i){const e=i[o._KEY],n=i[o._DATA],s=new t.ItemMetadata(t,e),a=i[o._INDEX];t._extractMetaData(t.dataSource,a,s),r.set(e,new t.Item(t,s,n))}}return Promise.resolve(new t.FetchByKeysResults(t,e,r))})}fetchByOffset(e){const t=this,n=null!=e?e[o._SIZE]:-1,r=null!=e?e[o._SORTCRITERIA]:null,i=null!=e&&e[o._OFFSET]>0?e[o._OFFSET]:0,s=new this.FetchListParameters(this,n,r);return this._startIndex=0,this._getFetchFunc(s,i)(s,!0).then(function(n){const r=n[o._VALUE],s=n[o._DONE],a=r[o._DATA],l=r[o._METADATA].map(function(e){return e[o._KEY]}),u=new Array;a.map(function(e,n){u.push(new t.Item(t,new t.ItemMetadata(t,l[n]),a[n]))});for(let e=0;e<u.length;e++)t._extractMetaData(t.dataSource,e+i,u[e][o._METADATA]);return new t.FetchByOffsetResults(t,e,u,s)})}fetchFirst(e){return this._isPagingModelTableDataSource()||(this._startIndex=0),new this.AsyncIterable(new this.AsyncIterator(this._getFetchFunc(e),e))}getCapability(e){return e==o._SORT&&"full"==this.tableDataSource.getCapability(e)?{attributes:"multiple"}:"fetchByKeys"==e||"fetchByOffset"==e?{implementation:"lookup"}:null}getTotalSize(){return Promise.resolve(this.tableDataSource.totalSize())}isEmpty(){return this.tableDataSource.totalSize()>0?"no":"yes"}getPage(){return this._isPagingModelTableDataSource()?this.tableDataSource.getPage():-1}setPage(e,t){return this._isPagingModelTableDataSource()?this.tableDataSource.setPage(e,t):Promise.reject(null)}getStartItemIndex(){return this._isPagingModelTableDataSource()?this.tableDataSource.getStartItemIndex():-1}getEndItemIndex(){return this._isPagingModelTableDataSource()?this.tableDataSource.getEndItemIndex():-1}getPageCount(){return this._isPagingModelTableDataSource()?this.tableDataSource.getPageCount():-1}totalSize(){return this._isPagingModelTableDataSource()?this.tableDataSource.totalSize():-1}totalSizeConfidence(){return this._isPagingModelTableDataSource()?this.tableDataSource.totalSizeConfidence():null}_getFetchFunc(e,t){const n=this;if(null!=e&&null!=e[o._SORTCRITERIA]){const r=e[o._SORTCRITERIA][0][o._ATTRIBUTE],i=e[o._SORTCRITERIA][0][o._DIRECTION];return this._ignoreSortEvent=!0,this._isPagingModelTableDataSource()||(this._startIndex=0),function(e,r){return function(i,s){if(s){const s={};return s[o._KEY]=e,s[o._DIRECTION]=r,n[o._OFFSET]=0,n.tableDataSource.sort(s).then(function(){return n._ignoreSortEvent=!1,n._getTableDataSourceFetch(i,t)(i)})}return n._getTableDataSourceFetch(i,t)(i)}}(r,i)}return this._getTableDataSourceFetch(e,t)}_extractMetaData(e,t,n){let r=e;if(this._isPagingModelTableDataSource()&&(r=r.getWrappedDataSource()),r._getMetadata){const e=r._getMetadata(t);e&&Object.keys(e).forEach(function(t){n[t]=e[t]})}}_getTableDataSourceFetch(e,t){const n=this;return function(e,r){const i={};if(t=t>0?t:0,null!=n._startIndex&&(i[o._STARTINDEX]=n._startIndex+t),i[o._PAGESIZE]=null!=e&&e[o._SIZE]>0?e[o._SIZE]:null,!n._isPagingModelTableDataSource()&&(null==e?void 0:e[o._SILENT])&&(i[o._SILENT]=e[o._SILENT]),null!=n.tableDataSource[o._SORTCRITERIA]&&null==e[o._SORTCRITERIA]){e[o._SORTCRITERIA]=[];const t=new n.SortCriterion(n,n.tableDataSource[o._SORTCRITERIA][o._KEY],n.tableDataSource[o._SORTCRITERIA][o._DIRECTION]);e[o._SORTCRITERIA].push(t)}return i[o._FETCHTYPE]=e[o._FETCHTYPE],n._isFetching=!0,new Promise(function(t,r){n._fetchResolveFunc=t,n._fetchRejectFunc=r,n._fetchParams=e,n._requestEventTriggered||(n._isPagingModelTableDataSource()||i[o._SILENT]||n._ignoreDataSourceEvents.push(!0),n.tableDataSource.fetch(i).then(function(r){if(n._isPagingModelTableDataSource()||i[o._SILENT]||n._ignoreDataSourceEvents.pop(),null!==r){n._isFetching=!1,void 0===r&&((r={})[o._KEYS]=[],r[o._DATA]=[]);let s=[];null!=r[o._KEYS]&&(s=r[o._KEYS].map(function(e){return new n.ItemMetadata(n,e)})),null==n._startIndex&&(n._startIndex=0);for(let e=0;e<s.length;e++)n._extractMetaData(n.dataSource,n._startIndex+e,s[e]);let a=!1;n._startIndex=n._startIndex+r[o._DATA].length,("actual"==n.tableDataSource.totalSizeConfidence()&&n.tableDataSource.totalSize()>0&&r.startIndex+r[o._DATA].length>=n.tableDataSource.totalSize()||i[o._PAGESIZE]>0&&r[o._DATA].length<i[o._PAGESIZE]||0===r[o._DATA].length)&&(a=!0),n._fetchResolveFunc=null,n._fetchParams=null,t(a?new n.AsyncIteratorReturnResult(n,new n.FetchListResult(n,e,r[o._DATA],s)):new n.AsyncIteratorYieldResult(n,new n.FetchListResult(n,e,r[o._DATA],s)))}},function(e){n._isPagingModelTableDataSource()||i[o._SILENT]||n._ignoreDataSourceEvents.pop(),r(e)}))})}}_adjustIteratorOffset(e,t){let n=this._startIndex,r=0;e&&e.forEach(function(e){e<n&&++r}),n-=r,t&&t.forEach(function(e){e<n&&++n}),this._startIndex=n}_handleSync(e){const n=this;if(!(n._ignoreDataSourceEvents.length>0)){if(n._startIndex=null,e[o._STARTINDEX]>0&&(n._startIndex=e[o._STARTINDEX],n[o._OFFSET]=n._startIndex),n._fetchResolveFunc&&null!=e[o._KEYS]){n._isFetching=!1;const t=e[o._KEYS].map(function(e){return new n.ItemMetadata(n,e)});for(let e=0;e<t.length;e++){let r=null!=n._startIndex?n._startIndex+e:e;n._extractMetaData(n.dataSource,r,t[e])}let r=!1;"actual"==n.tableDataSource.totalSizeConfidence()&&n.tableDataSource.totalSize()>0&&n._startIndex+e[o._DATA].length>=n.tableDataSource.totalSize()&&(r=!0),r?n._fetchResolveFunc(new n.AsyncIteratorReturnResult(n,new n.FetchListResult(n,n._fetchParams,e[o._DATA],t))):n._fetchResolveFunc(new n.AsyncIteratorYieldResult(n,new n.FetchListResult(n,n._fetchParams,e[o._DATA],t))),n._fetchResolveFunc=null,n._fetchParams=null}else n._requestEventTriggered||n.dispatchEvent(new t.DataProviderRefreshEvent);n._requestEventTriggered=!1}}_handleAdd(e){var n;const r=this,i=e[o._KEYS].map(function(e){return new r.ItemMetadata(r,e)}),s=new Set;e[o._KEYS].map(function(e){s.add(e)});const a=new r.DataProviderAddOperationEventDetail(r,s,null,null,null,i,e[o._DATA],e[o._INDEXES]),l=new r.DataProviderMutationEventDetail(r,a,null,null);r.dispatchEvent(new t.DataProviderMutationEvent(l)),this._adjustIteratorOffset(null,null===(n=l.add)||void 0===n?void 0:n.indexes)}_handleRemove(e){var n;const r=this,i=e[o._KEYS].map(function(e){return new r.ItemMetadata(r,e)}),s=new Set;e[o._KEYS].map(function(e){s.add(e)});const a=new r.DataProviderOperationEventDetail(r,s,i,e[o._DATA],e[o._INDEXES]),l=new r.DataProviderMutationEventDetail(r,null,a,null);r.dispatchEvent(new t.DataProviderMutationEvent(l)),this._adjustIteratorOffset(null===(n=l.remove)||void 0===n?void 0:n.indexes,null)}_handleReset(e){const n=this;n._requestEventTriggered||n._isPagingModelTableDataSource()||(n._startIndex=0,n.dispatchEvent(new t.DataProviderRefreshEvent))}_handleSort(e){const n=this;n._ignoreSortEvent||(n._startIndex=null,n.dispatchEvent(new t.DataProviderRefreshEvent))}_handleChange(e){const n=this,r=e[o._KEYS].map(function(e){return new n.ItemMetadata(n,e)}),i=new Set;e[o._KEYS].map(function(e){i.add(e)});const s=new n.DataProviderOperationEventDetail(n,i,r,e[o._DATA],e[o._INDEXES]),a=new n.DataProviderMutationEventDetail(n,null,null,s);n.dispatchEvent(new t.DataProviderMutationEvent(a))}_handleRefresh(e){const n=this;n._isFetching||n._requestEventTriggered||(null!=e[o._OFFSET]?(n._startIndex=e[o._OFFSET],"loadMore"===n.tableDataSource._fetchType&&(n.offset=e[o._OFFSET])):n._startIndex=null,n.dispatchEvent(new t.DataProviderRefreshEvent)),n._requestEventTriggered=!1}_handleRequest(e){const r=this;r._ignoreDataSourceEvents.length>0||void 0!==n.Model&&e instanceof n.Model||r._isFetching||(e[o._STARTINDEX]>0&&0===r.getStartItemIndex()&&(r._startIndex=e[o._STARTINDEX]),r._requestEventTriggered=!0,r.dispatchEvent(new t.DataProviderRefreshEvent))}_handleError(e){const t=this;t._fetchRejectFunc&&t._fetchRejectFunc(e),t._isFetching=!1,t._requestEventTriggered=!1}_handlePage(t){this._isFetching=!1,this._requestEventTriggered=!1;const n={};n.detail=t,this.dispatchEvent(new i.GenericEvent(e.PagingModel.EventType.PAGE,n))}_addTableDataSourceEventListeners(){this.removeAllListeners(),this.addListener("sync",this._handleSync),this.addListener("add",this._handleAdd),this.addListener("remove",this._handleRemove),this.addListener("reset",this._handleReset),this.addListener("sort",this._handleSort),this.addListener("change",this._handleChange),this.addListener("refresh",this._handleRefresh),this.addListener("request",this._handleRequest),this.addListener("error",this._handleError),this.addListener("page",this._handlePage)}_removeTableDataSourceEventListeners(){this.removeListener("sync"),this.removeListener("add"),this.removeListener("remove"),this.removeListener("reset"),this.removeListener("sort"),this.removeListener("change"),this.removeListener("refresh"),this.removeListener("request"),this.removeListener("error"),this.removeListener("page")}_isPagingModelTableDataSource(){return null!=this.tableDataSource.getStartItemIndex}}return o._STARTINDEX="startIndex",o._SILENT="silent",o._SORTCRITERIA="sortCriteria",o._PAGESIZE="pageSize",o._OFFSET="offset",o._SIZE="size",o._CONTAINSPARAMETERS="containsParameters",o._RESULTS="results",o._FETCHTYPE="fetchType",o._INDEX="index",i.EventTargetMixin.applyMixin(o),e._registerLegacyNamespaceProp("TableDataSourceAdapter",o),o}),define("ojs/ojset",["ojs/ojkeysetimpl"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;class t{constructor(t){this.initialKeys=t;const n=this;this._set=new Set,this._keyset=new e,t&&t.forEach(function(e){n.add(e)}),Object.defineProperty(this,"size",{get(){return this._set.size}}),this[Symbol.iterator]=function(){return this._set[Symbol.iterator]()}}clear(){this._set.clear(),this._keyset._keys.clear()}delete(e){const t=this._keyset.get(e);return t!==this._keyset.NOT_A_KEY&&(this._keyset._keys.delete(t),this._set.delete(t))}forEach(e,t){this._set.forEach(e,t)}keys(){return this._set.keys()}values(){return this._set.values()}entries(){return this._set.entries()}has(e){return this._keyset.has(e)}add(e){return this._keyset.get(e)===this._keyset.NOT_A_KEY&&(this._keyset._keys.add(e),this._set.add(e)),this}get[(Symbol.iterator,Symbol.toStringTag)](){return Set[Symbol.toStringTag]()}}return t}),define("ojs/ojmap",["ojs/ojkeysetimpl"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t=function(t){t?(this._map=t,this._keyset=new e(Array.from(this._map.keys()))):(this._map=new Map,this._keyset=new e)},n=t.prototype;return Object.defineProperty(n,"size",{get:function(){return this._map.size}}),n.clear=function(){this._map.clear(),this._keyset._keys.clear()},n.delete=function(e){var t=this._keyset.get(e);return t!==this._keyset.NOT_A_KEY&&(this._keyset._keys.delete(t),this._map.delete(t))},n.forEach=function(e){this._map.forEach(e)},n.entries=function(){return this._map.entries()},n.keys=function(){return this._map.keys()},n.values=function(){return this._map.values()},n.get=function(e){var t=this._keyset.get(e);return this._map.get(t)},n.has=function(e){return this._keyset.has(e)},n.set=function(e,t){var n=this._keyset.get(e);return n===this._keyset.NOT_A_KEY?(this._keyset._keys.add(e),this._map.set(e,t)):this._map.set(n,t),this},t}),define("ojs/ojarraydataprovider",["ojs/ojcore-base","ojs/ojmap","ojs/ojset","ojs/ojdataprovider","ojs/ojeventtarget","ojs/ojlogger"],function(e,t,n,r,i,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class s{constructor(e,t){var n;this.data=e,this.options=t,this.Item=class{constructor(e,t){this.metadata=e,this.data=t,this[s._METADATA]=e,this[s._DATA]=t}},this.ItemMetadata=class{constructor(e){this.key=e,this[s._KEY]=e}},this.FetchByKeysResults=class{constructor(e,t){this.fetchParameters=e,this.results=t,this[s._FETCHPARAMETERS]=e,this[s._RESULTS]=t}},this.ContainsKeysResults=class{constructor(e,t){this.containsParameters=e,this.results=t,this[s._CONTAINSPARAMETERS]=e,this[s._RESULTS]=t}},this.FetchByOffsetResults=class{constructor(e,t,n){this.fetchParameters=e,this.results=t,this.done=n,this[s._FETCHPARAMETERS]=e,this[s._RESULTS]=t,this[s._DONE]=n}},this.FetchListParameters=class{constructor(e,t,n,r){this.size=e,this.sortCriteria=t,this.filterCriterion=n,this.attributes=r,this[s._SIZE]=e,this[s._SORTCRITERIA]=t,this[s._FILTERCRITERION]=n,this[s._ATTRIBUTES]=r}},this.FetchListResult=class{constructor(e,t,n){this.fetchParameters=e,this.data=t,this.metadata=n,this[s._FETCHPARAMETERS]=e,this[s._DATA]=t,this[s._METADATA]=n}},this.AsyncIterable=(n=class{constructor(e){this._asyncIterator=e,this[Symbol.asyncIterator]=()=>this._asyncIterator}},Symbol.asyncIterator,n),this.AsyncIterator=class{constructor(e,t,n,r){this._parent=e,this._nextFunc=t,this._params=n,this._offset=r,this._clientId=n&&n.clientId||Symbol(),e._mapClientIdToIteratorInfo.set(this._clientId,{offset:r,rowKey:null,data:null,filterCriterion:null==n?void 0:n.filterCriterion,sortCriteria:null==n?void 0:n.sortCriteria,fetchedRowKeys:[]}),this._cacheObj={},this._cacheObj[s._MUTATIONSEQUENCENUM]=e._mutationSequenceNum}next(){var e,t,n,r,i,o;const s=this._parent._mapClientIdToIteratorInfo.get(this._clientId),a=s?s.offset:null,l=this._nextFunc(this._params,a,!1,this._cacheObj);Object.defineProperty(l.result.value,"totalFilteredRowCount",{get:()=>this._getTotalFilteredRowCount(),enumerable:!0});const u=(null===(e=l.result.value.metadata)||void 0===e?void 0:e.length)>0?null===(t=l.result.value.metadata[l.result.value.metadata.length-1])||void 0===t?void 0:t.key:null,c=(null===(n=l.result.value.data)||void 0===n?void 0:n.length)>0?l.result.value.data[l.result.value.data.length-1]:null,d=null===(r=l.result.value.metadata)||void 0===r?void 0:r.map(e=>e.key);return this._parent._mapClientIdToIteratorInfo.set(this._clientId,{offset:l.offset,rowKey:u,data:c,filterCriterion:null===(i=this._params)||void 0===i?void 0:i.filterCriterion,sortCriteria:null===(o=this._params)||void 0===o?void 0:o.sortCriteria,fetchedRowKeys:d?(null==s?void 0:s.fetchedRowKeys)?s.fetchedRowKeys.concat(d):d:[]}),Promise.resolve(l.result)}_getTotalFilteredRowCount(){if(void 0===this._totalFilteredRowCount){const e=this._parent._getRowData(),t=this._params?this._params[s._FILTERCRITERION]:null;if(t){this._totalFilteredRowCount=0;let n=r.FilterFactory.getFilter({filterDef:t,filterOptions:this._parent.options});for(let t=0;t<e.length;t++)n.filter(e[t])&&++this._totalFilteredRowCount}else this._totalFilteredRowCount=e.length}return this._totalFilteredRowCount}},this.AsyncIteratorYieldResult=class{constructor(e){this.value=e,this[s._VALUE]=e,this[s._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(e){this.value=e,this[s._VALUE]=e,this[s._DONE]=!0}},this.DataProviderMutationEventDetail=class{constructor(e,t,n,r){this._parent=e,this.add=t,this.remove=n,this.update=r,this[s._ADD]=t,this[s._REMOVE]=n,this[s._UPDATE]=r,Object.defineProperty(this,s._PARENT,{value:e,enumerable:!1})}},this.DataProviderOperationEventDetail=class{constructor(e,t,n,r,i){this._parent=e,this.keys=t,this.metadata=n,this.data=r,this.indexes=i,this[s._KEYS]=t,this[s._METADATA]=n,this[s._DATA]=r,this[s._INDEXES]=i,Object.defineProperty(this,s._PARENT,{value:e,enumerable:!1})}},this.DataProviderAddOperationEventDetail=class{constructor(e,t,n,r,i,o,a){this._parent=e,this.keys=t,this.afterKeys=n,this.addBeforeKeys=r,this.metadata=i,this.data=o,this.indexes=a,this[s._KEYS]=t,this[s._AFTERKEYS]=n,this[s._ADDBEFOREKEYS]=r,this[s._METADATA]=i,this[s._DATA]=o,this[s._INDEXES]=a,Object.defineProperty(this,s._PARENT,{value:e,enumerable:!1})}},this._sequenceNum=0,this._mutationSequenceNum=0,this._mapClientIdToIteratorInfo=new Map,this._subscribeObservableArray(e),null!=t&&null!=t[s._KEYS]&&(this._keysSpecified=!0,this._keys=t[s._KEYS])}containsKeys(e){return this.fetchByKeys(e).then(t=>{const r=new n;return e[s._KEYS].forEach(e=>{null!=t[s._RESULTS].get(e)&&r.add(e)}),Promise.resolve(new this.ContainsKeysResults(e,r))})}fetchByKeys(n){this._generateKeysIfNeeded();const r=new t,i=this._getKeys(),o=null!=n?n[s._ATTRIBUTES]:null;let a,l=0;if(n){const t=this._getRowData();return n[s._KEYS].forEach(n=>{for(a=null,l=0;l<i.length;l++)if(e.Object.compareValues(i[l],n)){a=l;break}if(null!=a&&a>=0){let e=t[a];if(o&&o.length>0){const t={};this._filterRowAttributes(o,e,t),e=t}r.set(n,new this.Item(new this.ItemMetadata(n),e))}}),Promise.resolve(new this.FetchByKeysResults(n,r))}return Promise.reject("Keys are a required parameter")}fetchByOffset(e){const t=null!=e?e[s._SIZE]:-1,n=null!=e?e[s._SORTCRITERIA]:null,r=null!=e&&e[s._OFFSET]>0?e[s._OFFSET]:0,i=null!=e?e[s._ATTRIBUTES]:null,o=null!=e?e[s._FILTERCRITERION]:null;this._generateKeysIfNeeded();let a=[],l=!0;if(e){const u=new this.FetchListParameters(t,n,o,i),c=this._fetchFrom(u,r,!0).result;u[s._SORTCRITERIA]&&(e[s._SORTCRITERIA]=u[s._SORTCRITERIA]);const d=c[s._VALUE];l=c[s._DONE];const h=d[s._DATA],p=d[s._METADATA].map(e=>e[s._KEY]);return a=h.map((e,t)=>new this.Item(new this.ItemMetadata(p[t]),e)),Promise.resolve(new this.FetchByOffsetResults(e,a,l))}return Promise.reject("Offset is a required parameter")}fetchFirst(e){return new this.AsyncIterable(new this.AsyncIterator(this,this._fetchFrom.bind(this),e,0))}getCapability(e){return s.getCapability(e)}static _getFetchCapability(){const e=new Set;return e.add("exclusion"),{caching:"all",attributeFilter:{expansion:{},ordering:{},defaultShape:{features:e}}}}static getCapability(e){return"sort"===e?{attributes:"multiple"}:"fetchByKeys"===e?Object.assign({implementation:"lookup"},s._getFetchCapability()):"fetchByOffset"===e?Object.assign({implementation:"randomAccess"},s._getFetchCapability()):"fetchFirst"===e?Object.assign({iterationSpeed:"immediate",totalFilteredRowCount:"exact"},s._getFetchCapability()):"fetchCapability"===e?s._getFetchCapability():"filter"===e?{operators:["$co","$eq","$ew","$pr","$gt","$ge","$lt","$le","$ne","$regex","$sw","$exists"],attributeExpression:["*"],textFilter:{},nestedFilter:{},collationOptions:{sensitivity:["base","accent","case","variant"]}}:null}getTotalSize(){return Promise.resolve(this._getRowData().length)}isEmpty(){return this._getRowData().length>0?"no":"yes"}createOptimizedKeySet(e){return new n(e)}createOptimizedKeyMap(e){if(e){const n=new t;return e.forEach((e,t)=>{n.set(t,e)}),n}return new t}_getRowData(){return this[s._DATA]instanceof Array?this[s._DATA]:this[s._DATA]()}_getKeys(){return null==this._keys||this._keys instanceof Array?this._keys:this._keys()}_indexOfKey(t,n){let r,i=-1;for(r=0;r<n.length;r++)if(e.Object.compareValues(n[r],t)){i=r;break}return i}_adjustIteratorOffset(e,t){const n=null==e?void 0:e.indexes,r=null==t?void 0:t.indexes;this._mapClientIdToIteratorInfo.forEach((i,o)=>{if(i.offset>0){const s=i.filterCriterion,a=i.sortCriteria,l=a?this._getSortComparator(a):null;n&&n.forEach((t,n)=>{const r=Array.from(e.keys)[n],o=this._indexOfKey(r,i.fetchedRowKeys);o>-1&&(--i.offset,i.fetchedRowKeys.splice(o,1))}),r&&r.forEach((e,n)=>{const r=t.data[n],o=Array.from(t.keys)[n];if(!s||!s.filter||r&&s.filter(r))if(l){if(r&&i.data&&l({value:i.data},{value:r})>0){++i.offset;this._indexOfKey(o,i.fetchedRowKeys)<0&&i.fetchedRowKeys.splice(e,0,o)}}else{if(e<this._indexOfKey(i.rowKey,this._getKeys())){++i.offset;this._indexOfKey(o,i.fetchedRowKeys)<0&&i.fetchedRowKeys.splice(e,0,o)}}}),this._mapClientIdToIteratorInfo.set(o,i)}})}_subscribeObservableArray(t){if(!(t instanceof Array)){if(!this._isObservableArray(t))throw new Error("Invalid data type. ArrayDataProvider only supports Array or observableArray.");t.subscribe(t=>{let r,i,s,a,l,u=[],c=[],d=[],h=[];const p=[];this._mutationSequenceNum++;let f=!0,_=!0;t.forEach(e=>{"deleted"===e.status?(f=!1):"added"===e.status&&(_=!1)});const m=[],g=[];let v=null,y=null,E=null;const b=this._generateKeysIfNeeded();if(!f&&!_){for(r=0;r<t.length;r++){a=t[r].index,l=t[r].status;const n=this._getId(t[r].value);for(i=0;i<t.length;i++)i!==r&&a===t[i].index&&l!==t[i].status&&m.indexOf(r)<0&&g.indexOf(r)<0&&(null==n||e.Object.compareValues(n,this._getId(t[i].value)))&&("deleted"===l?(g.push(r),m.push(i)):(g.push(i),m.push(r)))}for(r=0;r<t.length;r++)if(m.indexOf(r)>=0){const e=this._getKeys()[t[r].index];c.push(e),u.push(t[r].value),d.push(t[r].index)}if(c.length>0){h=c.map(e=>new this.ItemMetadata(e));const e=new n;c.forEach(t=>{e.add(t)}),v=new this.DataProviderOperationEventDetail(this,e,h,u,d)}}if(u=[],c=[],d=[],!f){for(r=0;r<t.length;r++)"deleted"===t[r].status&&m.indexOf(r)<0&&g.indexOf(r)<0&&(s=this._getId(t[r].value),null==s&&(s=b?t[r].index:this._getKeys()[t[r].index]),c.push(s),u.push(t[r].value),d.push(t[r].index));if(c.length>0&&c.forEach(e=>{const t=this._indexOfKey(e,this._getKeys());t>=0&&this._keys.splice(t,1)}),c.length>0){h=c.map(e=>new this.ItemMetadata(e));const e=new n;c.forEach(t=>{e.add(t)}),E=new this.DataProviderOperationEventDetail(this,e,h,u,d)}}if(u=[],c=[],d=[],!_){const e=null==this._getKeys()||!(this._getKeys().length>0);for(r=0;r<t.length;r++)"added"===t[r].status&&m.indexOf(r)<0&&g.indexOf(r)<0&&(s=this._getId(t[r].value),null==s&&(b||this._keysSpecified)&&(s=this._getKeys()[t[r].index]),null==s?(s=this._sequenceNum,this._sequenceNum++,this._keys.splice(t[r].index,0,s)):e||-1===this._indexOfKey(s,this._getKeys())?this._keys.splice(t[r].index,0,s):b||this._keysSpecified||(o.warn("added row has duplicate key "+s),this._keys.splice(t[r].index,0,s)),c.push(s),u.push(t[r].value),d.push(t[r].index));for(r=0;r<t.length;r++)if("added"===t[r].status&&m.indexOf(r)<0&&g.indexOf(r)<0){let e=this._getKeys()[t[r].index+1];e=null==e?null:e,p.push(e)}if(c.length>0){h=c.map(e=>new this.ItemMetadata(e));const e=new n;c.forEach(t=>{e.add(t)});const t=new n;p.forEach(e=>{t.add(e)}),y=new this.DataProviderAddOperationEventDetail(this,e,t,p,h,u,d)}}this._fireMutationEvent(y,E,v)},null,"arrayChange"),t.subscribe(e=>{if(this._mutationEvent){const e=this._mutationEvent.detail;this._adjustIteratorOffset(e.remove,e.add),this.dispatchEvent(this._mutationEvent)}else if(this._mutationRemoveEvent||this._mutationAddEvent||this._mutationUpdateEvent){if(this._mutationRemoveEvent){const e=this._mutationRemoveEvent.detail;this._adjustIteratorOffset(e.remove,null),this.dispatchEvent(this._mutationRemoveEvent)}if(this._mutationAddEvent){const e=this._mutationAddEvent.detail;this._adjustIteratorOffset(null,e.add),this.dispatchEvent(this._mutationAddEvent)}this._mutationUpdateEvent&&this.dispatchEvent(this._mutationUpdateEvent)}else this.dispatchEvent(new r.DataProviderRefreshEvent);this._mutationEvent=null,this._mutationRemoveEvent=null,this._mutationAddEvent=null,this._mutationUpdateEvent=null},null,"change")}}_fireMutationEvent(e,t,n){const i=new this.DataProviderMutationEventDetail(this,e,t,n);this._mutationEvent=new r.DataProviderMutationEvent(i)}_hasSamePropValue(t,n,r){const i="_hasSamePropValue is true";try{t&&t[r]&&t[r].forEach(t=>{n&&n[r]&&n[r].forEach(n=>{if(e.Object.compareValues(t,n))throw i})})}catch(e){if(e===i)return!0;throw e}return!1}_isObservableArray(e){return"function"==typeof e&&e.subscribe&&!(void 0===e.destroyAll)}_generateKeysIfNeeded(){if(null==this._keys){const e=null!=this.options?this.options[s._KEYATTRIBUTES]||this.options[s._IDATTRIBUTE]:null;this._keys=[];const t=this._getRowData();let n,r=0;for(r=0;r<t.length;r++)n=this._getId(t[r]),null!=n&&"@index"!==e||(n=this._sequenceNum,this._sequenceNum++),this._keys[r]=n;return!0}return!1}_getId(e){let t,n=null;if(null!=this.options&&(null!=this.options[s._KEYATTRIBUTES]?n=this.options[s._KEYATTRIBUTES]:null!=this.options[s._IDATTRIBUTE]&&(n=this.options[s._IDATTRIBUTE])),null!=n){if(Array.isArray(n)){let r;for(t=[],r=0;r<n.length;r++)t[r]=this._getVal(e,n[r])}else t="@value"===n?this._getAllVals(e):this._getVal(e,n);return t}return null}_getVal(e,t){if("string"==typeof t){const n=t.indexOf(".");if(n>0){const r=t.substring(0,n),i=t.substring(n+1),o=e[r];if(o)return this._getVal(o,i)}}return"function"==typeof e[t]?e[t]():e[t]}_getAllVals(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e?e:Object.keys(e).map(t=>this._getVal(e,t))}_fetchFrom(e,t,n,i){const o=null!=e?e[s._ATTRIBUTES]:null;this._generateKeysIfNeeded();const a=null!=e?e[s._SORTCRITERIA]:null,l=this._getCachedIndexMap(a,i),u=this._getRowData(),c=l.map(e=>u[e]),d=l.map(e=>this._getKeys()[e]),h=null!=e?e[s._SIZE]>0?e[s._SIZE]:e[s._SIZE]<0?this._getKeys().length:25:25;let p=t+h<c.length;const f=this._mergeSortCriteria(a);null!=f&&((e=e||{})[s._SORTCRITERIA]=f);let _,m=[],g=[],v=0;if(null!=e&&e[s._FILTERCRITERION]){let n=null;n=r.FilterFactory.getFilter({filterDef:e[s._FILTERCRITERION],filterOptions:this.options});let i=0;for(;m.length<h&&i<c.length;)n.filter(c[i])&&(v>=t&&(m.push(c[i]),g.push(d[i])),v++),i++;p=i<c.length}else m=c.slice(t,t+h),g=d.slice(t,t+h);v=t+m.length,_=m.map(e=>{if(o&&o.length>0){const t={};this._filterRowAttributes(o,e,t),e=t}return e});let y=g.map(e=>new this.ItemMetadata(e)),E=new this.FetchListResult(e,_,y);return(n?p:E.data.length>0)?{result:new this.AsyncIteratorYieldResult(E),offset:v}:{result:new this.AsyncIteratorReturnResult(E),offset:v}}_getCachedIndexMap(e,t){if(t&&t.indexMap&&t[s._MUTATIONSEQUENCENUM]===this._mutationSequenceNum)return t.indexMap;const n=this._getRowData().map((e,t)=>t),r=this._sortData(n,e);return t&&(t.indexMap=r,t[s._MUTATIONSEQUENCENUM]=this._mutationSequenceNum),r}_sortData(e,t){const n=this._getRowData(),r=e.map(e=>({index:e,value:n[e]}));return null!=t&&r.sort(this._getSortComparator(t)),r.map(e=>e.index)}_getSortComparator(e){return(t,n)=>{const i=null!=this.options?this.options[s._SORTCOMPARATORS]:null;let o,a,l,u,c,d;for(o=0;o<e.length;o++){a=e[o][s._DIRECTION],l=e[o][s._ATTRIBUTE],u=null,null!=i&&(u=i[s._COMPARATORS].get(l)),c=this._getVal(t.value,l),d=this._getVal(n.value,l),u||(u=r.SortUtils.getNaturalSortComparator());const h="descending"===a?-1:1,p=u(c,d)*h;if(0!==p)return p}return 0}}_mergeSortCriteria(e){const t=null!=this.options?this.options[s._IMPLICITSORT]:null;if(null!=t){if(null==e)return t;const n=e.slice(0);let r,i,o;for(r=0;r<t.length;r++){for(o=!1,i=0;i<n.length;i++)n[i][s._ATTRIBUTE]===t[r][s._ATTRIBUTE]&&(o=!0);o||n.push(t[r])}return n}return e}_filterRowAttributes(e,t,n){if(Array.isArray(e)){let r,i=!1;e.forEach(e=>{e!==s._ATDEFAULT&&e.name!==s._ATDEFAULT||(i=!0)}),Object.keys(t).forEach(o=>{if(i){let i,s=!1,a=o;for(r=0;r<e.length;r++)if(i=e[r]instanceof Object?e[r].name:e[r],i.startsWith("!")){if(i=i.substr(1,i.length-1),i===o){s=!0;break}}else if(i===o){a=e[r];break}s||this._filterRowAttributes(a,t,n)}else e.forEach(e=>{let r;r=e instanceof Object?e.name:e,r.startsWith("!")||r!==o||this._filterRowAttributes(e,t,n)})})}else if(e instanceof Object){const r=e.name,i=e.attributes;if(r&&!r.startsWith("!"))if(t[r]instanceof Object&&!Array.isArray(t[r])&&i){const e={};this._filterRowAttributes(i,t[r],e),n[r]=e}else if(Array.isArray(t[r])&&i){let e;n[r]=[],t[r].forEach((t,o)=>{e={},this._filterRowAttributes(i,t,e),n[r][o]=e})}else this._proxyAttribute(n,t,r)}else this._proxyAttribute(n,t,e)}_proxyAttribute(e,t,n){e&&t&&Object.defineProperty(e,n,{get:()=>t[n],set(e){t[n]=e},enumerable:!0})}}return s._KEY="key",s._KEYS="keys",s._AFTERKEYS="afterKeys",s._ADDBEFOREKEYS="addBeforeKeys",s._DIRECTION="direction",s._ATTRIBUTE="attribute",s._ATTRIBUTES="attributes",s._SORT="sort",s._SORTCRITERIA="sortCriteria",s._FILTERCRITERION="filterCriterion",s._DATA="data",s._METADATA="metadata",s._INDEXES="indexes",s._OFFSET="offset",s._SIZE="size",s._IDATTRIBUTE="idAttribute",s._IMPLICITSORT="implicitSort",s._KEYATTRIBUTES="keyAttributes",s._SORTCOMPARATORS="sortComparators",s._COMPARATORS="comparators",s._COMPARATOR="comparator",s._RESULTS="results",s._CONTAINS="contains",s._FETCHPARAMETERS="fetchParameters",s._CONTAINSPARAMETERS="containsParameters",s._VALUE="value",s._DONE="done",s._ADD="add",s._REMOVE="remove",s._UPDATE="update",s._DETAIL="detail",s._FETCHLISTRESULT="fetchListResult",s._ATDEFAULT="@default",s._MUTATIONSEQUENCENUM="mutationSequenceNum",s._PARENT="_parent",i.EventTargetMixin.applyMixin(s),e._registerLegacyNamespaceProp("ArrayDataProvider",s),s}),define("ojs/ojlistdataproviderview",["ojs/ojcore-base","ojs/ojdataprovider","ojs/ojeventtarget"],function(e,t,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class r{constructor(e,n){var i;this.dataProvider=e,this.options=n,this._noFilterSupport=!1,this.AsyncIterable=(i=class{constructor(e,t){this._parent=e,this._asyncIterator=t,this[Symbol.asyncIterator]=()=>this._asyncIterator}},Symbol.asyncIterator,i),this.AsyncIterator=class{constructor(e,t,n){this._parent=e,this._nextFunc=t,this._params=n}next(){const e=this._nextFunc(this._params);return Promise.resolve(e)}},this.AsyncIteratorYieldResult=class{constructor(e,t){this._parent=e,this.value=t,this[r._VALUE]=t,this[r._DONE]=!1}},this.AsyncIteratorReturnResult=class{constructor(e,t){this._parent=e,this.value=t,this[r._VALUE]=t,this[r._DONE]=!0}},this.FetchListResult=class{constructor(e,t,n,i,o){this._parent=e,this.fetchParameters=t,this.data=n,this.metadata=i,this.totalFilteredRowCount=o,this[r._FETCHPARAMETERS]=t,this[r._DATA]=n,this[r._METADATA]=i,o>=-1&&(this.totalFilteredRowCount=o)}},this.Item=class{constructor(e,t,n){this._parent=e,this.metadata=t,this.data=n,this[r._METADATA]=t,this[r._DATA]=n}},this.ItemMetadata=class{constructor(e,t){this._parent=e,this.key=t,this[r._KEY]=t}},this.FetchListParameters=class{constructor(e,t,n,i,o,s){this._parent=e,this.params=t,this.size=n,this.sortCriteria=i,this.filterCriterion=o,this.attributes=s,t&&Object.keys(t).forEach(e=>{this[e]=t[e]}),this[r._SIZE]=n,i&&(this[r._SORTCRITERIA]=i),o&&(this[r._FILTERCRITERION]=o),s&&(this[r._FETCHATTRIBUTES]=s)}},this.FetchByKeysParameters=class{constructor(e,t,n,i){this._parent=e,this.keys=t,this.params=n,this.attributes=i,n&&Object.keys(n).forEach(e=>{this[e]=n[e]}),t&&(this[r._KEYS]=t),i&&(this[r._FETCHATTRIBUTES]=i)}},this.FetchByOffsetParameters=class{constructor(e,t,n,i,o,s,a){this._parent=e,this.offset=t,this.params=n,this.size=i,this.sortCriteria=o,this.filterCriterion=s,this.attributes=a,n&&Object.keys(n).forEach(e=>{this[e]=n[e]}),i&&(this[r._SIZE]=i),o&&(this[r._SORTCRITERIA]=o),t&&(this[r._OFFSET]=t),s&&(this[r._FILTERCRITERION]=s),a&&(this[r._FETCHATTRIBUTES]=a)}},this.FetchByKeysResults=class{constructor(e,t,n){this._parent=e,this.fetchParameters=t,this.results=n,this[r._FETCHPARAMETERS]=t,this[r._RESULTS]=n}},this.ContainsKeysResults=class{constructor(e,t,n){this._parent=e,this.containsParameters=t,this.results=n,this[r._CONTAINSPARAMETERS]=t,this[r._RESULTS]=n}},this.FetchByOffsetResults=class{constructor(e,t,n,i){this._parent=e,this.fetchParameters=t,this.results=n,this.done=i,this[r._FETCHPARAMETERS]=t,this[r._RESULTS]=n,this[r._DONE]=i}},this[r._INTERNAL_FROM]=null==this.options?null:this.options[r._FROM],this[r._INTERNAL_OFFSET]=null==this.options?0:this.options[r._OFFSET]>0?this.options[r._OFFSET]:0,this[r._INTERNAL_SORTCRITERIA]=null==this.options?null:this.options[r._SORTCRITERIA],this[r._INTERNAL_DATAMAPPING]=null==this.options?null:this.options[r._DATAMAPPING],this[r._INTERNAL_FETCHATTRIBUTES]=null==this.options?null:this.options[r._FETCHATTRIBUTES],this[r._INTERNAL_FILTERCRITERION]=null==this.options?null:this.options[r._FILTERCRITERION],this._addEventListeners(e),e.getCapability&&!e.getCapability("filter")&&(this._noFilterSupport=!0),Object.defineProperty(this,"from",{set(e){this[r._INTERNAL_FROM]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[r._INTERNAL_FROM]},enumerable:!0}),Object.defineProperty(this,"offset",{set(e){this[r._INTERNAL_OFFSET]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[r._INTERNAL_OFFSET]},enumerable:!0}),Object.defineProperty(this,"sortCriteria",{set(e){this[r._INTERNAL_SORTCRITERIA]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[r._INTERNAL_SORTCRITERIA]},enumerable:!0}),Object.defineProperty(this,"dataMapping",{set(e){this[r._INTERNAL_DATAMAPPING]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[r._INTERNAL_DATAMAPPING]},enumerable:!0}),Object.defineProperty(this,"attributes",{set(e){this[r._INTERNAL_FETCHATTRIBUTES]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[r._INTERNAL_FETCHATTRIBUTES]},enumerable:!0}),Object.defineProperty(this,"filterCriterion",{set(e){this[r._INTERNAL_FILTERCRITERION]=e,this.dispatchEvent(new t.DataProviderRefreshEvent)},get(){return this[r._INTERNAL_FILTERCRITERION]},enumerable:!0})}containsKeys(e){return this.dataProvider[r._CONTAINSKEYS]?this.dataProvider[r._CONTAINSKEYS](e):this.fetchByKeys(e).then(t=>{const n=new Set;return e[r._KEYS].forEach(e=>{null!=t[r._RESULTS].get(e)&&n.add(e)}),Promise.resolve(new this.ContainsKeysResults(this,e,n))})}fetchByKeys(e){const t=null!=e?e[r._KEYS]:null;let n=null!=e?e[r._FETCHATTRIBUTES]:null;null==n&&(n=this[r._INTERNAL_FETCHATTRIBUTES]);const i=new this.FetchByKeysParameters(this,t,e,n);if(this.dataProvider[r._FETCHBYKEYS])return this.dataProvider[r._FETCHBYKEYS](i).then(e=>{const t=e[r._RESULTS],n=new Map;return t.forEach((e,t)=>{const r=this._getMappedItems([e]);n.set(t,r[0])}),new this.FetchByKeysResults(this,i,n)});{const t=new this.FetchListParameters(this,null,r._DEFAULT_SIZE,null,null,n),o=new Map,s=this.dataProvider[r._FETCHFIRST](t)[Symbol.asyncIterator]();return this._fetchNextSet(e,s,o).then(e=>{const t=new Map;return e.forEach((e,n)=>{const r=this._getMappedItems([e]);t.set(n,r[0])}),new this.FetchByKeysResults(this,i,t)})}}fetchByOffset(e){const t=null!=e?e[r._OFFSET]:null,n=null!=e?e[r._SIZE]:null;let i=null!=e?e[r._FETCHATTRIBUTES]:null;null==i&&(i=this[r._INTERNAL_FETCHATTRIBUTES]);let o=null!=e?e[r._SORTCRITERIA]:null;null==o&&(o=this[r._INTERNAL_SORTCRITERIA]);const s=this._getMappedSortCriteria(o),a=this._combineFilters(e),l=this._getMappedFilterCriterion(a),u=new this.FetchByOffsetParameters(this,t,e,n,s,l,i);return this.dataProvider[r._FETCHBYOFFSET](u).then(e=>{const t=e[r._RESULTS],n=e[r._DONE],i=new Array;return t.forEach(e=>{const t=this._getMappedItems([e]);i.push(t[0])}),new this.FetchByOffsetResults(this,u,i,n)})}fetchFirst(e){const t={};t[r._ITEMS]=[],t[r._DONE]=!1,t[r._STARTINDEX]=0,t[r._LASTDONEHASDATA]=!1;const n=null!=e?e[r._SIZE]:null;let i=null!=e?e[r._SORTCRITERIA]:null;null==i&&(i=this[r._INTERNAL_SORTCRITERIA]);const o=this._getMappedSortCriteria(i),s=this._combineFilters(e),a=this._getMappedFilterCriterion(s);let l=null!=e?e[r._FETCHATTRIBUTES]:null;if(null==l&&(l=this[r._INTERNAL_FETCHATTRIBUTES]),null==this[r._INTERNAL_FROM]&&this[r._INTERNAL_OFFSET]>0){let i=this[r._INTERNAL_OFFSET];return new this.AsyncIterable(this,new this.AsyncIterator(this,(e=>()=>{const t=new this.FetchByOffsetParameters(this,i,null,n,o,a,l);return this.dataProvider[r._FETCHBYOFFSET](t).then(t=>{const o=t.results;i+=o.length;const s=this._getMappedItems(o);this._cacheResult(e,s),e[r._DONE]=t[r._DONE];const a=s.map(e=>e[r._DATA]),l=s.map(e=>e[r._METADATA]),u=t[r._FETCHPARAMETERS],c=null!=u?u[r._SORTCRITERIA]:null,d=null!=u?u[r._FILTERCRITERION]:null,h=this._getUnmappedSortCriteria(c),p=this._getUnmappedFilterCriterion(d),f=new this.FetchByOffsetParameters(this,this[r._INTERNAL_OFFSET],null,n,h,p);return e[r._DONE]?Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,f,a,l))):Promise.resolve(new this.AsyncIteratorYieldResult(this,new this.FetchListResult(this,f,a,l)))})})(t),e))}{const i=new this.FetchListParameters(this,e,n,o,a,l),s=this.dataProvider[r._FETCHFIRST](i)[Symbol.asyncIterator]();return new this.AsyncIterable(this,new this.AsyncIterator(this,((t,n)=>()=>t[r._LASTDONEHASDATA]?(t[r._LASTDONEHASDATA]=!1,Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,e,[],[],0)))):n.next().then(i=>{let o=i[r._VALUE];o||(o={data:[],metadata:[],fetchParameters:null});const s=o[r._DATA],l=o.totalFilteredRowCount,u=o[r._METADATA],c=s.map((e,t)=>new this.Item(this,u[t],s[t]));this._noFilterSupport&&this._filterResult(a,c);const d=this._getMappedItems(c);this._cacheResult(t,d),t[r._DONE]=i[r._DONE];const h=null!=e?e[r._SIZE]:null,p=(null!=e&&e[r._OFFSET],o[r._FETCHPARAMETERS]),f=null!=p?p[r._SORTCRITERIA]:null,_=null!=p?p[r._FILTERCRITERION]:null,m=this._getUnmappedSortCriteria(f),g=this._getUnmappedFilterCriterion(_),v=new this.FetchListParameters(this,e,h,m,g);return this._fetchUntilKey(v,this[r._INTERNAL_FROM],t,n).then(()=>this._fetchUntilOffset(v,this[r._INTERNAL_OFFSET]+t[r._STARTINDEX],s.length,t,n,l))}))(t,s),e))}}getCapability(e){return this.dataProvider.getCapability(e)}getTotalSize(){return this.dataProvider.getTotalSize()}isEmpty(){return this.dataProvider.isEmpty()}_fetchNextSet(t,n,i){return n.next().then(o=>{let s=o[r._VALUE];s||(s={data:[],metadata:[],fetchParameters:null});const a=s[r._DATA],l=s[r._METADATA],u=l.map(e=>e[r._KEY]);let c=!0;return t[r._KEYS].forEach(t=>{i.has(t)||u.map((n,r)=>{e.Object.compareValues(n,t)&&i.set(t,new this.Item(this,l[r],a[r]))}),i.has(t)||(c=!1)}),c||o[r._DONE]?i:this._fetchNextSet(t,n,i)})}_fetchUntilKey(t,n,i,o){if(null!=n){const t=i[r._ITEMS].filter(t=>{if(e.KeyUtils.equals(t[r._METADATA][r._KEY],n))return!0});if(t.length>0){const e=i[r._ITEMS].indexOf(t[0]);i[r._ITEMS]=i[r._ITEMS].slice(e,i[r._ITEMS].length)}else{if(!i[r._DONE])return o.next().then(e=>{let t=e[r._VALUE];t||(t={data:[],metadata:[],fetchParameters:null});const n=t[r._DATA],s=t[r._METADATA],a=n.map((e,t)=>new this.Item(this,s[t],n[t])),l=this._getMappedItems(a);return this._cacheResult(i,l),i[r._DONE]=e[r._DONE],this._fetchUntilKey(e[r._FETCHPARAMETERS],l[r._KEYS],i,o)});i[r._ITEMS]=[]}}return Promise.resolve(null)}_fetchUntilOffset(e,t,n,i,o,s){const a=null!=e&&e[r._SIZE]>0?e[r._SIZE]:n;t=t>0?t:0;const l=i[r._ITEMS].slice(t,t+a);if(this._noFilterSupport){const t=this._getMappedFilterCriterion(e[r._FILTERCRITERION]);this._filterResult(t,l)}return e&&e[r._SIZE]>0&&l.length<a&&!i[r._DONE]?o.next().then(n=>{let a=n[r._VALUE];a||(a={data:[],metadata:[],fetchParameters:null});const l=a[r._DATA],u=a[r._METADATA],c=l.map((e,t)=>new this.Item(this,u[t],l[t]));if(this._noFilterSupport){const t=this._getMappedFilterCriterion(e[r._FILTERCRITERION]);this._filterResult(t,c)}const d=this._getMappedItems(c);return this._cacheResult(i,d),i[r._DONE]=n[r._DONE],this._fetchUntilOffset(e,t,l.length,i,o,s)}):this._createResultPromise(e,i,l,s)}_createResultPromise(e,t,n,i){t[r._STARTINDEX]=t[r._STARTINDEX]+n.length;const o=n.map(e=>e[r._DATA]),s=n.map(e=>e[r._METADATA]);let a=!1;return t[r._DONE]&&(0===o.length?a=!0:t[r._LASTDONEHASDATA]=!0),a?Promise.resolve(new this.AsyncIteratorReturnResult(this,new this.FetchListResult(this,e,o,s,i))):Promise.resolve(new this.AsyncIteratorYieldResult(this,new this.FetchListResult(this,e,o,s,i)))}_cacheResult(e,t){t.forEach(t=>{e[r._ITEMS].push(t)})}_filterResult(e,n){if(e){e.filter||(e=t.FilterFactory.getFilter({filterDef:e}));let i=n.length-1;for(;i>=0;)e.filter(n[i][r._DATA])||n.splice(i,1),i--}}_getMappedItems(e){if(null!=this[r._INTERNAL_DATAMAPPING]){const t=this[r._INTERNAL_DATAMAPPING][r._MAPFIELDS];if(null!=t&&null!=e&&e.length>0){return e.map(e=>t.bind(this)(e))}}return e}_combineFilters(e){const n=[];let i,o=0;return null!=e&&null!=e[r._FILTERCRITERION]&&(n[o]=e[r._FILTERCRITERION],o++),null!=this[r._INTERNAL_FILTERCRITERION]&&(n[o]=this[r._INTERNAL_FILTERCRITERION]),i=0==n.length?null:1==n.length?n[0]:t.FilterFactory.getFilter({filterDef:{op:"$and",criteria:n}}),i}_getMappedFilterCriterion(e){if(null!=this[r._INTERNAL_DATAMAPPING]){const t=this[r._INTERNAL_DATAMAPPING][r._MAPFILTERCRITERION];if(null!=t&&null!=e)return t(e)}return e}_getMappedSortCriteria(e){if(null!=this[r._INTERNAL_DATAMAPPING]){const t=this[r._INTERNAL_DATAMAPPING][r._MAPSORTCRITERIA];if(null!=t&&null!=e&&e.length>0)return t(e)}return e}_getUnmappedSortCriteria(e){if(null!=this[r._INTERNAL_DATAMAPPING]){const t=this[r._INTERNAL_DATAMAPPING][r._UNMAPSORTCRITERIA];if(null!=t&&null!=e&&e.length>0)return t(e)}return e}_getUnmappedFilterCriterion(e){if(null!=this[r._INTERNAL_DATAMAPPING]){const t=this[r._INTERNAL_DATAMAPPING][r._UNMAPFILTERCRITERION];if(null!=t&&null!=e)return t(e)}return e}_addEventListeners(e){e[r._ADDEVENTLISTENER](r._REFRESH,e=>{this.dispatchEvent(e)}),e[r._ADDEVENTLISTENER](r._MUTATE,e=>{this.dispatchEvent(e)})}}return r._KEY="key",r._KEYS="keys",r._DATA="data",r._STARTINDEX="startIndex",r._SORT="sort",r._INTERNAL_SORTCRITERIA="_sortCriteria",r._SORTCRITERIA="sortCriteria",r._INTERNAL_FILTERCRITERION="_filterCriterion",r._FILTERCRITERION="filterCriterion",r._METADATA="metadata",r._ITEMS="items",r._INTERNAL_FROM="_from",r._INTERNAL_OFFSET="_offset",r._FROM="from",r._OFFSET="offset",r._REFRESH="refresh",r._MUTATE="mutate",r._SIZE="size",r._FETCHPARAMETERS="fetchParameters",r._VALUE="value",r._DONE="done",r._LASTDONEHASDATA="lastDoneHasData",r._INTERNAL_DATAMAPPING="_dataMapping",r._DATAMAPPING="dataMapping",r._MAPFIELDS="mapFields",r._MAPSORTCRITERIA="mapSortCriteria",r._MAPFILTERCRITERION="mapFilterCriterion",r._UNMAPSORTCRITERIA="unmapSortCriteria",r._UNMAPFILTERCRITERION="unmapFilterCriterion",r._RESULTS="results",r._CONTAINSPARAMETERS="containsParameters",r._DEFAULT_SIZE=25,r._CONTAINSKEYS="containsKeys",r._FETCHBYKEYS="fetchByKeys",r._FETCHBYOFFSET="fetchByOffset",r._FETCHFIRST="fetchFirst",r._ADDEVENTLISTENER="addEventListener",r._INTERNAL_FETCHATTRIBUTES="_attributes",r._FETCHATTRIBUTES="attributes",n.EventTargetMixin.applyMixin(r),e._registerLegacyNamespaceProp("ListDataProviderView",r),r}),define("ojs/ojcss",["css"],function(e){"use strict";const t={load:function(t,n,r,i){var o=!1;if(i){var s=i.ojcss,a=t+".css";this.isExcluded(a,s)&&(o=!0)}o?r(t):e.load(t,n,r,i)},pluginBuilder:"css-builder"};return t.normalize=e.normalize,t.isExcluded=function(e,t){var n=!1;if(t&&t.include){var r=t.include;if(Array.isArray(r)){if(r.length>0){n=!0;for(var i=0;i<r.length;i++){var o=r[i];if(e.substr(0,o.length)===o){n=!1;break}}}}else this.makeRegExp(r).test(e)&&(n=!1)}if(!n&&t&&t.exclude){var s=t.exclude;if(Array.isArray(s))for(var a=0;a<s.length;a++){var l=s[a];if(e.substr(0,l.length)===l){n=!0;break}}else this.makeRegExp(s).test(e)&&(n=!0)}return n},t.makeRegExp=function(e){var t=null;return e&&(t="string"==typeof e?new RegExp(e):e),t},t}),define("ojs/ojpreact-patch",["exports"],function(e){"use strict";Symbol();const t=Symbol(),n=Symbol();const r=Symbol();e.OJ_POPUP=t,e.OJ_SLOT_REMOVE=n,e.patchPopupParent=function(e){e[r]||(e[r]=!0,Object.defineProperty(e,"firstChild",{get(){let n=e.childNodes[0];return n?n[t]||n:null},enumerable:!0}))},e.patchSlotParent=function(e){if(!e[r]){e[r]=!0;const t=e.removeChild;e.removeChild=r=>{const i=r[n];return i?(i(),null):t.call(e,r)}}},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojpopupcore",["exports","ojs/ojcore-base","jquery","ojs/ojcomponentcore","ojs/ojlogger","ojs/ojdomutils","ojs/ojpreact-patch","jqueryui-amd/position","ojs/ojcontext","preact/jsx-runtime","preact","ojs/ojcustomelement-utils"],function(e,t,n,r,i,o,s,a,l,u,c,d){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l;const h=function(e){this._tapCallback=e,this.Init()};t._registerLegacyNamespaceProp("SimpleTapRecognizer",h),t.Object.createSubclass(h,t.Object,"oj.SimpleTapRecognizer"),h.prototype.Init=function(){h.superclass.Init.call(this);var e=this._eventHandler.bind(this);this._eventHandlerCallback=e;for(var t,n=document.documentElement,r=0;r<h._TOUCHEVENTS.length;r++)"touchstart"===(t=h._TOUCHEVENTS[r])||"touchmove"===t?n.addEventListener(t,e,{passive:!1,capture:!0}):n.addEventListener(t,e,!0)},h.prototype._eventHandler=function(e){var t=this._tapCallback,n=e.type;if("touchstart"===n)this._touchStartEvent=e,this._touchStartEvent._tapStart=(new Date).getTime();else if("touchmove"===n||"touchcancel"===n)this._touchStartEvent=null;else if("touchend"===n){if(this._touchStartEvent){var r=this._touchStartEvent._tapStart;if(isNaN(r))t(this._touchStartEvent);else(new Date).getTime()-r<h._PRESSHOLDTHRESSHOLD&&t(this._touchStartEvent)}this._touchStartEvent=null}},h.prototype.destroy=function(){this._tapCallback=null;var e=this._eventHandlerCallback;this._eventHandlerCallback=null;for(var t,n=document.documentElement,r=0;r<h._TOUCHEVENTS.length;r++)"touchstart"===(t=h._TOUCHEVENTS[r])||"touchmove"===t?n.removeEventListener(t,e,{passive:!1,capture:!0}):n.removeEventListener(t,e,!0)},h._TOUCHEVENTS=["touchstart","touchmove","touchcancel","touchend"],h._PRESSHOLDTHRESSHOLD=700;const p=function(){this.Init()};t._registerLegacyNamespaceProp("PopupService",p),t.Object.createSubclass(p,t.Object,"oj.PopupService");const f=function(){this.Init()},_={};p.prototype.Init=function(){p.superclass.Init.call(this)},p.getInstance=function(e){return p._popupService||(p._popupService=new f),p._popupService},p.prototype.open=function(e){t.Assert.failedInAbstractFunction()},p.prototype.close=function(e){t.Assert.failedInAbstractFunction()},p.prototype.changeOptions=function(e){t.Assert.failedInAbstractFunction()},p.prototype.triggerOnDescendents=function(e,n,r){t.Assert.failedInAbstractFunction()},p.prototype.destroy=function(){p._popupService=null},p.MODALITY={NONE:"none",MODAL:"modal",MODELESS:"modeless"},p.EVENT={POPUP_REMOVE:"ojPopupRemove",POPUP_CLOSE:"ojPopupClose",POPUP_REFRESH:"ojPopupRefresh",POPUP_AUTODISMISS:"ojPopupAutoDismiss",POPUP_BEFORE_OPEN:"ojPopupBeforeOpen",POPUP_AFTER_OPEN:"ojPopupAfterOpen",POPUP_BEFORE_CLOSE:"ojPopupBeforeClose",POPUP_AFTER_CLOSE:"ojPopupAfterClose"},p.LAYER_LEVEL={TOP_LEVEL:"topLevel",NEAREST_ANCESTOR:"nearestAncestor"},p.OPTION={POPUP:"popup",EVENTS:"events",MODALITY:"modality",LAUNCHER:"launcher",POSITION:"position",LAYER_SELECTORS:"layerSelectors",LAYER_LEVEL:"layerLevel",CONTEXT:"context",CUSTOM_ELEMENT:"customElement"},t.__registerWidget("oj.ojSurrogate",n.oj.baseComponent,{version:"1.0.0",widgetEventPrefix:"oj",options:{beforeDestroy:null},_ComponentCreate:function(){this._super(),this.element.uniqueId()},_invokeBeforeDestroy:function(){var e=this.options.beforeDestroy;this.options.beforeDestroy=null,e&&e()},_destroy:function(){this._invokeBeforeDestroy(),this.element.removeUniqueId(),this._super()},_NotifyDetached:function(){this._invokeBeforeDestroy(),this._super()}});t.CustomElementBridge.register("oj-surrogate",{metadata:{properties:{beforeDestroy:{type:"function"}},extension:{_WIDGET_NAME:"ojSurrogate"}}}),t._registerLegacyNamespaceProp("PopupServiceImpl",f),t.Object.createSubclass(f,p,"oj.PopupServiceImpl"),f.prototype.open=function(e){t.Assert.assertObject(e);var s=n(e[p.OPTION.POPUP]);t.Assert.assertPrototype(s,n);var a=_.getStatus(s);if(a===_.STATUS.UNKNOWN||a===_.STATUS.BEFORE_OPEN||a===_.STATUS.CLOSE){var l=n(e[p.OPTION.LAUNCHER]);t.Assert.assertPrototype(l,n);var u=e[p.OPTION.POSITION];t.Assert.assertObjectOrNull(u);var c=e[p.OPTION.EVENTS];t.Assert.assertObject(c);var d=e[p.OPTION.MODALITY];(!d||p.MODALITY.MODELESS!==d&&p.MODALITY.MODAL!==d)&&(d=p.MODALITY.NONE);var h=e[p.OPTION.LAYER_SELECTORS];t.Assert.assertString(h);var m=e[p.OPTION.CUSTOM_ELEMENT],g=e[p.OPTION.LAYER_LEVEL];(!g||p.LAYER_LEVEL.TOP_LEVEL!==g&&p.LAYER_LEVEL.NEAREST_ANCESTOR!==g)&&(g=p.LAYER_LEVEL.NEAREST_ANCESTOR);var v=c[p.EVENT.POPUP_BEFORE_OPEN];v&&n.isFunction(v)||(v=f._defaultBeforeOpenCallback);var y=c[p.EVENT.POPUP_AFTER_OPEN];_.setStatus(s,_.STATUS.OPENING),o.setLogicalParent(s,l),_.addToAncestorLayer(s,l,d,h,g,m);var E,b=function(){try{s.removeAttr("aria-hidden"),this._assertEventSink(),r.subtreeShown(s[0])}catch(e){i.error("Error opening popup:\n%o",e)}finally{_.setStatus(s,_.STATUS.OPEN),y&&y(e);var o=_.getFirstAncestorLayer(s);if(t.Assert.assertPrototype(o,n),_.applyEvents(o,c),!_._getSurrogate(o)&&n.isFunction(c[p.EVENT.POPUP_REMOVE]))(0,c[p.EVENT.POPUP_REMOVE])()}};b=b.bind(this);try{E=v(e)}catch(e){i.error("Error before open popup:\n%o",e)}finally{E&&E instanceof Promise?E.then(b):b()}}else this._assertEventSink()},f._defaultBeforeOpenCallback=function(e){var r=n(e[p.OPTION.POPUP]);t.Assert.assertPrototype(r,n);var i=e[p.OPTION.POSITION];r.show(),i&&r.position(i)},f.prototype.close=function(e){t.Assert.assertObject(e);var s=n(e[p.OPTION.POPUP]);t.Assert.assertPrototype(s,n);var a=_.getOpenPopupLayer(s);t.Assert.assertPrototype(a,n);var l=e[p.OPTION.EVENTS];l?l=n.extend(_.getEvents(a),l):(l=_.getEvents(a),e[p.OPTION.EVENTS]=l);var u=_.getStatus(s);if(u!==_.STATUS.OPEN&&u!==_.STATUS.BEFORE_CLOSE||!l)this._assertEventSink();else{var c=l[p.EVENT.POPUP_BEFORE_CLOSE];c&&n.isFunction(c)||(c=f._defaultBeforeCloseCallback);var d=l[p.EVENT.POPUP_AFTER_CLOSE];_.setStatus(s,_.STATUS.CLOSING),_.applyEvents(a,{}),s.attr("aria-hidden","true");var h,m=function(){try{s.hide(),s.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),_.removeFromAncestorLayer(s),o.setLogicalParent(s,null),this._assertEventSink(),r.subtreeHidden(s[0])}catch(e){i.error("Error closing popup:\n%o",e)}finally{_.setStatus(s,_.STATUS.CLOSE),d&&n.isFunction(d)&&d(e)}};m=m.bind(this);try{h=c(e)}catch(e){i.error("Error before close popup:\n%o",e)}finally{h&&h instanceof Promise?h.then(m):m()}}},f._defaultBeforeCloseCallback=function(e){var r=n(e[p.OPTION.POPUP]);t.Assert.assertPrototype(r,n),r.hide()},f.prototype.changeOptions=function(e){t.Assert.assertObject(e);var r=n(e[p.OPTION.POPUP]);if(t.Assert.assertPrototype(r,n),_.getStatus(r)===_.STATUS.OPEN){var i=_.getOpenPopupLayer(r);t.Assert.assertPrototype(i,n);var o=e[p.OPTION.EVENTS];o&&_.applyEvents(i,o);var s=e[p.OPTION.MODALITY];s&&_.applyModality(i,s);var a=e[p.OPTION.LAYER_SELECTORS];t.StringUtils.isEmptyOrUndefined(a)||i.attr("class",a)}},f.prototype.triggerOnDescendents=function(e,t,n){if(_.isPopupOpen(e)){var r={};r.event=t,r.argsArray=n;var i=_.getFirstAncestorLayer(e);_.postOrderVisit(i,this._triggerOnDescendentsVisitCallback,r)}},f.prototype._triggerOnDescendentsVisitCallback=function(e,t){var r=t.event,i=t.argsArray,o=_.getEvents(e);return o&&n.isFunction(o[r])&&o[r].apply(this,i),_.VISIT_RESULT.ACCEPT},f.prototype._assertEventSink=function(){var e,t,n,r=_.hasPopupsOpen(),i=this._callbackEventFilter;if(!r&&i){for(window.removeEventListener("resize",f._refreshCallback,!0),window.removeEventListener("scroll",f._refreshCallback,!0),(t=document.documentElement).removeEventListener("mousewheel",f._refreshCallback,{passive:!0,capture:!0}),t.removeEventListener("DOMMouseScroll",f._refreshCallback,!0),this._callbackEventFilter=null,e=0;e<f._REDISTRIBUTE_EVENTS.length;e++)n=f._REDISTRIBUTE_EVENTS[e],t.removeEventListener(n,i,!0);var s=this._simpleTapRecognizer;s&&(s.destroy(),this._simpleTapRecognizer=null)}else if(r&&!i){for(window.addEventListener("resize",f._refreshCallback,!0),window.addEventListener("scroll",f._refreshCallback,!0),(t=document.documentElement).addEventListener("mousewheel",f._refreshCallback,{passive:!0,capture:!0}),t.addEventListener("DOMMouseScroll",f._refreshCallback,!0),i=this._eventFilterCallback.bind(this),this._callbackEventFilter=i,e=0;e<f._REDISTRIBUTE_EVENTS.length;e++)n=f._REDISTRIBUTE_EVENTS[e],t.addEventListener(n,i,!0);o.isTouchSupported()&&(this._simpleTapRecognizer=new h(i))}},f.prototype._eventFilterCallback=function(e){var t=n(e.target);if(_.hasPopupsOpen()){if(!o.isChromeEvent(e)&&("focus"!==e.type||t.is(":focusable"))){var r=_.getDefaultLayer();if("keydown"!==e.type||!_.hasModalDialogOpen()||o.isAncestor(r[0],t[0])){var i=_.getFirstAncestorLayer(t),s=r.find("."+f._FOCUS_WITHIN_SELECTOR).first(),a=e.target.classList.contains(_._OVERLAY_SELECTOR);if(r[0]!==i[0]?i.hasClass(f._FOCUS_WITHIN_SELECTOR)||(s.length&&s.removeClass(f._FOCUS_WITHIN_SELECTOR),i.addClass(f._FOCUS_WITHIN_SELECTOR)):s.length&&!a&&s.removeClass(f._FOCUS_WITHIN_SELECTOR),"focus"!==e.type||"-1"!==t.attr("tabindex")){var l={};l.targetIsOverlay=a;for(var u=f._COPY_SAFE_EVENT_PROPERTIES,c={},d=0;d<u.length;d++){var h=u[d],p=e[h];void 0===p||n.isFunction(p)||(c[h]=p)}l.event=n.Event(e,c),_.postOrderVisit(r,f._redistributeVisitCallback,l)}}else _.eatEvent(e)}}else this._assertEventSink()},f._redistributeVisitCallback=function(e,t){var r=_.getEvents(e),i=t.event;return r&&n.isFunction(r[p.EVENT.POPUP_AUTODISMISS])?r[p.EVENT.POPUP_AUTODISMISS](i):"mousedown"===i.type&&t.targetIsOverlay&&i.preventDefault(),_.VISIT_RESULT.ACCEPT},f._refreshCallback=function(e){isNaN(f._refreshTimerId)&&(f._refreshTimerId=window.setTimeout(function(){f._refreshTimerId=Number.NaN;var e=_.getDefaultLayer();n.isFunction(window.requestAnimationFrame)?f._afRequestId=window.requestAnimationFrame(function(){f._afRequestId=null,_.postOrderVisit(e,f._refreshVisitCallback)}):_.postOrderVisit(e,f._refreshVisitCallback)},f._REFRESH_DELAY))},f._refreshVisitCallback=function(e,t){if(t.level>0)return _.VISIT_RESULT.REJECT;var r=_.getEvents(e);return r&&n.isFunction(r[p.EVENT.POPUP_REFRESH])&&r[p.EVENT.POPUP_REFRESH](),_.VISIT_RESULT.ACCEPT},f.prototype.destroy=function(){f.superclass.destroy.call(this)},f._FOCUS_WITHIN_SELECTOR="oj-focus-within",f._REDISTRIBUTE_EVENTS=["focus","mousedown","keydown"],f._COPY_SAFE_EVENT_PROPERTIES=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","relatedTarget","shiftKey","target","timeStamp","view","which","button","buttons","clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement","char","charCode","key","keyCode"],f._REFRESH_DELAY=10,t._registerLegacyNamespaceProp("ZOrderUtils",_),_.STATUS={UNKNOWN:0,BEFORE_OPEN:.5,OPENING:1,OPEN:2,BEFORE_CLOSE:2.5,CLOSING:3,CLOSE:4},_._STATUS_DATA="oj-popup-status",_.getStatus=function(e){e instanceof Element&&(e=n(e));var t=e.data(_._STATUS_DATA);return isNaN(t)?_.STATUS.UNKNOWN:t},_.setStatus=function(e,t){e instanceof Element&&(e=n(e)),t>=_.STATUS.UNKNOWN&&t<=_.STATUS.CLOSE&&e.data(_._STATUS_DATA,t)},_.getFirstAncestorLayer=function(e){if(!e)return _.getDefaultLayer();for(var t=e;t&&t.length>0&&t.attr(_._SURROGATE_ATTR)!==_._DEFAULT_LAYER_ID;){if(_._hasSurrogate(t[0]))return t;t=t.parent()}return _.getDefaultLayer()},_.getDefaultLayer=function(){var e=n(document.getElementById(_._DEFAULT_LAYER_ID));return e.length>0||((e=n("<div>")).attr("role","presentation"),e.attr("id",_._DEFAULT_LAYER_ID),e.prependTo(n(document.body))),e},_.addToAncestorLayer=function(e,i,o,s,a,l){var u=e[0];if(_._hasSurrogate(u.parentNode))throw new Error("JET Popup is already open - id: "+u.getAttribute("id"));var c=_.getFirstAncestorLayer(a===p.LAYER_LEVEL.TOP_LEVEL?null:i),d=n("<div>"),h=e.attr("id");t.StringUtils.isEmptyOrUndefined(h)?d.uniqueId():d.attr("id",[h,"layer"].join("_")),d.attr("role","presentation"),d.addClass(s),e.after(d);const f=_._createSurrogate(d,l);r.subtreeDetached(u),e.appendTo(d),e.data(_._LAYER_ID_DATA,d.attr("id")),d.appendTo(c),r.subtreeAttached(u),_._applyVDomPatch(f[0],u),_.applyModality(d,o)},_._applyVDomPatch=function(e,t){e[s.OJ_POPUP]=t,s.patchPopupParent(e.parentElement)},_._getSurrogate=function(e){var t=e.attr(_._SURROGATE_ATTR);if(t)return document.getElementById(t)},_.applyEvents=function(e,t,i){i||(i=n(_._getSurrogate(e))),e.data(_._EVENTS_DATA,t),i.length>0&&t&&n.isFunction(t[p.EVENT.POPUP_REMOVE])&&r.setComponentOption(i[0],"beforeDestroy",t[p.EVENT.POPUP_REMOVE])},_.getEvents=function(e){return e.data(_._EVENTS_DATA)},_._createSurrogate=function(e,r){var i="script";r&&(i="oj-surrogate");var o=n(document.createElement(i)),s=e.attr("id");t.StringUtils.isEmptyOrUndefined(s)||o.attr("id",[s,"surrogate"].join("_")),r&&o.attr("data-oj-binding-provider","none"),o.insertBefore(e),r||o.ojSurrogate();var a=o.attr("id");return e.attr(_._SURROGATE_ATTR,a),o},_._removeSurrogate=function(e){var t=e.attr(_._SURROGATE_ATTR);e.removeAttr(_._SURROGATE_ATTR);var i=n(document.getElementById(t)),o=i.length>0;return o&&(e.insertAfter(i),r.setComponentOption(i[0],"beforeDestroy",null),i.remove()),o},_.getOpenPopupLayer=function(e){var t=e.parent();if(!t||0===t.length){var r=e.data(_._LAYER_ID_DATA);t=n(document.getElementById(r))}return t},_.removeFromAncestorLayer=function(e){var t=_.getOpenPopupLayer(e);_.preOrderVisit(t,_._closeDescendantPopupsCallback),_._restoreBodyOverflow(),_._removeOverlayFromAncestorLayer(t),t.removeData(_._EVENTS_DATA),t.removeData(_._MODALITY_DATA),e.removeData(_._LAYER_ID_DATA);var n=e[0];r.subtreeDetached(n),_._removeSurrogate(t)&&n&&n.parentElement?(o.unwrap(e,t),r.subtreeAttached(n)):t.remove()},_._closeDescendantPopupsCallback=function(e,t){if(t.level>0)return _.VISIT_RESULT.REJECT;var r=e.data(_._EVENTS_DATA);return r&&n.isFunction(r[p.EVENT.POPUP_CLOSE])&&r[p.EVENT.POPUP_CLOSE](),_.VISIT_RESULT.ACCEPT},_._disableBodyOverflow=function(e){const t=document.body,r=e.children()[0];n(r).width()<=window.innerWidth&&n(r).height()<=window.innerHeight&&t.classList.add("oj-component-modal-open")},_._restoreBodyOverflow=function(){document.body.classList.remove("oj-component-modal-open")},_._removeFocusWithinFromOverlayedContent=function(){var e=_.getDefaultLayer().find("."+f._FOCUS_WITHIN_SELECTOR).first();e.length&&e.removeClass(f._FOCUS_WITHIN_SELECTOR)},_.applyModality=function(e,n){var r=e.data(_._MODALITY_DATA);e.data(_._MODALITY_DATA,n),t.StringUtils.isEmptyOrUndefined(r)?p.MODALITY.MODAL===n?(_._addOverlayToAncestorLayer(e),_._disableBodyOverflow(e),_._removeFocusWithinFromOverlayedContent()):_._removeOverlayFromAncestorLayer(e):r!==n&&(n!==r&&n===p.MODALITY.MODAL?(_._addOverlayToAncestorLayer(e),_._disableBodyOverflow(e),_._removeFocusWithinFromOverlayedContent()):_._removeOverlayFromAncestorLayer(e)),n===p.MODALITY.MODAL?e.attr("aria-modal","true"):e.removeAttr("aria-modal")},_.hasModalDialogOpen=function(){for(var e=_.getDefaultLayer().children(),t=e.length-1;t>-1;t--){if(n(e[t]).hasClass(_._OVERLAY_SELECTOR))return!0}return!1},_._addOverlayToAncestorLayer=function(e){var r=n("<div>");r.addClass(_._OVERLAY_SELECTOR),r.addClass(e[0].className),r.attr("role","presentation");var i=e.attr("id");t.StringUtils.isEmptyOrUndefined(i)?r.uniqueId():r.attr("id",[i,"overlay"].join("_")),e.before(r);var o=r.attr("id");e.attr(_._OVERLAY_ATTR,o)},_._removeOverlayFromAncestorLayer=function(e){var r=e.attr(_._OVERLAY_ATTR);t.StringUtils.isEmptyOrUndefined(r)||(e.removeAttr(_._OVERLAY_ATTR),n(document.getElementById(r)).remove())},_.VISIT_RESULT={ACCEPT:0,REJECT:1,COMPLETE:2},_._VISIT_TRAVERSAL={PRE_ORDER:0,POST_ORDER:1},_.postOrderVisit=function(e,t,n){var r=n;n||(r={}),r.level=0,r.type=_._VISIT_TRAVERSAL.POST_ORDER,_._visitTree(e,t,r)},_.preOrderVisit=function(e,t,n){var r=n;n||(r={}),r.level=0,r.type=_._VISIT_TRAVERSAL.PRE_ORDER,_._visitTree(e,t,r)},_._visitTree=function(e,t,r){for(var i=r.level,o=e.children(),s=o.length-1;s>-1;s--){var a=n(o[s]);if(_._hasSurrogate(a[0])){var l;if(r.type===_._VISIT_TRAVERSAL.PRE_ORDER){if((l=t(a,r))===_.VISIT_RESULT.COMPLETE)return l;if(l===_.VISIT_RESULT.REJECT)break}if(r.level=i+1,l=_._visitTree(a,t,r),r.level=i,l===_.VISIT_RESULT.COMPLETE)return l;if(r.type===_._VISIT_TRAVERSAL.POST_ORDER){if((l=t(a,r))===_.VISIT_RESULT.COMPLETE)return l;if(l===_.VISIT_RESULT.REJECT)break}}}return _.VISIT_RESULT.ACCEPT},_._hasSurrogate=function(e){return!(!e||1!==e.nodeType||!e.hasAttribute(_._SURROGATE_ATTR))},_.hasPopupsOpen=function(){return _.getDefaultLayer().children().length>0},_.getOpenPopupCount=function(){var e={popupCount:0},t=_.getDefaultLayer();return _.preOrderVisit(t,_._openPopupCountCallback,e),e.popupCount},_._openPopupCountCallback=function(e,t){return t.popupCount+=1,_.VISIT_RESULT.ACCEPT},_.findOpenPopups=function(){var e={},t=[];e.popups=t;var r=_.getDefaultLayer();return _.preOrderVisit(r,_._openPopupsCallback,e),t=e.popups,n(t)},_._openPopupsCallback=function(e,t){return t.popups.push(e[0]),_.VISIT_RESULT.ACCEPT},_.isAboveTopModalLayer=function(e){if(!e||!_.hasPopupsOpen())return!0;var t=function(){var e={topLayer:null},t=_.getDefaultLayer();if(_.preOrderVisit(t,function(e,t){if(t.level>0)return _.VISIT_RESULT.REJECT;var r=t.topLayer;return r?_.compareStackingContexts(n(e),n(r))>0&&(t.topLayer=e):t.topLayer=e,_.VISIT_RESULT.ACCEPT},e),e.topLayer)return e.topLayer[0]}();if(!t)return!0;var r=function(e){var t={topModalPopup:null};if(e.hasAttribute(_._OVERLAY_ATTR)&&(t.topModalPopup=n(e)),_.postOrderVisit(n(e),function(e,t){return e[0].hasAttribute(_._OVERLAY_ATTR)?(t.topModalPopup=e,_.VISIT_RESULT.COMPLETE):_.VISIT_RESULT.ACCEPT},t),t.topModalPopup)return t.topModalPopup[0]}(t);return!r||(o.isAncestorOrSelf(r,e)||_.compareStackingContexts(n(r),n(e))<0)},_.compareStackingContexts=function(e,r){function i(e,t){var r,i=["absolute","relative","fixed"],s=e.parents(),a=[];for(r=s.length-1;r>-1;r--)a.push(n(s[r]));(s=a).push(e);var l=[],u=0;for(r=0;r<s.length;r++){var c=s[r],d=c.css("position"),h=o.getCSSLengthAsFloat(c.css("opacity")),p=o.getCSSLengthAsInt(c.css("z-index")),f=n.inArray(c[0],c.parent().children());n.inArray(d,i)>-1&&p>0?(l.push({weight:[u,p,f],order:[f]}),u+=1):h<1?(l.push({weight:[u,1,f],order:[f]}),u+=1):t&&l.push({weight:[0,0,f],order:[f]})}return l}function s(e,t){for(var n=Math.max(e.length,t.length),r=0;r<n;r++){var i=r<e.length?e[r]:0,o=r<t.length?t[r]:0;if(i!==o)return i<o?-1:1}return 0}t.Assert.assertPrototype(e,n),t.Assert.assertPrototype(r,n);var a,l,u=i(e,!1),c=i(r,!1),d=Math.max(u.length,c.length);for(a=0;a<d;a++)if(0!==(l=s(a<u.length?u[a].weight:[-1],a<c.length?c[a].weight:[-1])))return l;for(u=i(e,!0),c=i(r,!0),d=Math.max(u.length,c.length),a=0;a<d;a++)if(0!==(l=s(a<u.length?u[a].order:[-1],a<c.length?c[a].order:[-1])))return l;return 0},_.eatEvent=function(e){e.stopPropagation(),e.preventDefault()},_.isPopupOpen=function(e){var t=e.parent();return!(!t||1!==t.length||!_._hasSurrogate(t[0]))},_._EVENTS_DATA="oj-popup-events",_._MODALITY_DATA="oj-popup-modality",_._DEFAULT_LAYER_ID="__oj_zorder_container",_._SURROGATE_ATTR="data-oj-surrogate-id",_._LAYER_ID_DATA="oj-popup-layer-id",_._OVERLAY_ATTR="data-oj-overlayid",_._OVERLAY_SELECTOR="oj-component-overlay";const m={};t._registerLegacyNamespaceProp("PositionUtils",m),m.normalizeHorizontalAlignment=function(e,r){for(var i=n.extend({},e),o=0;o<m._ALIGN_RULE_PROPERTIES.length;o++){var s=m._ALIGN_RULE_PROPERTIES[o],a=i[s];if(a)if(t.StringUtils.isString(a))i[s]=a.replace("start",r?"right":"left").replace("end",r?"left":"right").replace("<",r?"+":"-").replace(">",r?"-":"+");else for(var l=0;l<m._SUB_ALIGN_RULE_PROPERTIES.length;l++){var u=m._SUB_ALIGN_RULE_PROPERTIES[l],c=a[u];t.StringUtils.isString(c)&&(a[u]=c.replace("start",r?"right":"left").replace("end",r?"left":"right").replace("<",r?"+":"-").replace(">",r?"-":"+"))}}return i},m.normalizePositionOf=function(e,t,n){return"event"===e?n:null==e||"launcher"===e?t:e},m._normalizeEventForPosition=function(e){n.each(["pageX","pageY"],function(t,n){if(e&&void 0===e[n]&&e.originalEvent){var r,i=e.originalEvent,o=i.type;if(r="touchstart"===o||"touchmove"===o?"touches":"touchend"===o?"changedTouches":null){var s=i[r][0];s&&(e[n]=s[n])}}})},m._ALIGN_RULE_PROPERTIES=["my","at"],m._SUB_ALIGN_RULE_PROPERTIES=["vertical","horizontal"],m.isAligningPositionClipped=function(e){if(e.target&&e.target.height>0&&e.target.width>0){var t=e.target.element;return!m.isWithinViewport(t)}return!1},m.isWithinViewport=function(e){function t(e,t){var n;if(["hidden","scroll","auto"].indexOf(t.overflowY)>-1){if(e.bottom-t.top<-1)return!1;if(n="auto"===t.overflowX&&t.scrollWidth>t.innerWidth||"scroll"===t.overflowX?o.getScrollBarWidth():0,t.bottom-n-e.top<1)return!1}return!(["hidden","scroll","auto"].indexOf(t.overflowX)>-1&&(n="auto"===t.overflowY&&t.scrollHeight>t.innerHeight||"scroll"===t.overflowY?o.getScrollBarWidth():0,e.right-(t.left+("rtl"===o.getReadingDirection()?n:0))<-1||e.left-(t.right-("ltr"===o.getReadingDirection()?n:0))>-1))}function r(e){var t=e[0];if(1===t.nodeType){var r=n.extend({},t.getBoundingClientRect());return r.overflowX=e.css("overflow-x"),r.overflowY=e.css("overflow-y"),r.innerHeight=e.innerHeight(),r.innerWidth=e.innerWidth(),r.scrollHeight=t.scrollHeight,r.scrollWidth=t.scrollWidth,r}return{height:0,width:0}}function i(e){return["fixed","absolute","relative","sticky"].indexOf(e.css("position"))>-1&&(!isNaN(parseInt(e.css("top"),10))||!isNaN(parseInt(e.css("bottom"),10))||!isNaN(parseInt(e.css("left"),10))||!isNaN(parseInt(e.css("right"),10)))}if(!e)return!1;if(n.isWindow(e[0])||i(e))return!0;for(var s,a=r(e),l=!0,u=e.parent();l&&u&&u.length>0&&"BODY"!==u[0].nodeName&&1===u[0].nodeType&&!i(u);){if("visible"!==(s=u).css("overflow-x")||"visible"!==s.css("overflow-y")){var c=r(u);c.height>0&&c.width>0&&(l=t(a,c))}u=u.parent()}return l},m._ANIMATION_TRANSFORM_ORIGIN_RULES={"right-top":"right top","right-middle":"right center","right-bottom":"right bottom","left-top":"left top","left-middle":"left center","left-bottom":"left bottom","center-top":"center top","center-middle":"center center","center-bottom":"center bottom"},m._ALIGN_MNEMONIC_DATA="oj-popup-align-mnemonic",m.captureTransformOriginAnimationEffectsOption=function(e,t){var n=[t.horizontal,t.vertical].join("-");e.data(m._ALIGN_MNEMONIC_DATA,n)},m.addTransformOriginAnimationEffectsOption=function(e,n){var r,i;t.StringUtils.isString(n)?(i=!0,r=n):(i=!1,r=JSON.stringify(n));var o=/#myPosition/g;if(r.match(o)){var s=e.data(m._ALIGN_MNEMONIC_DATA);t.StringUtils.isEmptyOrUndefined(s)&&(s="center-middle");var a=m._ANIMATION_TRANSFORM_ORIGIN_RULES[s];r=r.replace(o,a),n=i?r:JSON.parse(r)}return n},m._JQUI_MNEMONIC_GRP_REGX=/^(\w+)(\+|-)?(\d+)?/,m._VERTICAL_ENUM_TST_REGX=/^top$|^center$|^bottom$/,m._HORIZONTAL_ENUM_TST_REGX=/^start$|^left$|^center$|^end$|^right$/,m._COLLISION_ENUM_TST_REGX=/^none$|^flip$|^flipfit$|^fit$|^flipcenter$/,m._parsePositionNmnemonic=function(e,t){var n=[null,Number.NaN],r=m._JQUI_MNEMONIC_GRP_REGX.exec(e);if(r[1]&&t.test(r[1])&&(n[0]=r[1],r[2])){var i=parseInt(r[3],10);isNaN(i)||(i*="-"===r[2]?-1:1,n[1]=i)}return n},m._parseJSON=function(e){if(t.StringUtils.isString(e)&&/^{/.test(e)&&/}$/.test(e))try{return JSON.parse(e)}catch(e){}return null},m._coerceMyAtToJet=function(e,r,i,s){var a=m._parseJSON(r);a&&(r=a),(a=m._parseJSON(i))&&(i=a),s||(s={});var l,u=n.extend({},s),c={x:0,y:0};if(i&&"x"in i&&"y"in i&&(c.x=o.getCSSLengthAsInt(i.x),c.y=o.getCSSLengthAsInt(i.y)),t.StringUtils.isString(r)){var d=r.split(/\s/);d.length>0&&!t.StringUtils.isEmpty(d[0])&&(l=m._parsePositionNmnemonic(d[0],m._HORIZONTAL_ENUM_TST_REGX))[0]&&(u.horizontal=l[0],isNaN(l[1])||(c.x=l[1])),d.length>1&&!t.StringUtils.isEmpty(d[1])&&(l=m._parsePositionNmnemonic(d[1],m._VERTICAL_ENUM_TST_REGX))[0]&&(u.vertical=l[0],isNaN(l[1])||(c.y=l[1]))}else r&&("horizontal"in r&&(l=m._parsePositionNmnemonic(r.horizontal,m._HORIZONTAL_ENUM_TST_REGX))[0]&&(u.horizontal=l[0],isNaN(l[1])||(c.x=l[1])),"vertical"in r&&(l=m._parsePositionNmnemonic(r.vertical,m._VERTICAL_ENUM_TST_REGX))[0]&&(u.vertical=l[0],isNaN(l[1])||(c.y=l[1])));var h={};return h[e]=u,h.offset=c,h},m._coerceCollisionToJet=function(e,t){var n=t;return m._COLLISION_ENUM_TST_REGX.test(e)&&(n=e),{collision:n}},m._coerceOfToJet=function(e,r){var i=m._parseJSON(e);i&&(e=i);var s=r;if(t.StringUtils.isString(e))s=e;else if(n.isWindow(e))s="window";else if(e instanceof Element||e instanceof n){(e=n(e)).uniqueId(),s="#"+function(e){for(var t=[],n=/\w|_|-/,r=0;r<e.length;r++){var i=e.substring(r,r+1);n.test(i)?t.push(i):t.push("\\"+i)}return t.join("")}(e.attr("id"))}else e instanceof Event||e instanceof n.Event?("pageX"in e||"pageY"in e)&&((s={}).x=o.getCSSLengthAsFloat(e.pageX),s.y=o.getCSSLengthAsFloat(e.pageY)):e&&("x"in e||"y"in e)&&((s={}).x=o.getCSSLengthAsFloat(e.x),s.y=o.getCSSLengthAsFloat(e.y));return{of:s}},m.coerceToJet=function(e,t){e||(e={});var r=m._parseJSON(e);r&&(e=r),t||(t={});var i=t.my,o=t.at,s=t.collision,a=t.of,l=m._coerceMyAtToJet("my",e.my,e.offset,i),u=m._coerceMyAtToJet("at",e.at,null,o),c={offset:{x:l.offset.x+u.offset.x,y:l.offset.y+u.offset.y}};return delete l.offset,delete u.offset,n.extend({},l,u,c,m._coerceCollisionToJet(e.collision,s),m._coerceOfToJet(e.of,a),function(e,t){return{using:n.isFunction(e)?e:t}}(e.using,void 0))},m.coerceToJqUi=function(e){function r(t,n){var r=[];if(e[t][n]?r.push(e[t][n]):r.push("center"),"my"===t&&e.offset){var i="horizontal"===n?"x":"y",o=e.offset[i];isNaN(o)||0===o||(r.push(o>0?"+":""),r.push(Math.floor(o).toString()))}return r.join("")}var i={};["my","at"].forEach(function(t){if(e[t]){var n=[];n.push(r(t,"horizontal")),n.push(" "),n.push(r(t,"vertical")),i[t]=n.join("")}});var o=e.of;if(t.StringUtils.isString(o))i.of="window"===o?window:o;else if(o&&!t.StringUtils.isString(o)&&"x"in o&&"y"in o){var s=o.x,a=o.y,l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,1,s,a,s,a,!1,!1,!1,!1,0,null),i.of=n.Event(l,{pageX:s,pageY:a})}else i.of=o;return e.collision&&(i.collision=e.collision),e.using&&(i.using=e.using),i},m.calcAvailablePopupSize=function(e,t,r){var i,s,a,l,u=n.position.getWithinInfo(r||window),c=n.position.getScrollInfo(u),d="rtl"===o.getReadingDirection(),h=d?c.width:0,p=d?0:c.width,f=t.element,_=t.target,m=u.isWindow?u.scrollLeft:0,g=u.isWindow?u.scrollTop:0,v=f.left,y=f.left+f.width,E=f.top,b=f.top+f.height,T=_.left,S=_.left+_.width,C=_.top,P=_.top+_.height,O=u.offset.left+m+h,A=u.offset.left+u.width+m-p,I=u.offset.top+g,R=u.offset.top+u.height+g-c.height;return v<T?(i=O,s=y<=T?T:y<=S?Math.min(S,A):A):v===T?T-O>A-S?(i=O,s=S):(i=T,s=A):v<S?(i=T,s=y<=S?S:A):(i=S,s=A),E<C?(a=I,l=b<=C?C:b<=P?Math.min(P,R):R):E===C?(a=C,l=R):E<P?(a=C,l=b<=P?P:R):(a=P,l=R),{width:s-i,height:l-a}},function(){var e,r=Math.max,i=Math.abs;const s=/left|center|right/,a=/top|center|bottom/,l=/[+-]\d+(\.[\d]+)?%?/,u=/^\w+/,c=/%$/;var d=n.fn.position,h=n.position.getWithinInfo;function p(e,t,n){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?n/100:1)]}function f(e,t){return parseInt(n.css(e,t),10)||0}function _(e){var n,r=e[0];if(9===r.nodeType)return{width:e.width(),height:e.height(),offset:{top:0,left:0}};if(null!=(n=r)&&n===n.window){var i=t.AgentUtils.getAgentInfo(),o=t.AgentUtils.OS.ANDROID===i.os||t.AgentUtils.OS.IOS===i.os;return{width:e.width(),height:o?r.innerHeight:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}}return r.preventDefault?{width:0,height:0,offset:{top:r.pageY,left:r.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}n.position={getWithinInfo:h.bind(this),scrollbarWidth:function(){if(void 0!==e)return e;var t,r,i=document.createElement("div");i.style.display="block",i.style.position="absolute",i.style.width="50px",i.style.height="50px",i.style.overflow="hidden";var o=document.createElement("div");return o.style.height="100px",o.style.width="auto",i.appendChild(o),n("body").append(n(i)),t=o.offsetWidth,i.style.overflow="scroll",t===(r=o.offsetWidth)&&(r=i.clientWidth),n(i).remove(),e=t-r},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),r=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),i="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&e.height<e.element[0].scrollHeight?n.position.scrollbarWidth():0,height:i?n.position.scrollbarWidth():0}}},n.fn.position=function(e){if(!e||!e.of)return d.apply(this,arguments);var t,o,c,h,m,g,v="string"==typeof(e=n.extend({},e)).of?n(document).find(e.of):n(e.of),y=n.position.getWithinInfo(e.within),E=n.position.getScrollInfo(y),b=(e.collision||"flip").split(" "),T={};return g=_(v),v[0].preventDefault&&(e.at="left top"),o=g.width,c=g.height,h=g.offset,m=n.extend({},h),n.each(["my","at"],function(){var t,n,r=(e[this]||"").split(" ");1===r.length&&(r=s.test(r[0])?r.concat(["center"]):a.test(r[0])?["center"].concat(r):["center","center"]),r[0]=s.test(r[0])?r[0]:"center",r[1]=a.test(r[1])?r[1]:"center",t=l.exec(r[0]),n=l.exec(r[1]),T[this]=[t?t[0]:0,n?n[0]:0],e[this]=[u.exec(r[0])[0],u.exec(r[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===e.at[0]?m.left+=o:"center"===e.at[0]&&(m.left+=o/2),"bottom"===e.at[1]?m.top+=c:"center"===e.at[1]&&(m.top+=c/2),t=p(T.at,o,c),m.left+=t[0],m.top+=t[1],this.each(function(){var s,a,l=n(this),u=l.outerWidth(),d=l.outerHeight(),_=f(this,"marginLeft"),g=f(this,"marginTop"),S=u+_+f(this,"marginRight")+E.width,C=d+g+f(this,"marginBottom")+E.height,P=n.extend({},m),O=p(T.my,l.outerWidth(),l.outerHeight());"right"===e.my[0]?P.left-=u:"center"===e.my[0]&&(P.left-=u/2),"bottom"===e.my[1]?P.top-=d:"center"===e.my[1]&&(P.top-=d/2),P.left+=O[0],P.top+=O[1],s={marginLeft:_,marginTop:g},n.each(["left","top"],function(r,i){n.ui.position[b[r]]&&n.ui.position[b[r]][i](P,{targetWidth:o,targetHeight:c,elemWidth:u,elemHeight:d,collisionPosition:s,collisionWidth:S,collisionHeight:C,offset:[t[0]+O[0],t[1]+O[1]],my:e.my,at:e.at,within:y,elem:l})}),e.using&&(a=function(t){var n=h.left-P.left,s=n+o-u,a=h.top-P.top,p=a+c-d,f={target:{element:v,left:h.left,top:h.top,width:o,height:c},element:{element:l,left:P.left,top:P.top,width:u,height:d},horizontal:s<0?"left":n>0?"right":"center",vertical:p<0?"top":a>0?"bottom":"middle"};o<u&&Math.abs(n+s)<o&&(f.horizontal="center"),c<d&&Math.abs(a+p)<c&&(f.vertical="middle"),r(i(n),i(s))>r(i(a),i(p))?f.important="horizontal":f.important="vertical",e.using.call(this,t,f)}),l.offset(n.extend(P,{using:a}))})};var m=n.ui.position.flip.left;n.ui.position.flip={left:m.bind(this),top:function(e,t){var n,r,i=t.within,o=i.offset.top+i.scrollTop,s=i.height,a=i.isWindow?i.scrollTop:i.offset.top,l=e.top-t.collisionPosition.marginTop,u=l-a,c=l+t.collisionHeight-s-a;n="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,r="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0;var d,h,p=-2*t.offset[1];u<0?((d=e.top+n+r+p+t.collisionHeight-s-o)<0||d<Math.abs(u))&&c<0&&u>c&&(e.top+=n+r+p):c>0&&((h=e.top-t.collisionPosition.marginTop+n+r+p-a)>0||Math.abs(h)<c)&&(e.top+=n+r+p)}},n.ui.position.fit={left:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,o=r.width,s=e.left-t.collisionPosition.marginLeft,a=i-s,l=s+t.collisionWidth-o-i;t.collisionWidth>o?a>0&&l<=0?(n=e.left+a+t.collisionWidth-o-i,e.left+=a-n):e.left=l>0&&a<=0?i:a>l?i+o-t.collisionWidth:i:a>0?e.left+=a:l>0?e.left-=l:e.left=Math.max(e.left-s,e.left),e.left<0&&(e.left=0)},top:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,a=i-s,l=s+t.collisionHeight-o-i;t.collisionHeight>o?a>0&&l<=0?(n=e.top+a+t.collisionHeight-o-i,e.top+=a-n):e.top=l>0&&a<=0?i:a>l?i+o-t.collisionHeight:i:a>0?e.top+=a:l>0?e.top-=l:e.top=Math.max(e.top-s,e.top),e.top<0&&(e.top=0)}},n.ui.position.flipcenter={left:function(e,t){var r=e.left;n.ui.position.flip.left.call(this,e,t);var i=t.within,s=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,l=e.left-t.collisionPosition.marginLeft,u=s-l,c=l+t.collisionWidth-a-s;(u>0||c>0)&&("right"===t.at[0]?r-=t.targetWidth/2:"left"===t.at[0]&&(r+=t.targetWidth/2),r-=("rtl"===o.getReadingDirection()?-1:1)*(t.elemWidth/2),e.left=Math.max(0,r))},top:function(e,t){var r=e.top;n.ui.position.flip.top.call(this,e,t);var i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,u=a+t.collisionHeight-s-o;(l>0||u>0)&&("top"===t.at[1]?r+=t.targetHeight/2:"bottom"===t.at[1]&&(r-=t.targetHeight/2),r+=t.elemHeight/2,e.top=Math.max(0,r))}}}();const g=function(){this.Init()};t._registerLegacyNamespaceProp("PopupLiveRegion",g),t.Object.createSubclass(g,t.Object,"oj.PopupLiveRegion"),g.prototype.Init=function(){g.superclass.Init.call(this),isNaN(g._refCounter)?g._refCounter=1:g._refCounter+=1},g.prototype.destroy=function(){if(!isNaN(g._refCounter)&&(g._refCounter-=1)<1){var e=n(document.getElementById(g._POPUP_LIVE_REGION_ID));e.length>0&&e.remove()}},g.prototype.announce=function(e){if(!t.StringUtils.isEmpty(e)){var r=g._getLiveRegion();r.children().remove(),setTimeout(function(){n("<div>").text(e).appendTo(r)},250)}},g._getLiveRegion=function(){var e=n(document.getElementById(g._POPUP_LIVE_REGION_ID));return 0===e.length&&((e=n("<div>")).attr({id:g._POPUP_LIVE_REGION_ID,role:"log","aria-live":"polite","aria-relevant":"additions"}),e.addClass("oj-helper-hidden-accessible"),e.appendTo(document.body)),e},g._POPUP_LIVE_REGION_ID="__oj_popup_arialiveregion";const v=function(e,r,i,o,s){t.Assert.assertPrototype(e,n),t.Assert.assertString(r),t.Assert.assertFunction(i),t.Assert.assertStringOrNull(o),this._options={insertBefore:!1,preventKeyEvents:!0},s&&(this._options=Object.assign({},this._options,s)),this._sibling=e,this._message=r,this._callback=i,this._id=o,this.Init()};t._registerLegacyNamespaceProp("PopupSkipLink",v),t.Object.createSubclass(v,t.Object,"oj.PopupSkipLink"),v.prototype.Init=function(){v.superclass.Init.call(this);var e=this._sibling,t=this._callback,r=this._message,i=this._options.insertBefore,o=this._options.preventKeyEvents;this._message=null;var s=this._id;this._id=null;var a=n(document.getElementById(s));a.length<1&&(a=n("<a>").attr({tabindex:"-1",href:"#",role:"link"})),a.attr("id",s),a.addClass("oj-helper-hidden-accessible"),a.text(r),i?a.insertBefore(e):a.insertAfter(e),a.on("click",v._activateHandler.bind(this,t)),o&&a.on("keydown keyup keypress",v._keyHandler),e.data(v._SKIPLINK_ATTR,a)},v._activateHandler=function(e,t){_.eatEvent(t),window.setImmediate(e)},v._keyHandler=function(e){e.keyCode===n.ui.keyCode.ENTER&&_.eatEvent(e)},v.prototype.destroy=function(){var e=this._sibling;if(delete this._sibling,delete this._callback,e){var t=e.data(v._SKIPLINK_ATTR);e.removeData(v._SKIPLINK_ATTR),t&&(t.off("click keydown keyup keypress"),t.remove())}},v.prototype.getLink=function(){var e,t=this._sibling;return t&&(e=t.data(v._SKIPLINK_ATTR)),e},v._SKIPLINK_ATTR="oj-skiplink";const y=function(e,t,n,r){this._element=e,this._operation=t,this._widgetName=n,this._isCustomElement=!!r,this.Init()};t._registerLegacyNamespaceProp("PopupWhenReadyMediator",y),t.Object.createSubclass(y,t.Object,"oj.PopupWhenReadyMediator"),y.prototype.Init=function(){y.superclass.Init.call(this),this._resolvedQueue=[],this._callback=this._eventHandler.bind(this);var e=this._operation,t=["oj"];this._isCustomElement?(t.push(e.charAt(0).toUpperCase()),t.push(e.slice(1))):t.push(e);var n=t.join("");this._eventType=n,this._element.on(n,this._callback);var r=l.getContext(this._element[0]).getBusyContext(),i={description:this._getBusyStateDescription.bind(this,this._element,this._operation,this._widgetName)},o=r.addBusyState(i);this.AddPromiseExecutor(o),this._whenReadyPromise=new Promise(this.AddPromiseExecutor.bind(this))},y.prototype._getBusyStateDescription=function(e,t,n){return n+" identified by '"+e.attr("id")+"' is busy animating on the '"+t+"' operation."},y.prototype._deliverResolved=function(e){var t=this._resolvedQueue;this._resolvedQueue=null;var n=e||this._operation;this._operation=null;for(var r=0;r<t.length;r++)try{t[r](n)}catch(e){i.error("Error resolving whenReady promises:\n%o",e)}this._whenReadyPromise=Promise.resolve("none")},y.prototype.destroy=function(){if(this._resolvedQueue&&this._deliverResolved("none"),this._callback){var e=this._eventType;this._element.off(e,this._callback)}this._callback=null,this._element=null,this._operation=null,this._whenReadyPromise=null,this._widgetName=null,this._eventType=null},y.prototype.getWhenReadyPromise=function(){return this._whenReadyPromise},y.prototype._eventHandler=function(e){e.target===this._element[0]&&(this._element.off(e.type,this._callback),this._deliverResolved(),this._callback=null)},y.prototype._getPendingOperation=function(){return this._operation?this._operation:"none"},y.prototype.AddPromiseExecutor=function(e,t){this._resolvedQueue&&this._resolvedQueue.push(e)},y.prototype.isOperationPending=function(e,t,n,r){var o=!1,s=this._widgetName,a=this._getPendingOperation();if(t===a)i.info("An %s instance invoked a '%s' operation while pending animation of the same type of operation.  The second request will be ignored.",s,t),o=!0;else if("none"!==a){i.info("An %s instance invoked a '%s' operation while pending animation of a '%s' operation. The second request will be invoked after the pending operation completes.",s,t,a),new Promise(this.AddPromiseExecutor.bind(this)).then(function(){this[n].apply(this,r)}.bind(e)),o=!0}return o};class E extends c.Component{constructor(){super(...arguments),this._setRootRef=e=>{this._rootRef=e}}render(e){return u.jsx("div",Object.assign({style:{display:"none"},ref:this._setRootRef},{children:e.children}))}componentDidMount(){this._popup=n(this._rootRef.firstChild);const e={[p.OPTION.POPUP]:this._popup,[p.OPTION.EVENTS]:{[p.EVENT.POPUP_AUTODISMISS]:this.props.autoDismiss,[p.EVENT.POPUP_REFRESH]:function(){this._popup.position(this._getPosition())}.bind(this)},[p.OPTION.LAYER_SELECTORS]:this.props.layerSelectors,[p.OPTION.CUSTOM_ELEMENT]:!0,[p.OPTION.LAUNCHER]:n(this._rootRef),[p.OPTION.POSITION]:this._getPosition()};p.getInstance().open(e)}componentWillUnmount(){p.getInstance().close({[p.OPTION.POPUP]:this._popup})}componentDidUpdate(){this._popup.position(this._getPosition())}_getPosition(){return m.normalizeHorizontalAlignment(this.props.position,"rtl"===o.getReadingDirection())}}E.defaultProps={autoDismiss:null,layerSelectors:"",position:{}};const b=d.ElementUtils.getUniqueId.bind(null,null),T=Symbol();function S(e,n){const r={},i=t.PopupService.OPTION;r[i.POPUP]=e,r[i.LAUNCHER]=n,r[i.LAYER_SELECTORS]="oj-v-layer-host-layer";const o=t.PopupService.EVENT;return r[i.EVENTS]={[o.POPUP_BEFORE_OPEN]:()=>{},[o.POPUP_AFTER_OPEN]:()=>{},[o.POPUP_BEFORE_CLOSE]:()=>{},[o.POPUP_AFTER_CLOSE]:()=>{},[o.POPUP_AUTODISMISS]:()=>{},[o.POPUP_REFRESH]:()=>{},[o.POPUP_CLOSE]:()=>{!function(e,n){if(!e)return;const r=t.PopupService.getInstance(),i=S(e,n);r.close(i),e.remove()}(e,n)},[o.POPUP_REMOVE]:()=>{}},r}e.PopupLiveRegion=g,e.PopupService=p,e.PopupSkipLink=v,e.PopupWhenReadyMediator=y,e.PositionUtils=m,e.VPopup=E,e.getLayerHost=function(e){const n=e.anchorRef;let r;if(e[T]?r=document.getElementById(e[T]):e[T]="__v_layer_host_"+b(),r)return r;let i,o=!1;i=null!=n?n.current:e;let s=e.closest("#__oj_zorder_container");if(s?o=!0:n&&n.current&&!n.current.x&&(s=n.current.closest("#__oj_zorder_container"),s&&(o=!0)),o)return function(e,n){if(!e)return;let r=document.getElementById(e);r||(r=document.createElement("div"),r.setAttribute("id",e),document.body.appendChild(r));const i=t.PopupService.getInstance(),o=S(r,n);return i.open(o),r}(e[T],i);let a=document.getElementById("__root_layer_host");return a||(a=document.createElement("div"),a.setAttribute("id","__root_layer_host"),a.classList.add("oj-root-layer-host"),s=document.getElementById("__oj_zorder_container"),s?s.after(a):document.body.prepend(a)),a},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojvcomponent",["require","exports","preact/compat","preact","ojs/ojcustomelement-utils","ojs/ojmetadatautils","ojs/ojcore-base","ojs/ojpreact-patch","ojs/ojconfig","@oracle/oraclejet-preact/UNSAFE_Environment","ojs/ojpopupcore","@oracle/oraclejet-preact/UNSAFE_Layer","@oracle/oraclejet-preact/utils/UNSAFE_matchTranslationBundle"],function(e,t,n,r,i,o,s,a,l,u,c,d,h){"use strict";s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;const p=(e,t)=>{Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=i.toSymbolizedValue(e[t]))},f=r.options.vnode;r.options.vnode=e=>{const t=e.type;if("string"==typeof t&&i.CustomElementUtils.isElementRegistered(t)){const t=e.props;p(t,"value"),p(t,"checked")}null==f||f(e)};let _,m=0;const g=new Map,v=Symbol();function y(e,t,n,o,s){const l=function(e){let t=e[v];void 0===t&&(t="@oj_s"+m++,e[v]=t);return t}(t),u=function(e,t,n,r){let o,s=0;const l=()=>{0===s&&(o.remove(),r.add(()=>{0===s&&n(o)}))};return n=>{if(null!=n){s++,o=n,o[a.OJ_SLOT_REMOVE]=l;const e=n.parentElement;a.patchSlotParent(e),t(n)}else if(s--,s<0)throw new i.JetElementError(e,"Slot replacer count underflow")}}(e,o,s,n);return r.h(()=>(function(e,t){0===g.size&&(_=document.createElement,document.createElement=E);g.set(e,t)}(l,t),n.add(()=>{return e=l,g.delete(e),void(0===g.size&&(document.createElement=_));var e}),r.h(l,{ref:u,key:l})),null)}function E(e,t){return e.startsWith("@oj_s")?g.get(e):_.call(document,e,t)}class b{parkNode(e){this._getLot().appendChild(e),s.Components&&s.Components.subtreeHidden(e)}disposeNodes(e,t){b._iterateSlots(e,e=>{const n=e.parentElement;this._lot===n?(t(e),this._lot.removeChild(e)):n||t(e)})}disconnectNodes(e){b._iterateSlots(e,e=>{this._lot===e.parentElement&&this._lot.removeChild(e)})}reconnectNodes(e){b._iterateSlots(e,e=>{e.parentElement||this._lot.appendChild(e)})}isParked(e){return(null==e?void 0:e.parentElement)===this._lot}_getLot(){if(!this._lot){const e=document.createElement("div");e.style.display="none",document.body.appendChild(e),this._lot=e}return this._lot}static _iterateSlots(e,t){Object.keys(e).forEach(n=>{e[n].forEach(e=>{t(e)})})}}const T=new b,S=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(e,t,n){"-"===t[0]?e.setProperty(t,n):null==n?e[t]="":"number"!=typeof n||S.test(t)?e[t]=n:e[t]=n+"px"}function P(e,t,n,r,i){let o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||C(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||C(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])if(o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e._listeners||(e._listeners={}),e._listeners[t+o]=n,n){if(!r){const n=o?A:O;e.addEventListener(t,n,o)}}else{const n=o?A:O;e.removeEventListener(t,n,o)}else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function O(e){this._listeners[e.type+!1](r.options.event?r.options.event(e):e)}function A(e){this._listeners[e.type+!0](r.options.event?r.options.event(e):e)}class I{constructor(){this._queue=[]}add(e){this._queue.push(e)}flush(){this._queue.forEach(e=>e()),this._queue=[]}}const R=Symbol(),w=Symbol(),N=Symbol(),j=new Set,D=Symbol(),x=Symbol();class L{constructor(e,t,n,o,s,a){this.ref=r.createRef(),this._isPatching=!1,this._props={ref:this.ref},this._verifyingState=M.Unset,this._earlySets=[],this._eventQueue=[],this._isRenderQueued=!1,this._executeOnCommit=new I,this._state=i.CustomElementUtils.getElementState(e),this._element=e,this._metadata=n,this._component=t,this._controlledProps=(null==s?void 0:s.length)>0?new Set(s):j,this._controlledAttrs=(null==o?void 0:o.length)>0?new Set(o):j,this._defaultProps=a,this._rootPatchCallback=this._patchRootElement.bind(this)}connectedCallback(){this._verifyConnectDisconnect(M.Connect)}disconnectedCallback(){this._verifyConnectDisconnect(M.Disconnect)}attributeChangedCallback(e,t,n){if(!this._isPatching&&this._state.canHandleAttributes()){const r=i.AttributeUtils.attributeToPropertyName(e),o=r.split(".")[0];if(this._state.dirtyProps.has(o))this._state.dirtyProps.delete(o);else if(t===n)return;null===n&&(n=void 0),"knockout"===this._state.getBindingProviderType()&&(i.AttributeUtils.isGlobalOrData(r)||this._element.dispatchEvent(new CustomEvent("attribute-changed",{detail:{attribute:e,value:n,previousValue:t}})));const[s,a,l]=this._getPropValuePair(e,n);s&&this._updatePropsAndQueueRenderAsNeeded(s,a,l)}}getProperty(e){var t;if(o.getPropertyMetadata(e,null===(t=this._metadata)||void 0===t?void 0:t.properties)){let t=i.CustomElementUtils.getPropertyValue(this._props,e);return void 0===t&&this._defaultProps&&(t=i.CustomElementUtils.getPropertyValue(this._defaultProps,e)),t}return this._element[e]}setProperty(e,t){var n;if(this._isPatching)return;const r=o.getPropertyMetadata(e,null===(n=this._metadata)||void 0===n?void 0:n.properties);r?this._state.allowPropertySets()?(t=i.transformPreactValue(this._element,r,t),this._updatePropsAndQueueRenderAsNeeded(e,t,r)):this._earlySets.push({property:e,value:t}):this._element[e]=t}setProperties(e){this._isPatching||Object.keys(e).forEach(t=>{this.setProperty(t,e[t])})}getProps(){return this._props}isInitialized(){return!!this._vdom}appendChildHelper(e,t){return i.CustomElementUtils.canRelocateNode(e,t)?HTMLElement.prototype.appendChild.call(e,t):t}insertBeforeHelper(e,t,n){return i.CustomElementUtils.canRelocateNode(e,t)?HTMLElement.prototype.insertBefore.call(e,t,n):t}_render(){var e;if(!this._vdom){this._initializePropsFromDom();const t=this._metadata.events;t&&this._initializeActionCallbacks(t);const n=null===(e=this._metadata.extension)||void 0===e?void 0:e._WRITEBACK_PROPS;n&&this._initializeWritebackCallbacks(n),this._playbackEarlyPropertySets()}const t=this._state.getTranslationBundleMap();this._rootEnvironment||(this._rootEnvironment={user:{locale:l.getLocale()},translations:t}),this._layerContext||(this._layerContext={getHost:c.getLayerHost.bind(null,this._element)});const n=r.h(this._component,this._props),i=r.h(u.RootEnvironmentProvider,{environment:this._rootEnvironment,children:n});this._vdom=r.h(d.LayerContext.Provider,{value:this._layerContext,children:i});const o=n.props;o[R]=this._element,o[w]=this._rootPatchCallback,o[N]=this._executeOnCommit,this._isPatching=!0,r.render(this._vdom,this._element),this._isPatching=!1}_getPropValuePair(e,t){var n,r;if("knockout"!==this._state.getBindingProviderType()||!i.AttributeUtils.getExpressionInfo(t).expr){const s=i.AttributeUtils.attributeToPropertyName(e),a=o.getPropertyMetadata(s,null===(n=this._metadata)||void 0===n?void 0:n.properties);if(a)return a.readOnly?[null,null,null]:[s,i.AttributeUtils.attributeToPropertyValue(this._element,e,t,a),a];const l=i.AttributeUtils.getGlobalPropForAttr(e);if(this._controlledProps.has(l))return[l,null!==(r=this[l])&&void 0!==r?r:t,null]}return[null,null,null]}_updatePropsAndQueueRenderAsNeeded(e,t,n,r=!0){const o=this.getProperty(e);if(n&&i.ElementUtils.comparePropertyValues(n,t,o))return;const a=e.split("."),l=a[0],u=a.length>1;let c=this.getProperty(l);if(s.CollectionUtils.isPlainObject(c)&&(c=s.CollectionUtils.copyInto({},c,void 0,!0)),r&&this._verifyProps(e,t,n),this._updateProps(a,t),!r||this._state.allowPropertyChangedEvents()&&!i.AttributeUtils.isGlobalOrData(e)){this._state.dirtyProps.add(l);const n=r?"external":"internal",i={value:this.getProperty(l),previousValue:c,updatedFrom:n};u&&(i.subproperty={path:e,value:t,previousValue:o});const s=l+"Changed",a=u?null:e=>{if("propChange"!==e.kind||e.type!==s||e.detail.subproperty)return null;const t=Object.assign({},i,{previousValue:e.detail.previousValue});return{type:s,detail:t,collapse:a,kind:"propChange"}};this._queueFireEventsTask({type:s,detail:i,collapse:a,kind:"propChange"})}const d=this._oldRootProps;d&&this._controlledProps.has(e)&&(d[e]=t),this._queueRender(this._vdom&&!(null==n?void 0:n.readOnly))}_queueRender(e){e&&!this._isRenderQueued&&(this._isRenderQueued=!0,window.queueMicrotask(()=>{this._isRenderQueued=!1,this._render()}))}_verifyProps(e,t,n){if(n){if(n.readOnly)throw new i.JetElementError(this._element,`Read-only property '${e}' cannot be set.`);try{o.checkEnumValues(this._element,e,t,n)}catch(e){throw new i.JetElementError(this._element,e.message)}}}_updateProps(e,t){var n,r;const i=e[0];let o=this._props;if(e.length>1){const e=null!==(n=this._props[i])&&void 0!==n?n:null===(r=this._defaultProps)||void 0===r?void 0:r[i];e&&s.CollectionUtils.isPlainObject(e)?o[i]=s.CollectionUtils.copyInto({},e,void 0,!0):o[i]={}}for(;e.length;){const n=e.shift();0===e.length?o[n]=t:o[n]||(o[n]={}),o=o[n]}}_queueFireEventsTask(e){let t=e;const n=this._getEventCollapseInfo(e,this._eventQueue);if(n){const[e,r]=n;this._eventQueue.splice(e,1),t=r}return this._eventQueue.push(t),this._queuedEvents||(this._queuedEvents=new Promise(e=>{window.queueMicrotask(()=>{try{for(;this._eventQueue.length;){const e=this._eventQueue.shift(),t="propChange"===e.kind?new CustomEvent(e.type,{detail:e.detail}):e.event;this._element.dispatchEvent(t)}}finally{e(),this._queuedEvents=null}})})),this._queuedEvents}_getEventCollapseInfo(e,t){var n;if("propChange"!==e.kind)return null;for(let r=0;r<t.length;r++){const i=null===(n=e.collapse)||void 0===n?void 0:n.call(e,t[r]);if(i)return[r,i]}return null}_verifyConnectDisconnect(e){this._verifyingState===M.Unset&&window.queueMicrotask(()=>{this._verifyingState===e&&(this._verifyingState===M.Connect?this._verifiedConnect():this._verifiedDisconnect()),this._verifyingState=M.Unset}),this._verifyingState=e}_verifiedConnect(){if(this._state.isComplete())this._reconnectSlots();else if(this._state.startCreationCycle(),this._state.isCreating()){const e=()=>{this._element[i.CHILD_BINDING_PROVIDER]="preact";let e=this._state.getSlotMap();if(e)this._reconnectSlots();else{e=this._state.getSlotMap(!0);const t=this._removeAndConvertSlotsToProps(e);Object.assign(this._props,t)}this._render()};this._state.setCreateCallback(e),this._state.setBindingsDisposedCallback(()=>this._handleBindingsDisposed())}}_verifiedDisconnect(){this._state.isComplete()?(this._disconnectSlots(),this._state.resetCreationCycle(),r.render(null,this._element),this._applyRef(this._oldRootRef,null),this._oldRootRef=void 0,this._vdom=null):this._state.pauseCreationCycle()}_initializePropsFromDom(){const e=this._element.attributes;for(let t=0;t<e.length;t++){const{name:n,value:r}=e[t],[i,o,s]=this._getPropValuePair(n,r);i&&(this._verifyProps(i,o,s),this._updateProps(i.split("."),o))}}_playbackEarlyPropertySets(){for(var e;this._earlySets.length;){const t=this._earlySets.shift(),n=o.getPropertyMetadata(t.property,null===(e=this._metadata)||void 0===e?void 0:e.properties),r=i.transformPreactValue(this._element,n,t.value);this.setProperty(t.property,r)}}_patchRootElement(e){var t;const n=this._oldRootProps||this._getInitialRootProps(),r=e.props;!function(e,t,n,r,i,o){let s;for(s in n)"children"===s||"key"===s||s in t||o(e,s,null,n[s],r)||P(e,s,null,n[s],r);for(s in t)i&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===t[s]||o(e,s,t[s],n[s],r)||P(e,s,t[s],n[s],r)}(this._element,r,n,!1,!1,L._setPropertyOverrides);const i=e.ref;this._oldRootRef!==i&&(this._applyRef(i,this._element),i&&(null===(t=this._oldRootRef)||void 0===t||t.call(this,null))),this._oldRootProps=r,this._oldRootRef=i}_applyRef(e,t){e&&("function"==typeof e?e(t):e.current=t)}static _setPropertyOverrides(e,t,n,r){if("style"===t&&"string"==typeof n)throw new Error("CSS style must be an object. CSS text is not supported");if("class"===t||"className"===t){const t=null==r?j:i.CustomElementUtils.getClassSet(r),o=null==n?j:i.CustomElementUtils.getClassSet(n);for(const n of t.values())o.has(n)||e.classList.remove(n);for(const n of o.values())t.has(n)||e.classList.add(n);return!0}if("o"===t[0]&&"n"===t[1]){const i=t!==(t=t.replace(/Capture$/,"")),o=t.toLowerCase();o in e&&(t=o),t=t.slice(2),L._getRootListeners(e,i)[t]=n;const s=i?L._eventProxyCapture:L._eventProxy;return n?r||e.addEventListener(t,s,i):e.removeEventListener(t,s,i),!0}return"role"===t&&(n?e.setAttribute(t,n):e.removeAttribute(t),!0)}static _getRootListeners(e,t){const n=t?x:D;let r=e[n];return r||(r=e[n]={}),r}_getInitialRootProps(){const e={};for(const t of this._controlledProps.values())t in this._props&&(e[t]=this._props[t]);return e}_removeAndConvertSlotsToProps(e){var t,n;const r=null===(t=this._metadata.extension)||void 0===t?void 0:t._DYNAMIC_SLOT,i=null==r?void 0:r.prop,s=null===(n=this._metadata)||void 0===n?void 0:n.slots,a=Object.keys(e),l={};if(a.length>0&&a.forEach(t=>{const n=e[t];n.forEach(e=>{T.parkNode(e)});const a=o.getPropertyMetadata(t,s);if(a){const e=!!(null==a?void 0:a.data),r=e||""!==t?t:"children";this._assignSlotProperty(l,r,void 0,t,e,n)}else{if(!i)return;l[i]||(l[i]={});const e=r.isTemplate;this._assignSlotProperty(l,t,i,t,e,n)}}),"knockout"===this._state.getBindingProviderType()){let e;for(;e=this._element.firstChild;)this._state.getBindingProviderCleanNode()(e),e.remove()}return l}_assignSlotProperty(e,t,n,r,o,s){var a,l;const u=n?e[n]:e;if(o){if("TEMPLATE"!==(null===(a=s[0])||void 0===a?void 0:a.nodeName))throw new i.JetElementError(this._element,`Slot content for template slot ${r} must be a template element.`);{const e=s[0];u[t]=null!==(l=e.render)&&void 0!==l?l:this._getSlotRenderer(e,t,n)}}else{const e=s.map((e,t)=>y(this._element,e,this._executeOnCommit,this._handleSlotMount.bind(this),this._handleSlotUnmount.bind(this)));u[t]=e}}_getSlotRenderer(e,t,n){const r=this._state.getBindingProvider(),o=r?()=>{(n?this._props[n]:this._props)[t]=this._getSlotRenderer(e,t,n),this._queueRender(!0)}:null;return t=>{const n=this._state.getTemplateEngine();if(!n)throw new i.JetElementError(this._element,"Unexpected call to render a template slot");return n.execute(this._element,e,t,r,o)}}_handleBindingsDisposed(){T.disposeNodes(this._state.getSlotMap(),this._state.getBindingProviderCleanNode()),this._state.disposeTemplateCache()}_disconnectSlots(){T.disconnectNodes(this._state.getSlotMap())}_reconnectSlots(){T.reconnectNodes(this._state.getSlotMap())}_handleSlotUnmount(e){this._state.isComplete()&&T.parkNode(e)}_handleSlotMount(e){var t;const n=null===(t=s.Components)||void 0===t?void 0:t.subtreeShown;n&&(e.isConnected?n(e):this._executeOnCommit.add(()=>n(e)))}static _eventProxy(e){this[D][e.type](r.options.event?r.options.event(e):e)}static _eventProxyCapture(e){this[x][e.type](r.options.event?r.options.event(e):e)}_initializeActionCallbacks(e){Object.keys(e).forEach(t=>{const n=e[t],r=i.AttributeUtils.eventTypeToEventListenerProperty(t);this._props[r]=e=>{const r=Object.assign({},e),i=!!n.cancelable,o=[];i&&(r.accept=e=>{o.push(e)});const s={detail:r,bubbles:!!n.bubbles,cancelable:i},a=new CustomEvent(t,s),l=this._queueFireEventsTask({event:a,kind:"action"});if(i)return l.then(()=>a.defaultPrevented?Promise.reject():Promise.all(o).then(()=>Promise.resolve(),e=>Promise.reject(e)))}})}_initializeWritebackCallbacks(e){e.forEach(e=>{var t;const n=i.AttributeUtils.propertyNameToChangedCallback(e),r=o.getPropertyMetadata(e,null===(t=this._metadata)||void 0===t?void 0:t.properties);this._props[n]=t=>{this._updatePropsAndQueueRenderAsNeeded(e,t,r,!1)}})}}var M;!function(e){e[e.Connect=0]="Connect",e[e.Disconnect=1]="Disconnect",e[e.Unset=2]="Unset"}(M||(M={}));const k=new class{constructor(){this.appendChildHelper=(e,t)=>HTMLElement.prototype.appendChild.call(e,t),this.insertBeforeHelper=(e,t,n)=>HTMLElement.prototype.insertBefore.call(e,t,n)}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(e,t,n){}getProperty(e){}setProperty(e,t){}setProperties(e){}};class F extends HTMLElement{static get observedAttributes(){let e=[];return this.metadata.properties&&(e=e.concat(o.getFlattenedAttributes(this.metadata.properties))),this.rootObservedAttributes&&(e=e.concat(this.rootObservedAttributes)),e}connectedCallback(){this._getHelper().connectedCallback()}disconnectedCallback(){var e;null===(e=this._helper)||void 0===e||e.disconnectedCallback()}attributeChangedCallback(e,t,n){var r;null===(r=this._helper)||void 0===r||r.attributeChangedCallback(e,t,n)}getProperty(e){return this._getHelper().getProperty(e)}setProperty(e,t){this._getHelper().setProperty(e,t)}setProperties(e){this._getHelper().setProperties(e)}appendChild(e){return this._getHelper().appendChildHelper(this,e)}insertBefore(e,t){return this._getHelper().insertBeforeHelper(this,e,t)}setAttribute(e,t){if("class"===e){const e=i.CustomElementUtils.getClassSet(t);i.CustomElementUtils.getElementState(this).setOuterClasses(e)}else HTMLElement.prototype.setAttribute.call(this,e,t)}removeAttribute(e){"class"===e?this.setAttribute("class",""):HTMLElement.prototype.removeAttribute.call(this,e)}_getHelper(){return this._helper||(this.hasAttribute("data-oj-jsx")?(this.removeAttribute("data-oj-jsx"),this.classList.add("oj-complete"),this._helper=k):this._helper=new L(this,this.constructor.component,this.constructor.metadata,this.constructor.rootObservedAttributes,this.constructor.rootObservedProperties,this.constructor.defaultProps)),this._helper}}const B=new Set(["ar","ar-XB","bg","bs","bs-Cyrl","cs","da","de","el","en","en-XA","en-XC","es","et","fi","fr","fr-CA","he","hr","hu","is","it","ja","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sk","sl","sr","sr-Latn","sv","th","tr","uk","vi","zh-Hans","zh-Hant"]);class U extends i.ElementState{constructor(e){super(e),this._translationBundleMap={}}getTranslationBundleMap(){return this._translationBundleMap}getTemplateEngine(){return U._cachedTemplateEngine}getTrackChildrenOption(){return"immediate"}allowPropertyChangedEvents(){return super.allowPropertyChangedEvents()&&(e=>{var t;const n=e._getHelper();return!!(null===(t=n.isInitialized)||void 0===t?void 0:t.call(n))})(this.Element)}disposeTemplateCache(){var e;const t=this.getSlotMap(),n=Object.keys(t),r=i.CustomElementUtils.getElementDescriptor(this.Element.tagName).metadata,s=null===(e=null==r?void 0:r.extension)||void 0===e?void 0:e._DYNAMIC_SLOT,a=!!(null==s?void 0:s.isTemplate);n.filter(e=>{const t=o.getPropertyMetadata(e,null==r?void 0:r.slots);if(t){if(t.data)return!0}else if(a)return!0;return!1}).forEach(e=>{var n;const r=t[e];"TEMPLATE"===(null===(n=r[0])||void 0===n?void 0:n.nodeName)&&this.getTemplateEngine().cleanupTemplateCache(r[0])})}GetPreCreatedPromise(){let e=super.GetPreCreatedPromise();return this.Element.constructor.translationBundleMap&&(e=e.then(()=>this._getTranslationBundlesPromise())),!U._cachedTemplateEngine&&this._hasDirectTemplateChildren()?e.then(()=>this._getTemplateEnginePromise()):e}IsTransferAttribute(e){return this.Element.constructor.rootObservedAttrSet.has(e)}GetDescriptiveTransferAttributeValue(e){return((e,t)=>{var n;const r=e.getAttribute(t);if(r)return r;const i=e._getHelper();return((null===(n=i.getProps)||void 0===n?void 0:n.call(i))||{})[t]})(this.Element,e)}_getTranslationBundlesPromise(){void 0===U._translationBundleLocale&&(U._translationBundleLocale=h.matchTranslationBundle([l.getLocale()],B));const e=this.Element.constructor.translationBundleMap,t=Object.keys(e),n=[];return t.forEach(t=>{if(!U._bundlePromiseCache[t]){const n=e[t];U._bundlePromiseCache[t]=n(U._translationBundleLocale)}n.push(U._bundlePromiseCache[t])}),Promise.all(n).then(e=>{t.forEach((t,n)=>{this._translationBundleMap[t]=e[n]})})}_getTemplateEnginePromise(){return new Promise(function(t,n){e(["ojs/ojvcomponent-template"],function(e){t(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t}(e))},n)}).then(e=>{U._cachedTemplateEngine=e})}_hasDirectTemplateChildren(){const e=this.Element.childNodes;for(let t=0;t<e.length;t++){if("template"===e[t].localName)return!0}return!1}}U._bundlePromiseCache={};const V=()=>{throw new Error("The Root component should only be used as the top-level return from a VComponent render function.  It will be rewritten by VComponent code so Preact will never actually render it unless it appears in an invalid location.")};function H(e){return function(t){var n;const s=t.metadata,a=(null===(n=null==s?void 0:s.extension)||void 0===n?void 0:n._OBSERVED_GLOBAL_PROPS)||[],l=a.map(e=>i.AttributeUtils.getGlobalAttrForProp(e));!function(e,t,n,o){const s=t.prototype.render;t.prototype.render=function(t,a,l){var u;const c=null===(u=null==n?void 0:n.extension)||void 0===u?void 0:u._READ_ONLY_PROPS;c&&c.forEach(e=>delete t[e]);const d=t[R],h=!!d;h&&i.CustomElementUtils.getElementState(d).disposeTemplateCache();let p=s.call(this,t,a,l);if((null==p?void 0:p.type)===V&&(p=r.cloneElement(p),p.type=e),(null==p?void 0:p.type)!==e){const o={};return h?p:(o.ref=function(e){e&&(e[i.CustomElementUtils.VCOMP_INSTANCE]={props:t})},o["data-oj-jsx"]="",Object.keys(t).forEach(e=>{K(e,n)&&(o[e]=t[e])}),r.h(e,o,p))}if(!h){const e=null==p?void 0:p.props;t.style&&e.style&&(e.style=Object.assign({},t.style,e.style));const r=t.class;if(r){const t=e.class||"";e.class=`${r} ${t}`}return e["data-oj-jsx"]="",Object.keys(t).forEach(r=>{r in e||o.has(r)||!K(r,n)||(e[r]=t[r])}),p}return t[w](p),r.h(r.Fragment,{},null==p?void 0:p.props.children)}}(e,t,s,new Set(a)),function(e){const t=e.prototype,n=t.componentDidMount,r=t.componentDidUpdate;t.componentDidMount=function(){G.call(this),null==n||n.call(this)},t.componentDidUpdate=function(...e){G.call(this),null==r||r.apply(this,e)}}(t),function(e,t,n,r,s,a){class l extends F{}l.metadata=t||{},l.component=n,l.rootObservedAttributes=s,l.rootObservedAttrSet=new Set(s),l.rootObservedProperties=r,l.defaultProps=n.defaultProps?o.deepFreeze(n.defaultProps):null,l.translationBundleMap=a,function(e,t){if(!t)return;for(let n in t)Object.defineProperty(e,n,{get(){return this.getProperty(n)},set(e){this.setProperty(n,e)}})}(l.prototype,null==t?void 0:t.properties),function(e,t){if(!t)return;for(let n in t)e[n]=function(){if(this._helper===k)throw new i.JetElementError(this,"Cannot access element methods when rendered as a value based element.");const e=this._helper.ref.current;if(!e)throw new i.JetElementError(this,"Cannot access methods before element is upgraded.");return e[n].apply(e,arguments)}}(l.prototype,null==t?void 0:t.methods),i.CustomElementUtils.registerElement(e,{descriptor:{metadata:t},stateClass:U,vcomp:!0},l)}(e,s,t,a,l,t.translationBundleMap)}}function G(){const e=this.props[N];e&&e.flush()}function K(e,t){return"className"===e||i.AttributeUtils.isGlobalOrData(e)||function(e,t){var n,r;if(null===(n=null==t?void 0:t.properties)||void 0===n?void 0:n[e])return!1;const i=e.match(z);if(i){const e=i[1].toLowerCase()+i[2];return!(null===(r=null==t?void 0:t.events)||void 0===r?void 0:r[e])}return!1}(e,t)}const z=/^on(?!.*Changed$)([A-Za-z])([A-Za-z]*)$/;"undefined"!=typeof window&&(HTMLTemplateElement.prototype.hasOwnProperty("render")||Object.defineProperty(HTMLTemplateElement.prototype,"render",{value:null,writable:!0}));const Y=i.ElementUtils.getUniqueId.bind(null,null);t.Root=V,t.customElement=H,t.getUniqueId=Y,t.method=function(e,t,n){},t.registerCustomElement=function(e,t,n){class i extends r.Component{render(){return t(arguments[0])}}return i.displayName=arguments[2],arguments.length>=4&&arguments[3]&&(i.metadata=arguments[3],arguments.length>=5&&arguments[4]&&(i.defaultProps=arguments[4])),arguments.length>=6&&(i.translationBundleMap=arguments[5]),H(e)(i),i},Object.defineProperty(t,"__esModule",{value:!0})}),define("ojs/ojvcomponent-binding",["exports"],function(e){"use strict";e.consumedBindings=function(e){return function(e){}},e.providedBindings=function(e){return function(e){}},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojvcomponent-remounter",["exports","preact"],function(e,t){"use strict";class n extends t.Component{render(e){const n=t.toChildArray(null==e?void 0:e.children),r=n[0];if(1!==n.length||!this._isVNode(r)||"string"!=typeof r.type)throw new Error("The only child of the Remounter must be a custom element node");const i=this._getElementKey(r);return[t.cloneElement(r,{key:i})]}_getElementKey(e){var n;const r=t.toChildArray(null===(n=e.props)||void 0===n?void 0:n.children).map(e=>this._isVNode(e)?this._getSlotInfo(e):e);return JSON.stringify(r)}_getSlotInfo(e){var t;let n=e.type;return n="string"==typeof n?n:n.name||String(n),{key:e.key,type:n,slot:null===(t=e.props)||void 0===t?void 0:t.slot}}_isVNode(e){return"string"!=typeof e&&isNaN(e)}}e.Remounter=n,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojdataproviderhandler",["exports","preact/jsx-runtime","preact"],function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})};class i{static getUpdatedItemsFromMutationDetail(e,t,n){return r(this,void 0,void 0,function*(){const{add:r,remove:o,update:s}=null!=e?e:{},a=new Map;for(const[e,n]of t.entries())a.set(n.key,e);let l=[...t];return o&&(l=i._removeItemsFromDetail(o,l,a)),r&&(l=yield i._addItemsFromDetail(r,l,a,n)),s&&(l=yield i._updateItemsFromDetail(s,l,a,n)),l})}static _addItemsAtEnd(e,t,n){const r=[...n];return e.forEach((e,n)=>{var i;const o={data:e,key:null===(i=t[n])||void 0===i?void 0:i.key,metadata:t[n]};r.push(o)}),r}static _addItemsAtIndices(e,t,n,r){const i=[...r];return e.forEach((e,r)=>{var o;const s={data:t[r],key:null===(o=n[r])||void 0===o?void 0:o.key,metadata:n[r]};e>=0?i.splice(e,0,s):i.push(s)}),i}static _addItemsBeforeKeys(e,t,n,r){const o=[],s=[];return e.forEach(e=>{o.push(i._getIndexByKey(r,e)),s.push({key:e})}),i._addItemsAtIndices(o,t,s,n)}static _addItemsFromDetail(e,t,n,o){var s;return r(this,void 0,void 0,function*(){const{addBeforeKeys:r,afterKeys:a,data:l,indexes:u,keys:c,metadata:d}=e;let h=[...t],p=l||[],f=d||[];if(0===p.length&&(null==c?void 0:c.size)){const e=null!==(s=yield i._fetchDataByKeys(o,c))&&void 0!==s?s:[];p=e.map(e=>e.data),f=e.map(e=>e.metadata)}return 0===f.length&&(null==c?void 0:c.size)&&(f=[...c].map(e=>({key:e}))),p.length&&(h=(null==u?void 0:u.length)?i._addItemsAtIndices(u,p,f,h):(null==r?void 0:r.length)?i._addItemsBeforeKeys(r,p,h,n):(null==a?void 0:a.size)?i._addItemsBeforeKeys([...a],p,h,n):i._addItemsAtEnd(p,f,h)),h})}static _fetchDataByKeys(e,t){return r(this,void 0,void 0,function*(){const n=[],r=(yield e.fetchByKeys({keys:t})).results;for(const e of t)if(r.has(e)){const t=r.get(e);n.push(Object.assign(Object.assign({},t),{key:e}))}return n})}static _getIndexByKey(e,t){return e.has(t)?e.get(t):-1}static _removeItemsAtIndices(e,t){const n=[...t];return e.sort((e,t)=>t-e),e.forEach(e=>{e<n.length&&n.splice(e,1)}),n}static _removeItemsAtKeys(e,t,n){const r=[];return e.forEach(e=>{const t=i._getIndexByKey(n,e);-1!==t&&r.push(t)}),i._removeItemsAtIndices(r,t)}static _removeItemsFromDetail(e,t,n){const{indexes:r,keys:o}=e;let s=[...t];return(null==r?void 0:r.length)?s=i._removeItemsAtIndices(r,s):(null==o?void 0:o.size)&&(s=i._removeItemsAtKeys(o,s,n)),s}static _updateItemsAtIndices(e,t,n,r){const i=[...r];return e.forEach((e,r)=>{var o;if(i[e]){const s={data:t[r],key:null===(o=n[r])||void 0===o?void 0:o.key,metadata:n[r]};i.splice(e,1,s)}}),i}static _updateItemsAtKeys(e,t,n,r,i){const o=[...r];return e.forEach(e=>{var r;const s=this._getIndexByKey(i,e),a={data:t[s],key:null===(r=n[s])||void 0===r?void 0:r.key,metadata:n[s]};s>=0&&o.splice(s,1,a)}),o}static _updateItemsFromDetail(e,t,n,o){var s;return r(this,void 0,void 0,function*(){const{data:r,indexes:a,keys:l,metadata:u}=e;let c=[...t],d=r||[],h=u||[];if(0===d.length&&(null==l?void 0:l.size)){const e=null!==(s=yield i._fetchDataByKeys(o,l))&&void 0!==s?s:[];d=e.map(e=>e.data),h=e.map(e=>e.metadata)}return 0===h.length&&(null==l?void 0:l.size)&&(h=[...l].map(e=>({key:e}))),d.length&&((null==a?void 0:a.length)?c=i._updateItemsAtIndices(a,d,h,c):(null==l?void 0:l.size)&&(c=i._updateItemsAtKeys(l,d,h,c,n))),c})}}var o=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}l((r=r.apply(e,t||[])).next())})},s=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}};class a{constructor(e,t,n){this._handleMutateEvent=e=>o(this,void 0,void 0,function*(){var t,n;const{detail:r}=e,o=this._addBusyState("updating data from mutation event"),s=yield i.getUpdatedItemsFromMutationDetail(r,this._currentData,this._dataProvider);null==o||o(),this._currentData=s,null===(n=null===(t=this._callback)||void 0===t?void 0:t.onDataUpdated)||void 0===n||n.call(t,s)}),this._handleRefreshEvent=e=>{this._fetchDataAndNotify()},this._addBusyState=t,this._callback=n,this._dataProvider=e,this._currentData=[],e.addEventListener("refresh",this._handleRefreshEvent),e.addEventListener("mutate",this._handleMutateEvent),this._fetchDataAndNotify()}destroy(){this._callback=void 0,this._currentData=[],this._dataProvider.removeEventListener("refresh",this._handleRefreshEvent),this._dataProvider.removeEventListener("mutate",this._handleMutateEvent)}_fetchData(){var e,t;return o(this,void 0,void 0,function*(){const n=[],r=this._dataProvider.fetchFirst({size:-1});try{for(var i,o=s(r);!(i=yield o.next()).done;){const e=i.value,t=e.data.map((t,n)=>({data:t,key:e.metadata[n].key,metadata:e.metadata[n]}));n.push(...t)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&(yield t.call(o))}finally{if(e)throw e.error}}return this._currentData=n.slice(),n})}_fetchDataAndNotify(){var e,t;return o(this,void 0,void 0,function*(){const n=this._addBusyState("fetching data"),r=yield this._fetchData();null===(t=null===(e=this._callback)||void 0===e?void 0:e.onDataUpdated)||void 0===t||t.call(e,r),n()})}}var l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};e.withDataProvider=function(e,r){var i;return(i=class extends n.Component{constructor(e){super(e),this._handleDataUpdate=e=>{this.setState({fetchedData:e})},this.state={fetchedData:[]}}componentDidMount(){this._initDataProviderHandler()}componentDidUpdate(e){this.props.data!==e.data&&this._resetDataProviderHandler()}componentWillUnmount(){this._releaseDataProviderHandler()}render(n,i){const{data:o,addBusyState:s}=n,a=l(n,["data","addBusyState"]),{fetchedData:u}=i,c=Object.assign({[r]:u},a);return t.jsx(e,Object.assign({},c))}_initDataProviderHandler(){const{data:e,addBusyState:t}=this.props;null!=e&&(this._dataProviderHandler=new a(e,t,{onDataUpdated:this._handleDataUpdate}))}_releaseDataProviderHandler(){var e;null===(e=this._dataProviderHandler)||void 0===e||e.destroy(),this._dataProviderHandler=void 0}_resetDataProviderHandler(){this._releaseDataProviderHandler(),this._initDataProviderHandler()}}).displayName=`WithDataProvider(${function(e){var t,n;return null!==(n=null!==(t=e.displayName)&&void 0!==t?t:e.name)&&void 0!==n?n:"Component"}(e)})`,i},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojexpparser",["exports"],function(e){"use strict";
/**
   * @license
   * Copyright (c) 2019 2023, Oracle and/or its affiliates.
   * Licensed under The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   *
   * Based on JSEP Parser
   * @license
   * JavaScript Expression Parser (JSEP) 0.3.4
   * JSEP may be freely distributed under the MIT License
   * http://jsep.from.so/
   */e.ExpParser=function(){function e(e){for(var t=e.expr,n=t.charCodeAt(e.index);32===n||9===n||10===n||13===n;)n=t.charCodeAt(++e.index)}function t(i){var o,s,a=i.expr,l=function(e){var t,i,o,s,a,l,u,c,d;if(l=r(e),!(i=n(e)))return l;a={value:i,prec:A(i)},(u=r(e))||D("Expected expression after "+i,e.index);s=[l,a,u];for(;(i=n(e))&&0!==(o=A(i));){for(a={value:i,prec:o},d=i;s.length>2&&o<=s[s.length-2].prec;)u=s.pop(),i=s.pop().value,l=s.pop(),t=I(i,l,u,e),s.push(t);(t=r(e))||D("Expected expression after "+d,e.index),s.push(a,t)}c=s.length-1,t=s[c];for(;c>1;)t=I(s[c-1].value,s[c-2],t,e),c-=2;return t}(i);return e(i),a.charCodeAt(i.index)!==m?l:(i.index++,(o=t(i))||D("Expected expression",i.index),e(i),a.charCodeAt(i.index)===v?(i.index++,(s=t(i))||D("Expected expression",i.index),{type:8,test:l,consequent:o,alternate:s}):void D("Expected :",i.index))}function n(t){var n=t.expr;e(t);for(var r=n.substr(t.index,P),i=r.length;i>0;){if(S[r]&&(!N(n.charCodeAt(t.index))||t.index+r.length<n.length&&!j(n.charCodeAt(t.index+r.length))))return t.index+=i,r;r=r.substr(0,--i)}return!1}function r(n){var _,m,b,S=n.expr;if(e(n),w(_=S.charCodeAt(n.index))||_===l)return function(e){var t,n,r=e.expr,i="";for(;w(r.charCodeAt(e.index));)i+=r.charAt(e.index++);if(r.charCodeAt(e.index)===l)for(i+=r.charAt(e.index++);w(r.charCodeAt(e.index));)i+=r.charAt(e.index++);if("e"===(t=r.charAt(e.index))||"E"===t){for(i+=r.charAt(e.index++),"+"!==(t=r.charAt(e.index))&&"-"!==t||(i+=r.charAt(e.index++));w(r.charCodeAt(e.index));)i+=r.charAt(e.index++);w(r.charCodeAt(e.index-1))||D("Expected exponent ("+i+r.charAt(e.index)+")",e.index)}N(n=r.charCodeAt(e.index))?D("Variable names cannot start with a number ("+i+r.charAt(e.index)+")",e.index):n===l&&D("Unexpected period",e.index);return{type:3,value:parseFloat(i),raw:i}}(n);if(_===c||_===d||_===f)return a(n);if(_===y)return function(n){var r=n.expr;n.index++;var s,a=[],l=0,h=r.length;for(;n.index<h&&!s;){e(n);var p=r.charCodeAt(n.index);if(p===E)s=!0,n.index++;else if(p===u)n.index++,++l!==a.length&&D("Unexpected token ,",n.index);else{var f;f=p===c||p===d?i(n).value:o(n).name,e(n),(p=r.charCodeAt(n.index))!==v&&D("Expected ':'. Found "+String.fromCharCode(p),n.index),n.index++;var _=n.writer;"_ko_property_writers"===f&&(n.writer=1);try{a.push({key:f,value:t(n)})}finally{n.writer=_}}}s||D("Expected "+String.fromCharCode(E),n.index);return{type:10,properties:a}}(n);for(b=(m=S.substr(n.index,C)).length;b>0;){if(m in T&&(!N(S.charCodeAt(n.index))||n.index+m.length<S.length&&!j(S.charCodeAt(n.index+m.length))))return n.index+=b,{type:5,operator:m,argument:r(n),prefix:!0};m=m.substr(0,--b)}var P=n.index,O=n.index+8;return"function"!==S.substring(P,O)||j(S.charCodeAt(O))?!(!N(_)&&_!==h)&&a(n):(n.index=O,function(n){var r=n.expr;e(n);var i=r.charCodeAt(n.index);i!==h&&D("Expected (,",n.index);n.index++;var o=s(n,p,!0);e(n),(i=r.charCodeAt(n.index))!==y&&D("Expected {,",n.index);n.index++,e(n);var a,l=n.index,u=n.index;"return"===r.substring(u,u+6)&&(a=!0,n.index+=6);e(n);var c=t(n);e(n),(i=r.charCodeAt(n.index))===g&&(n.index++,e(n));(i=r.charCodeAt(n.index))!==E&&D("Expected },",n.index);return n.index++,{type:11,arguments:o,body:c,expr:r.substring(l,n.index-1),return:a}}(n))}function i(e){for(var t,n=e.expr,r="",i=n.charAt(e.index++),o=!1,s=n.length;e.index<s;){if((t=n.charAt(e.index++))===i){o=!0;break}if("\\"===t)switch(t=n.charAt(e.index++)){case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:r+=t}else r+=t}return o||D('Unclosed quote after "'+r+'"',e.index),{type:3,value:r,raw:i+r+i}}function o(t,n){var r,i=t.expr,o=i.charCodeAt(t.index),s=t.index;N(o)?t.index++:D("Unexpected "+i.charAt(t.index),t.index);for(var l=i.length;t.index<l&&j(o=i.charCodeAt(t.index));)t.index++;if("new"===(r=i.slice(s,t.index))&&!n){e(t);var u=a(t,4);return 4!==u.type&&D("Expression of type: "+u.type+" not supported for constructor expression"),{type:12,callee:u.callee,arguments:u.arguments}}return O.has(r)?{type:3,value:O.get(r),raw:r}:{type:1,name:r}}function s(n,r,i){for(var s,a,l=n.expr,c=l.length,d=[],h=!1,f=0;n.index<c;){if(e(n),(s=l.charCodeAt(n.index))===r){h=!0,n.index++,r===p&&f&&f>=d.length&&D("Unexpected token "+String.fromCharCode(r),n.index);break}if(s===u){if(n.index++,++f!==d.length)if(r===p)D("Unexpected token ,",n.index);else if(r===_)for(var m=d.length;m<f;m++)d.push(null)}else(!(a=i?o(n):t(n))||d.length>f)&&D("Expected comma",n.index),d.push(a)}return h||D("Expected "+String.fromCharCode(r),n.index),d}function a(n,r){var a,u,g=n.expr;for(u=(a=g.charCodeAt(n.index))===h?function(n){n.index++;var r=t(n);if(e(n),n.expr.charCodeAt(n.index)===p)return n.index++,r;D("Unclosed (",n.index)}(n):a===c||a===d?i(n):a===f?function(e){return e.index++,{type:9,elements:s(e,_)}}(n):o(n),e(n),a=g.charCodeAt(n.index);a===l||a===f||a===h||R(n);){if(n.index++,a===l?(e(n),u={type:2,computed:!1,object:u,property:o(n,!0)}):a===m?(n.index++,e(n),u={type:2,computed:!1,conditional:!0,object:u,property:o(n,!0)}):a===f?(u={type:2,computed:!0,object:u,property:t(n)},e(n),(a=g.charCodeAt(n.index))!==_&&D("Unclosed [",n.index),n.index++):a===h&&(u={type:4,arguments:s(n,p),callee:u}),r===u.type)return u;e(n),a=g.charCodeAt(n.index)}return u}this.parse=function(e){for(var n=e.length,r={index:0,expr:e},i=[];r.index<n;){var o=e.charCodeAt(r.index);if(o===g||o===u)r.index++;else{var s=t(r);s?i.push(s):r.index<n&&D('Unexpected "'+e.charAt(r.index)+'"',r.index)}}return 1===i.length?i[0]:{type:0,body:i}};var l=46,u=44,c=39,d=34,h=40,p=41,f=91,_=93,m=63,g=59,v=58,y=123,E=125;function b(e){return Object.keys(e).reduce(function(e,t){return Math.max(e,t.length)},0)}var T={"-":!0,"!":!0,"~":!0,"+":!0},S={"=":1,"||":2,"&&":3,"|":4,"^":5,"&":6,"==":7,"!=":7,"===":7,"!==":7,"<":8,">":8,"<=":8,">=":8,"<<":9,">>":9,">>>":9,"+":10,"-":10,"*":11,"/":11,"%":11},C=b(T),P=b(S),O=new Map;function A(e){return S[e]||0}function I(e,t,n,r){return"="!==e||r.writer||D("Unexpected operator '='",r.index),{type:"||"===e||"&&"===e?7:6,operator:e,left:t,right:n}}function R(e){var t=e.expr;return t.charCodeAt(e.index)===m&&t.charCodeAt(e.index+1)===l&&!w(t.charCodeAt(e.index+2))}function w(e){return e>=48&&e<=57}function N(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!S[String.fromCharCode(e)]}function j(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e>=128&&!S[String.fromCharCode(e)]}function D(e,t){var n=new Error(e+" at character "+t);throw n.index=t,n.description=e,n}O.set("true",!0),O.set("false",!1),O.set("null",null),O.set("undefined",void 0)},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojcspexpressionevaluator-internal",["exports","ojs/ojexpparser"],function(e,t){"use strict";
/**
   * @license
   * Copyright (c) 2019 2023, Oracle and/or its affiliates.
   * Licensed under The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   *
   * @license
   * Based on the Expression Evaluator 2.0.0
   * https://github.com/donmccurdy/expression-eval
   * under MIT License
   * @ignore
   */e.CspExpressionEvaluatorInternal=function(e){var n=new t.ExpParser,r=Object.assign({},e);r.globalScope&&r.globalScope.Object||(r.globalScope=Object.assign({Object:Object},r.globalScope)),this.createEvaluator=function(e){var t;try{t=n.parse(e)}catch(t){h(t,e)}var i=r.globalScope;return{evaluate:function(n){var r,o=n;i&&(o=n.concat([i]));try{r=a(t,o)}catch(t){h(t,e)}return r}}},this.evaluate=function(e,t){return a(e,[t])};var i={"||":function(e,t){return e||t()},"&&":function(e,t){return e&&t()},"|":function(e,t){return e|t},"^":function(e,t){return e^t},"&":function(e,t){return e&t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"<<":function(e,t){return e<<t},">>":function(e,t){return e>>t},">>>":function(e,t){return e>>>t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t}},o={"-":function(e){return-e},"+":function(e){return e},"~":function(e){return~e},"!":function(e){return!e},"...":function(e){return new s(e)}};function s(e){this.items=function(){return e}}function a(e,t){switch(e.type){case 1:return function(e,t){var n=c(e,t);if(n)return n[t];throw new Error("Variable "+t+" is undefined")}(t,e.name);case 2:return u(e,t)[1];case 3:return e.value;case 4:var n,r,s;switch(e.callee.type){case 1:s=function(e,t){var n=c(e,t);if(n)return[n,n[t]];throw new Error("Variable "+t+" is undefined")}(t,e.callee.name);break;case 2:s=u(e.callee,t);break;default:r=a(e.callee,t)}return!r&&Array.isArray(s)&&(n=s[0],r=s[1]),"function"!=typeof r&&d("Expression is not a function"),r.apply(n,l(e.arguments,t));case 5:return o[e.operator](a(e.argument,t));case 6:return"="===e.operator?function(e,t,n){switch(e.type){case 1:var r=e.name,i=c(t,r);i||d("Cannot assign value to undefined variable "+r),i[r]=n;break;case 2:var o=e.computed?a(e.property,t):e.property.name;u(e,t)[0][o]=n;break;default:d("Expression of type: "+e.type+" not supported for assignment")}return n}(e.left,t,a(e.right,t)):i[e.operator](a(e.left,t),a(e.right,t));case 7:return i[e.operator](a(e.left,t),function(){return a(e.right,t)});case 8:return a(e.test,t)?a(e.consequent,t):a(e.alternate,t);case 9:return l(e.elements,t);case 10:return function(e,t){return e.properties.reduce(function(e,n){return e[n.key]=a(n.value,t),e},{})}(e,t);case 11:return function(e,t){return function(){var n=arguments,r=e.arguments.reduce(function(e,t,r){return e[t.name]=n[r],e},{});r.this=this;try{var i=a(e.body,[r].concat(t));if(e.return)return i}catch(t){h(t,e.expr)}}}(e,t);case 12:return function(e,t){var n=a(e.callee,t);n instanceof Function||d("Node of type "+e.callee.type+" is not evaluated into a constructor");return new(Function.prototype.bind.apply(n,[null].concat(l(e.arguments,t))))}(e,t);default:throw new Error("Unsupported expression type: "+e.type)}}function l(e,t){return e.reduce((e,n)=>{const r=a(n,t);return r instanceof s?e.push(...r.items()):e.push(r),e},[])}function u(e,t){var n=a(e.object,t);return!n&&e.conditional?[]:e.computed?[n,n[a(e.property,t)]]:[n,n[e.property.name]]}function c(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r instanceof Object&&t in r)return r}return null}function d(e){throw new Error(e)}function h(e,t){throw new Error(e.message+' in expression "'+t+'"')}},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojvcomponent-template",["exports","ojs/ojlogger","ojs/ojhtmlutils","ojs/ojcustomelement-utils","preact","preact/jsx-runtime","ojs/ojcontext","ojs/ojdataproviderhandler","ojs/ojbindpropagation","ojs/ojconfig","ojs/ojmetadatautils","ojs/ojcspexpressionevaluator-internal"],function(e,t,n,r,i,o,s,a,l,u,c,d){"use strict";s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;class h extends i.Component{constructor(e){super(e),this._resolveConfig=e=>{e.then(t=>{e===this.props.config&&this.setState({view:this._getFragment(t.view),data:t.data})})},this._getFragment=e=>{const t=new DocumentFragment;return e.forEach(e=>{t.appendChild(e.cloneNode(this))}),t},this.state={view:null,data:null}}componentDidMount(){this._resolveConfig(this.props.config)}componentDidUpdate(e,t){this.props.config!==e.config&&this._resolveConfig(this.props.config)}render(){return o.jsx(i.Fragment,{children:this.state.view&&this.props.executeFragment?this.props.executeFragment(null,this.state.view,this.state.data,this.forceUpdate.bind(this),this.props.bindingProvider):null})}}class p extends i.Component{constructor(e){super(e),this._addBusyState=e=>s.getContext(this.props.componentElement).getBusyContext().addBusyState({description:e}),this.BindForEachWithDP=a.withDataProvider(f,"data")}render(e){return Array.isArray(e.data)?o.jsx(_,{data:e.data,itemRenderer:e.itemRenderer}):o.jsx(this.BindForEachWithDP,{addBusyState:this._addBusyState,data:e.data,itemRenderer:e.itemRenderer})}}class f extends i.Component{render(e){const t=e.data.map(e=>e.data);return o.jsx(_,{data:t,itemRenderer:e.itemRenderer})}}class _ extends i.Component{render(){const e=this.props.data;return o.jsx(i.Fragment,{children:e?e.map((e,t)=>this.props.itemRenderer({data:e,index:t,observableIndex:()=>t})):[]})}}const m=Symbol(),g=Symbol(),v=Symbol(),y=Symbol(),E=function(e){return e},b=[{type:1,name:"$context"}];class T{constructor(){var e;this._templateAstCache=new WeakMap,this._cspEvaluator=null!==(e=u.getExpressionEvaluator())&&void 0!==e?e:new d.CspExpressionEvaluatorInternal}static cleanupTemplateCache(e){e&&e._cachedRows&&(e._cachedRows.forEach(e=>e.dispose()),e._cachedRows=[])}executeFragment(e,t,n,i,o){var s;let a=o;return a||(a=e?null===(s=r.CustomElementUtils.getElementState(e))||void 0===s?void 0:s.getBindingProvider():null),this._execute({[m]:a,[g]:e,[y]:n},t,n,i)}execute(e,t,n,r,i){const o=t.getAttribute("data-oj-as"),s=this._getContext(r,e,t,n,null,o);return this._execute({[m]:r,[g]:e,[y]:s},t,s,i)}_execute(e,t,n,r){const o=this._getAstViaCache(e,t),s=e[m];if(s){t._cachedRows||Object.defineProperties(t,{_cachedRows:{writable:!0,value:[]}});const e=s.__KoComputed(()=>{if(s.__KoIsInitial())return this._cspEvaluator.evaluate(o,{$context:n,$h:i.h,BindDom:h});T.cleanupTemplateCache(t),r()});return t._cachedRows.push(e),e()}return this._cspEvaluator.evaluate(o,{$context:n,$h:i.h,BindDom:h})}_getContext(e,n,r,i,o,s){if(e){let a=e.__ContextFor(r);return a||(t.info(`Binding context not found when processing template for element with id: ${n.id}. Using binding context for element instead.`),a=e.__ContextFor(n)),e.__ExtendBindingContext(a,i,o,s,n)}const a={$current:i};return s&&(a[s]=i),a}_getAstViaCache(e,t){let r=this._templateAstCache.get(t);if(!r){if(11===t.nodeType)r=this._createAst(e,Array.from(t.childNodes));else{const i=n.getTemplateContent(t)[0];r=this._createAst(e,Array.from(i.childNodes))}this._templateAstCache.set(t,r)}return r}_createAst(e,t){const n={type:9,elements:[]};return n.elements=Array.prototype.reduce.call(t,(t,n)=>{const r=this._processSpecialNodes(e,n);return r?t.push(r):3===n.nodeType?t.push({type:3,value:n.nodeValue}):1===n.nodeType&&t.push(this._createElementNode(e,n)),t},[]),n}_processSpecialNodes(e,t){if(1===t.nodeType)switch(t.tagName.toLowerCase()){case"oj-bind-text":return this._createExpressionNode(e,t.getAttribute("value"));case"oj-bind-if":return this._createIfExpressionNode(e,t);case"oj-bind-for-each":return this._createBindForEachExpressionNode(e,t);case"oj-bind-dom":return this._createBindDomExpressionNode(e,t);case"oj-bind-template-slot":return this._createBindTemplateNode(e,t);case"oj-defer":return this._createDeferNode(e,t);case"template":return this._createTemplateWithRenderCallback(e,t)}return null}_createBindTemplateNode(e,t){const n={type:10,properties:[]},r=t.getAttribute("name")||"";n.properties.push(this._getAttribute(e,"name",r));const o=t.getAttribute("data");o&&n.properties.push(this._getAttribute(e,"data",o));const s=t.getAttribute("as");return this._createCallNodeWithContext((n,r)=>{const o=r.data,a=r.name,l=e[y].__oj_slots[a];let u=l&&l[l.length-1],c=!1;if(!u)for(let e in t.childNodes)if("TEMPLATE"===t.childNodes[e].nodeName){u=t.childNodes[e],c=!0;break}if(u&&u.render)return u.render(o);if(u){const t=this._getAstViaCache(e,u),n=u.getAttribute("data-oj-as"),r=this._getContext(e[m],c?e[g]:e[y].__oj_composite,u,o,c?s:null,n);return this._cspEvaluator.evaluate(t,{$context:r,$h:i.h,BindDom:h})}},[n])}_createTemplateWithRenderCallback(e,t){const n=t.getAttribute("data-oj-as"),r=this._getAstViaCache.bind(this),o=this._cspEvaluator,s={key:"render",value:{type:3,value:s=>{const a=Object.assign({},e[y],{$current:s});n&&(a[n]=s);const l={[y]:a,[m]:e[m],[g]:e[g],[v]:e[v]},u=r(l,t);return o.evaluate(u,{$context:a,$h:i.h})}}};let a=this._getElementProps(e,t);return a.push(s),e[m]&&a.push({key:"data-oj-use-ko",value:{type:3,value:""}}),this._createHFunctionCallNode("template",[{type:10,properties:a}])}_createDeferContent(e,t,n){const r={view:t,data:n},o={config:Promise.resolve(r),bindingProvider:e[m],executeFragment:this.executeFragment.bind(this)};return i.h(h,o)}_createDeferNode(e,t){let n,r=this._createDeferContent(e,[],{});const o=[{key:"ref",value:{type:3,value:e=>{e?(n=e,i.render(r,n)):i.render(null,n)}}},{key:"_activateSubtree",value:this._createCallNodeWithContext(n=>o=>{r=this._createDeferContent(e,Array.from(t.childNodes),n),i.render(r,o)})}];let s=this._getElementProps(e,t);return s=s.concat(o),this._createHFunctionCallNode("oj-defer",[{type:10,properties:s}])}_createIfExpressionNode(e,t){if(!t.hasAttribute("test"))throw new Error("Missing the retuired 'test' attribute on <oj-bind-if>");return{type:5,operator:"...",argument:{type:8,test:this._createExpressionNode(e,t.getAttribute("test")),consequent:this._createAst(e,Array.from(t.childNodes)),alternate:{type:3,value:[]}}}}_createBindForEachExpressionNode(e,t){const n=t.getElementsByTagName("template")[0];if(!n)throw new Error("Template not found: oj-bind-for-each requires a single template element as its direct child");return this._createComponentNode(e,t,p,[{key:"itemRenderer",value:this._createNestedTemplateRendererNode(e,n)},{key:"componentElement",value:{type:3,value:e[g]}}])}_createNestedTemplateRendererNode(e,t){const n=t.getAttribute("data-oj-as"),r={[m]:e[m],[y]:e[y],[g]:e[g],[v]:(e,t)=>"function"!=typeof t||"$current.observableIndex"!==e&&e!==n+".observableIndex"?t:t()},o=this._getAstViaCache(r,t);return this._createCallNodeWithContext(e=>t=>{const r={$current:t};null!=n&&(r[n]=t);const s=Object.assign({},e,r);return this._cspEvaluator.evaluate(o,{$context:s,$h:i.h})})}_createElementNode(e,t){var n=this._getElementProps(e,t);const i=t.tagName,o=i.toLowerCase(),s=r.CustomElementUtils.getPropertiesForElementTag(i);return this._createHFunctionCallNode(o,[this._createPossiblyProvidedAndConsumedProperties(o,e,s,n),this._createAst(e,Array.from(t.childNodes))])}_createPossiblyProvidedAndConsumedProperties(e,t,n,i){const o={type:10,properties:i},s=l.getPropagationMetadataViaCache(e,n);if(!s)return o;const a=new Set;i.reduce((e,t)=>e.add(t.key),a);const u=[];for(const[e,n]of s){const i=n[1];if(i&&!a.has(e)&&!a.has(r.AttributeUtils.propertyNameToAttribute(e).toUpperCase())){const n=this._getUnwrapObservable(t);u.push({key:e,value:this._createCallNodeWithContext(e=>{var t,r;return n(null===(r=null===(t=n(e))||void 0===t?void 0:t.$provided)||void 0===r?void 0:r[i.name])})})}}const c=0===u.length?o:{type:10,properties:o.properties.concat(u)};return this._createCallNodeWithContext((t,i)=>{let o,a={};for(const[t,[l]]of s)l&&l.forEach(s=>{var l;let u,c=!0;if(i.hasOwnProperty(t))u=i[t];else{const o=r.AttributeUtils.propertyNameToAttribute(t),s=o.toUpperCase();if(i.hasOwnProperty(s)){u=i[s];const a=null===(l=null==n?void 0:n[t])||void 0===l?void 0:l.type;a&&null!=u&&(u=r.AttributeUtils.parseAttributeValue(e,o,u,a))}else c=!1}if(c){const e=s.transform;u=e&&e.hasOwnProperty(u)?e[u]:u}else s.hasOwnProperty("default")&&(u=s.default,c=!0);c&&(o=!0,a[s.name]=u)});if(o){const e=t.$provided;void 0!==e&&(a=Object.assign({},e,a)),t.$provided=a}return i},[c])}_createBindDomExpressionNode(e,t){if(!t.hasAttribute("config"))throw new Error("Missing the required 'config' attribute on <oj-bind-dom>");const n=t.attributes.config.value;return this._createComponentNode(e,t,h,[this._createPropertyNode(e,"config",n,e=>Promise.resolve(e)),{key:"bindingProvider",value:{type:3,value:e[m]}},{key:"executeFragment",value:{type:3,value:this.executeFragment.bind(this)}}])}_createComponentNode(e,t,n,r){let i=this._getElementProps(e,t);return i=r?i.concat(r):i,this._createHFunctionCallNode(n,[{type:10,properties:i}])}_createPropertyNode(e,t,n,r){return{key:t,value:this._createExpressionNode(e,n,r)}}_postprocessClassNameValue(e){let t;return t=Array.isArray(e)?e.join(" "):"string"!=typeof e?Object.keys(e).reduce((t,n)=>(e[n]&&t.push(n),t),[]).join(" "):e,t}_getElementProps(e,t){let n;const i=[],o=[],s=new Map,a=new Map,l=Array.prototype.reduce.call(t.attributes,(l,u)=>{let d=u.name;const h=u.value;if(d.startsWith(":")){d=d.substring(1);const t=d.split(".");2===t.length&&"style"===t[0]?i.push({k:t[1],v:h}):"style"===d?n=h:"class"===d?l.push(this._createPropertyNode(e,"className",h,this._postprocessClassNameValue)):(d=r.AttributeUtils.isGlobalOrData(d)?r.AttributeUtils.getGlobalPropForAttr(d):r.AttributeUtils.attributeToPropertyName(d),l.push(this._createPropertyNode(e,d,h)))}else{const n=r.AttributeUtils.getExpressionInfo(h);if(r.AttributeUtils.isEventListenerAttr(d))d=r.AttributeUtils.eventAttrToPreactPropertyName(d),a.set(d,h);else if(r.AttributeUtils.isGlobalOrData(d))l.push(this._createPropertyNode(e,r.AttributeUtils.getGlobalPropForAttr(d),h));else if(n.expr){const i=r.AttributeUtils.attributeToPropertyName(d),a=i.split("."),u=c.getPropertyMetadata(a[0],r.CustomElementUtils.getPropertiesForElementTag(t.tagName));if((null==u?void 0:u.readOnly)||(a.length>1?o.push({subProps:i,expr:n.expr}):l.push({key:i,value:this._createExpressionEvaluator(e,n.expr)})),!n.downstreamOnly){let e=a;const t=e.shift();let r=s.get(t);if(r){r=[...r,{expr:n.expr,subProps:e}]}else r=[{expr:n.expr,subProps:e}];s.set(t,r)}}else l.push({key:d.toUpperCase(),value:{type:3,value:h}})}return l},[]);if(null!=n){if(i.length>0)throw new Error("Binding the entire style attribute as well as the individual style properties on the same element is not supported");l.push(this._createPropertyNode(e,"style",n))}else i.length>0&&l.push({key:"style",value:{type:10,properties:i.map(t=>this._createPropertyNode(e,r.AttributeUtils.attributeToPropertyName(t.k),t.v))}});return o.length>0&&l.push(this._createRefPropertyNodeForNestedProps(e,o)),s.forEach((t,n)=>{var i;const o=`on${n}Changed`,s=a.get(o);s&&a.delete(o),l.push(this._createWritebackPropertyNode(e,o,t,null===(i=r.AttributeUtils.getExpressionInfo(s))||void 0===i?void 0:i.expr))}),a.forEach((e,t)=>{const n=r.AttributeUtils.getExpressionInfo(e);n.expr&&l.push(this._createEventListenerPropertyNode(t,n.expr))}),l}_createRefPropertyNodeForNestedProps(e,t){const n={type:9,elements:t.map(({subProps:t,expr:n})=>({type:10,properties:[{key:t,value:this._createExpressionEvaluator(e,n)}]}))},r=T._nestedPropsRefCallback;return{key:"ref",value:this._createCallNodeWithContext(Function.prototype.bind.bind(r,e[m]),[n])}}static _nestedPropsRefCallback(e,t,n){if(n&&n.setProperties){const e=Object.assign({},...t);n.setProperties(e)}}_createWritebackPropertyNode(e,t,n,r){const i=[];let o;return{key:t,value:this._createCallNodeWithContext(t=>s=>{n.forEach((n,r)=>{let o=s.detail.value;var a=n.subProps,l=n.expr;a.length>0&&"object"==typeof o&&(o=a.reduce((e,t)=>e[t],o));let u=i[r];u||(u=this._cspEvaluator.createEvaluator(l).evaluate,i.push(u));const c=u([t,t.$data]);if(e[m]&&e[m].__IsObservable(c))c(o);else{const e=this._getPropertyWriterExpression(l);if(null!==e){const n=this._cspEvaluator.createEvaluator(e).evaluate;this._getWriter(n([t.$data||{},t]))(o)}}}),r&&!o&&(o=this._cspEvaluator.createEvaluator(r).evaluate);const a=o?o([t,t.$data]):null;a&&a(s,t.$current||t.$data,t)})}}_createEventListenerPropertyNode(e,t){let n;return{key:e,value:this._createCallNodeWithContext(e=>r=>{n||(n=this._cspEvaluator.createEvaluator(t).evaluate);const i=n([e,e.$data]);i&&i(r,e.$current||e.$data,e)})}}_createExpressionNode(e,t,n){const i=r.AttributeUtils.getExpressionInfo(t);return i.expr?this._createExpressionEvaluator(e,i.expr,n):{type:3,value:t}}_createExpressionEvaluator(e,t,n){const r=this._cspEvaluator.createEvaluator(t).evaluate;return this._createCallNodeWithContext(i=>{const o=this._getUnwrapObservable(e),s=o(i);let a=o(r([s,s.$data]));return e[v]&&(a=e[v](t,a)),n?n(a):a})}_getUnwrapObservable(e){const t=e[m];return t?t.__UnwrapObservable:E}_createCallNodeWithContext(e,t){return{type:4,callee:{type:3,value:e},arguments:t?b.concat(t):b}}_createHFunctionCallNode(e,t){return{type:4,callee:{type:1,name:"$h"},arguments:[{type:3,value:e},...t]}}_getAttribute(e,t,n){const i=r.AttributeUtils.getExpressionInfo(n).expr;return{key:t,value:i?this._createExpressionEvaluator(e,i):{type:3,value:n}}}_getWriter(e){return e._ko_property_writers}_getPropertyWriterExpression(e){if(null==e||["true","false","null","undefined"].indexOf(e)>=0)return null;const t=(e=e.trim()).match(/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i);if(null===t)return null;return`{_ko_property_writers: function(v){${t[1]?`Object(${t[1]})${t[2]}`:e}=v;}}`}}const S=new T,C=S.executeFragment.bind(S),P=S.execute.bind(S),O=T.cleanupTemplateCache;e.cleanupTemplateCache=O,e.execute=P,e.executeFragment=C,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojexpressionutils",["exports","ojs/ojconfig","ojs/ojcustomelement-utils"],function(e,t,n){"use strict";const r=function(){},i=r.getExpressionInfo=function(e){return n.AttributeUtils.getExpressionInfo(e)},o=r.createGenericExpressionEvaluator=function(e){var n,r=t.getExpressionEvaluator();if(r){var i=r.createEvaluator(e).evaluate;return function(e){return i([e])}}try{n=new Function("context","with(context){return "+e+";}")}catch(t){throw new Error(t.message+' in expression "'+e+'"')}return n};e.createGenericExpressionEvaluator=o,e.getExpressionInfo=i,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojkeyset",["exports","ojs/ojcore-base","ojs/ojkeysetimpl"],function(e,t,n){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var r=function(){};t._registerLegacyNamespaceProp("KeySet",r),t.Object.createSubclass(r,t.Object,"KeySet"),r.prototype.SetInternal=function(e){this._keys=e},r.prototype.AddOrDeleteInternal=function(e,t){var n,r;return null==(n=e?this._add(t):this._remove(t))?this:((r=Object.create(Object.getPrototypeOf(this))).SetInternal(n),r)},r.prototype._add=function(e){var t=this,n=null;return e.forEach(function(e){e!==t.NOT_A_KEY&&t.get(e)===t.NOT_A_KEY&&(null==n&&(n=t.Clone()),n.add(e))}),n},r.prototype._remove=function(e){var t,n=this,r=null;return 0===this._keys.size?null:(e.forEach(function(e){(t=n.get(e))!==n.NOT_A_KEY&&(null==r&&(r=n.Clone()),r.delete(t))}),r)},r.prototype.GetInternalSize=function(){return this._keys.size},r.prototype.Clone=function(){return new Set(this._keys)},n.call(r.prototype);var i=function(e){this.InitializeWithKeys(e)};t._registerLegacyNamespaceProp("ExpandedKeySet",i),t.Object.createSubclass(i,r,"ExpandedKeySet"),i.prototype.add=function(e){return this.AddOrDeleteInternal(!0,e)},i.prototype.addAll=function(){return new o},i.prototype.isAddAll=function(){return!1},i.prototype.delete=function(e){return this.AddOrDeleteInternal(!1,e)},i.prototype.clear=function(){return 0===this.GetInternalSize()?this:new i},i.prototype.has=function(e){return this.get(e)!==this.NOT_A_KEY},i.prototype.values=function(){return this.Clone()};var o=function(){this.InitializeWithKeys(null)};t._registerLegacyNamespaceProp("ExpandAllKeySet",o),t.Object.createSubclass(o,r,"ExpandAllKeySet"),o.prototype.add=function(e){return this.AddOrDeleteInternal(!1,e)},o.prototype.addAll=function(){return 0===this.GetInternalSize()?this:new o},o.prototype.isAddAll=function(){return!0},o.prototype.delete=function(e){return this.AddOrDeleteInternal(!0,e)},o.prototype.clear=function(){return new i},o.prototype.has=function(e){return this.get(e)===this.NOT_A_KEY},o.prototype.deletedValues=function(){return this.Clone()};var s=function(e){this.InitializeWithKeys(e)};t._registerLegacyNamespaceProp("KeySetImpl",s),t.Object.createSubclass(s,r,"KeySetImpl"),s.prototype.add=function(e){return this.AddOrDeleteInternal(!0,e)},s.prototype.addAll=function(){return new a},s.prototype.isAddAll=function(){return!1},s.prototype.delete=function(e){return this.AddOrDeleteInternal(!1,e)},s.prototype.clear=function(){return 0===this.GetInternalSize()?this:new s},s.prototype.has=function(e){return this.get(e)!==this.NOT_A_KEY},s.prototype.values=function(){return this.Clone()};var a=function(){this.InitializeWithKeys(null)};t._registerLegacyNamespaceProp("AllKeySetImpl",a),t.Object.createSubclass(a,r,"AllKeySetImpl"),a.prototype.add=function(e){return this.AddOrDeleteInternal(!1,e)},a.prototype.addAll=function(){return 0===this.GetInternalSize()?this:new a},a.prototype.isAddAll=function(){return!0},a.prototype.delete=function(e){return this.AddOrDeleteInternal(!0,e)},a.prototype.clear=function(){return new s},a.prototype.has=function(e){return this.get(e)===this.NOT_A_KEY},a.prototype.deletedValues=function(){return this.Clone()};var l={toArray:function(e){var t,n=e.isAddAll()?e.deletedValues():e.values();return Array.from?t=Array.from(n):(t=[],n.forEach(function(e){t.push(e)})),t.inverted=e.isAddAll(),t},toKeySet:function(e){return e.inverted?(new a).delete(e):(new s).add(e)}};e.AllKeySetImpl=a,e.ExpandAllKeySet=o,e.ExpandedKeySet=i,e.KeySet=r,e.KeySetImpl=s,e.KeySetUtils=l,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojtreedataproviderview",["ojs/ojcore-base","ojs/ojlistdataproviderview"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class n{constructor(e,n){this.dataProvider=e,this.options=n,this._listDataProviderView=new t(e,n)}getChildDataProvider(e,t){let r=this.dataProvider.getChildDataProvider(e);return r?new n(r,this.options):null}containsKeys(e){return this._listDataProviderView.containsKeys(e)}fetchByKeys(e){return this._listDataProviderView.fetchByKeys(e)}fetchByOffset(e){return this._listDataProviderView.fetchByOffset(e)}fetchFirst(e){return this._listDataProviderView.fetchFirst(e)}getCapability(e){return this._listDataProviderView.getCapability(e)}getTotalSize(){return this._listDataProviderView.getTotalSize()}isEmpty(){return this._listDataProviderView.isEmpty()}addEventListener(e,t){this._listDataProviderView.addEventListener(e,t)}removeEventListener(e,t){this._listDataProviderView.removeEventListener(e,t)}dispatchEvent(e){return this._listDataProviderView.dispatchEvent(e)}}return e._registerLegacyNamespaceProp("TreeDataProviderView",n),n}),define("ojs/ojcspexpressionevaluator",["ojs/ojcspexpressionevaluator-internal","ojs/ojkoshared"],function(e,t){"use strict";
/**
   * @license
   * Copyright (c) 2019 2023, Oracle and/or its affiliates.
   * Licensed under The Universal Permissive License (UPL), Version 1.0
   * as shown at https://oss.oracle.com/licenses/upl/
   *
   * @license
   * Based on the Expression Evaluator 2.0.0
   * https://github.com/donmccurdy/expression-eval
   * under MIT License
   * @ignore
   */return function(t){var n=new e.CspExpressionEvaluatorInternal(t);this.createEvaluator=function(e){return n.createEvaluator(e)},this.evaluate=function(e,t){return n.evaluate(e,t)}}}),define("ojs/ojtreedataprovideradapter",["ojs/ojcore-base","ojs/ojdataprovideradapter-base","ojs/ojdataprovider","ojs/ojmap"],function(e,t,n,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;class i extends t{constructor(e){super(e),this.treeDataSource=e,this._addTreeDataSourceEventListeners(),this._parentKey=null,this._parentInfoMap=new r}destroy(){this._removeTreeDataSourceEventListeners()}getChildDataProvider(e){if(this._parentInfoMap.has(e)){const t=new i(this.treeDataSource);return t._parentKey=e,t._parentInfoMap=this._parentInfoMap,t}return null}fetchFirst(e){return new this.AsyncIterable(new this.AsyncIterator(this._getFetchFunc(e),e))}getTotalSize(){return Promise.resolve(this.treeDataSource.getChildCount(this._parentKey))}isEmpty(){const e=this.treeDataSource.getChildCount();return-1===e?"unknown":e>0?"no":"yes"}getCapability(e){return e===i._SORT&&"full"===this.treeDataSource.getCapability(e)?{attributes:"multiple"}:"fetchByKeys"===e||"fetchByOffset"===e?{implementation:"iteration"}:null}_getFetchFunc(e){const t=this;if(null!=e&&null!=e[i._SORTCRITERIA]){return function(e,n){return function(r,o){if(o){const o={};return o[i._KEY]=e,o[i._DIRECTION]=n,new Promise(function(e,n){t.treeDataSource.sort(o,{success(){e(t._getTreeDataSourceFetch(r)(r))},error(e){n(e)}})})}return t._getTreeDataSourceFetch(r)(r)}}(e[i._SORTCRITERIA][0][i._ATTRIBUTE],e[i._SORTCRITERIA][0][i._DIRECTION])}return this._getTreeDataSourceFetch(e)}_getTreeDataSourceFetch(e){const t=this;return function(e){const n=t.treeDataSource.getSortCriteria();if(null!==n&&"none"!=n[i._DIRECTION]&&null==e[i._SORTCRITERIA]){e[i._SORTCRITERIA]=[];const r=new t.SortCriterion(t,n[i._KEY],n[i._DIRECTION]);e[i._SORTCRITERIA].push(r)}return t._isFetching=!0,new Promise(function(n,r){t.treeDataSource.fetchChildren(t._parentKey,{start:0,end:-1},{success(r){t._isFetching=!1;const o=[],s=[],a=r.getStart(),l=r.getCount();let u,c,d;for(u=0;u<l;u++)c=r.getData(a+u),o.push(c),d=r.getMetadata(a+u),d[i._LEAF]||t._parentInfoMap.set(d[i._KEY],d),s.push(new t.ItemMetadata(t,d[i._KEY]));n(new t.AsyncIteratorReturnResult(t,new t.FetchListResult(t,e,o,s)))},error(e){t._isFetching=!1,r(e)}})})}}_addTreeDataSourceEventListeners(){this.removeAllListeners(),this.addListener("change",this._handleChange),this.addListener("refresh",this._handleRefresh)}_removeTreeDataSourceEventListeners(){this.removeListener("change"),this.removeListener("refresh")}_handleChange(e){const t=e[i._OPERATION];"insert"===t?this._handleInsert(e):"delete"===t?this._handleDelete(e):"update"===t&&this._handleUpdate(e)}_handleInsert(e){const t=e[i._DATA],r=e[i._INDEX],o=e[i._KEY],s=e[i._PARENT],a=new this.ItemMetadata(this,o),l=new Set;l.add(o);const u=e[i._METADATA];null!=u&&u[i._LEAF]&&this._parentInfoMap.set(o,u);const c=new this.DataProviderAddOperationEventDetail(this,l,null,null,[s],[a],[t],[r]),d=new this.DataProviderMutationEventDetail(this,c,null,null);this.dispatchEvent(new n.DataProviderMutationEvent(d))}_handleDelete(e){const t=e[i._DATA],r=e[i._INDEX],o=e[i._KEY],s=new this.ItemMetadata(this,o),a=new Set;a.add(o),this._parentInfoMap.delete(o);const l=new this.DataProviderOperationEventDetail(this,a,[s],[t],[r]),u=new this.DataProviderMutationEventDetail(this,null,l,null);this.dispatchEvent(new n.DataProviderMutationEvent(u))}_handleUpdate(e){let t=e[i._DATA],r=e[i._INDEX],o=e[i._KEY],s=new this.ItemMetadata(this,o),a=new Set;a.add(o);let l=new this.DataProviderOperationEventDetail(this,a,[s],[t],[r]),u=new this.DataProviderMutationEventDetail(this,null,null,l);self.dispatchEvent(new n.DataProviderMutationEvent(u))}_handleRefresh(e){this._isFetching||(this._parentInfoMap.clear(),this.dispatchEvent(new n.DataProviderRefreshEvent))}}return i._SORTCRITERIA="sortCriteria",i._INDEX="index",i._PARENT="parent",i._LEAF="leaf",i._OPERATION="operation",e._registerLegacyNamespaceProp("TreeDataSourceAdapter",i),n.FetchByKeysMixin.applyMixin(i),n.FetchByOffsetMixin.applyMixin(i),i}),define("ojs/ojobservable",["exports"],function(e){"use strict";const t=function(e){this.observers=[],this._value=e};t.prototype.subscribe=function(e,t,r){let i=e;"function"==typeof i?i={next:e,error:t,complete:r}:"object"!=typeof i&&(i={}),this.observers.push(i);const o=new n(this,i);return o&&!o.closed&&i.next(this._value),o},t.prototype.next=function(e){this._value=e;const{observers:t}=this,n=t.length,r=t.slice();for(let t=0;t<n;t++)r[t].next(e)};const n=function(e,t){this.subject=e,this.subscriber=t,this.closed=!1};n.prototype.unsubscribe=function(){if(this.closed)return;this.closed=!0;const e=this.subject.observers;if(this.subject=null,!e||0===e.length)return;const t=e.indexOf(this.subscriber);-1!==t&&e.splice(t,1)},n.prototype.closed=function(){return this.closed},e.BehaviorSubject=t,e.SubjectSubscription=n,Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojurlpathadapter",[],function(){"use strict";function e(e){var t=e;return t&&!t.match(/\/$/)&&(t+="/"),t}function t(e){var t=[];return Object.keys(e).sort().forEach(function(n){var r=e[n];null!=r&&t.push(";"+n+"="+function(e){return encodeURIComponent(e)}(r))}),t.join("")}function n(e){var t=e.split(";"),n={path:r(t.shift()),params:{}};return t.forEach(function(e){if(e){var t=e.split("=");n.params[t[0]]=r(t[1])}}),n}function r(e){return decodeURIComponent(e)}function i(t){this._baseUrl=e(void 0!==t?t:document.location.pathname)}return i.prototype.getRoutesForUrl=function(e,t){var r=void 0!==t?t:document.location.pathname,i=this._baseUrl,o=r.substring(i.length).split("/"),s=[];return o.forEach(function(e){var t=n(e);s.push(t)}),s.length||s.push(n("")),s},i.prototype.getUrlForRoutes=function(n){var r=[];n.forEach(function(e){let n=t(e.params||{});r.push(e.path+n)});var i=this._baseUrl,o=r.join("/");return o&&(i=e(i)),i+o+document.location.search},i}),define("ojs/ojcorerouter",["ojs/ojobservable","ojs/ojurlpathadapter","ojs/ojlogger"],function(e,t,n){"use strict";let r,i;t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;let o=[],s=[];var a=function(){let e=r;const t=[];for(;e;){let n=e._activeState;if(!n){n=e._getPendingState({path:""}),n&&t.push(n);break}t.push({path:n.path||"",params:n.params,pathParams:n.pathParams}),e=e.childRouter}return t};const l=/^{(\w+)}$/;function u(e){const t=e.match(l);if(t)return t[1];throw Error("no path parameter found for segment "+e)}function c(n,o,s){if(o=o||{},this._name="/",this._urlOffset=0,this.beforeStateChange=new e.BehaviorSubject({accept:function(){}}),this.currentState=new e.BehaviorSubject({complete:function(){}}),this._noHistory="skip"===o.history,this._noHistoryOffset=0,this._parentRouter=s,s)this._name=s._name+s._activeState.path+"/",this._urlOffset=s._urlOffset+s._activeState.pathParams.length+1,s._noHistory&&(this._noHistoryOffset=s._noHistoryOffset+s._activeState.pathParams.length+1);else{if(r)throw Error("Only one root CoreRouter instance may exist at a time");r=this,i=o.urlAdapter||new t,this._setupNavigationListener()}this.childRouter=void 0,this._configure(n)}return c.prototype.reconfigure=function(e,t){const n=this._routes;let r=t||this._getActiveRoutes();return r&&!Array.isArray(r)&&(r=[r]),this._configure(e),this.go(...r).catch(e=>{throw this._configure(n),e})},c.prototype._configure=function(e=[]){this._routes=e.map(function(e){let t=e.path,n=[];if("string"==typeof t){const e=t.split("/");t=e.shift(),n=e.map(u)}const r={path:t,detail:e.detail||{},pathParams:n,redirect:e.redirect};let i=t;if("string"==typeof t)i=new RegExp("^"+t+"$");else if(!(t instanceof RegExp))throw Error("Router path must be a string or RegExp");return r._match=i,Object.freeze(r),r},this)},c.prototype.sync=function(){let e;if(s.length){const t=s.shift(),n=this._getParentRoutes().concat(this._getPendingState(t)),r=i.getUrlForRoutes(n);window.history.replaceState(null,"path",r),e=t}else e=this._getRouteSegment();return this._execute(e||{path:"",params:{}}).then(e=>{var t=e,n=this.childRouter;return n?t=n.sync():this._noHistory||(o=[]),t})},c.prototype._getRouteSegment=function(){let e;if(this._noHistory)e=o[this._noHistoryOffset];else{let t=i.getRoutesForUrl();e=t[this._urlOffset];const n=this._getRoutePathParams(e&&e.path);t=i.getRoutesForUrl({offset:this._urlOffset,pathParams:n}),e=t[this._urlOffset]}return e},c.prototype.go=function(...e){let t;if(e.forEach(function(e){var n=e.params;n&&Object.keys(n).forEach(function(e){"object"==typeof n[e]&&(t=Promise.reject('"params" object may only contain scalar values'))})}),!t){const r=e.map(e=>e.path).join("/");n.info(`Navigating router(${this._name}) to ${r}`);const l=e[0],u=i.getUrlForRoutes(a()),c=this._getParentRoutes().concat(this._getPendingState(l,!0)),d=i.getUrlForRoutes(c),h=o;this._noHistory?(n.info(`Navigating non-history tracking router(${this._name}) to ${r}`),o=o.slice(0,this._noHistoryOffset).concat(e)):u!==d&&window.history.pushState(null,"path",d),t=this.sync().catch(e=>{throw s=[],this._noHistory?o=h:window.history.replaceState(null,"path",u),e}),s=e.slice(1)}return t},c.prototype._execute=function(e){const t=this._getPendingState(e);let n;return t?(n=this._prepublish(t),this._isCurrentState(t)||(n=n.then(()=>this._publish(t)))):n=Promise.reject(`Router(${this._name}) has no state matching "${e.path}"`),n},c.prototype._prepublish=function(e){let t=[];this.beforeStateChange.next({state:e,accept:function(e){t.push(e)}});let n=Promise.all(t).then(()=>e);return this.childRouter&&(n=n.then(()=>this.childRouter._prepublish(e))),n=n.then(e=>n!==this._activeSync?Promise.reject():e),this._activeSync=n,n},c.prototype._publish=function(e){var t=[];return this.childRouter=null,this._activeState=e,this.currentState.next({state:e,complete:function(e){t.push(e)}}),Promise.all(t).then(()=>e)},c.prototype._setupNavigationListener=function(){this===r&&(this._popstateHandler=()=>{s=[],this.sync()},window.addEventListener("popstate",this._popstateHandler,!1))},c.prototype._isCurrentState=function(e){var t,n,r=this._activeState;return!!r&&(t=r,n=e,i.getUrlForRoutes([t])===i.getUrlForRoutes([n]))},c.prototype._getPendingState=function(e,t){var n,r=e.path,i=e.params||{};let o=this._routes.find(e=>e._match.test(r));return o&&o.redirect&&(r=o.redirect,o=this._getPendingState({path:r,params:i})),o?(n={path:r,params:i,detail:o.detail,pathParams:o.pathParams,redirect:o.redirect,_match:o._match},Object.freeze(n)):t&&(n={path:r,params:{},detail:{},pathParams:[]}),n},c.prototype._getRoutePathParams=function(e=""){const t=this._getPendingState({path:e});return t?t.pathParams:[]},c.prototype._getParentRoutes=function(){return a().slice(0,this._urlOffset)},c.prototype._getActiveRoutes=function(){return a().slice(this._urlOffset)},c.prototype.createChildRouter=function(e,t={}){this._noHistory&&(t.history="skip");const n=this._activeState;if(!n)throw Error(`Router(${this._name}) has no current state. Call sync() on the router first.`);if(this.childRouter&&"skip"!==t.history)throw Error(`Router(${this._name}) state(${n.path}) already has a child router`);const r=new c(e,t,this);return this.childRouter=r,r},c.prototype.destroy=function(){this===r&&(window.removeEventListener("popstate",this._popstateHandler,!1),r=null)},c}),define("ojs/ojurlparamadapter",["ojs/ojurlpathadapter"],function(e){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t="_ojCoreRouter";function n(){var e=document.location.search?document.location.search.substring(1):"",t=[];return e&&e.split("&").forEach(function(e){var n=e.split("=");t.push(n)}),t}function r(){var e,r=n().find(function(e){return e[0]===t});return r&&(e=r[1],decodeURIComponent(e))}function i(e){var r=encodeURIComponent(e),i=n(),o=i.find(function(e){return e[0]===t});return o?o[1]=r:i.push([t,r]),i.map(function(e){return e[0]+"="+e[1]}).join("&")}function o(n){this._pathAdapter=n||new e(""),void 0===r()&&(t="ojr")}return o.prototype.getRoutesForUrl=function(e){const t=r()||"";return this._pathAdapter.getRoutesForUrl(e,t)},o.prototype.getUrlForRoutes=function(e){var t=this._pathAdapter.getUrlForRoutes(e);return t.indexOf("?")>-1&&(t=t.substring(0,t.indexOf("?"))),`${document.location.pathname}?${i(t)}`},o}),define("ojs/ojmodulerouter-adapter",["ojs/ojlogger","ojs/ojmodule-element-utils","ojs/ojmoduleanimations","knockout"],function(e,t,n,r){"use strict";return function(i,o){var s=i,a=o||{},l=null,u=null,c=null,d=r.observable({view:[],viewModel:null});function h(e){return e?a.pathKey?e.detail[a.pathKey]:e.path:null}var p,f=a.animationCallback?(p=function(e){var t={node:e.node,previousViewModel:e.oldViewModel,viewModel:e.newViewModel,previousState:l,state:u};return a.animationCallback(t)},new function(){var e;function t(t){return function(n){return e[t].call(e,n)}}this.canAnimate=function(r){var i=p(r);return!!(e="string"==typeof i?n[i]:i)&&(["prepareAnimation","animate"].forEach(function(e){this[e]=t(e)}.bind(this)),t("canAnimate")(r))}.bind(this)}):null;s.beforeStateChange.subscribe(function(e){var t=d().viewModel,n=t&&t.canExit?t.canExit():Promise.resolve();e.accept(n)}),s.currentState.subscribe(function(n){var r,i=h(n?n.state:null);if(i){if(i===h(u)&&d().viewModel&&d().viewModel.parametersChanged)return d().viewModel.parametersChanged(n.state.params),void(u=n.state);var o=a.viewPath||"views/",p=a.viewModelPath||"viewModels/";r=t.createConfig({require:a.require,viewPath:o+i+".html",viewModelPath:p+i,params:{parentRouter:s,params:n.state.params,router:s,routerState:n.state}})}else r=Promise.resolve({view:[],viewModel:null});n.complete(r),c=r,r.then(function(e){if(c===r){l=u,u=n.state;var t={viewModel:e.viewModel};Object.defineProperty(t,"view",{enumerable:!0,get:()=>e.view.map(e=>e.cloneNode(!0))}),d(t)}},function(t){e.error("Error creating oj-module config : ",t)})});var _={};return Object.defineProperties(_,{koObservableConfig:{get:function(){return d}},animation:{get:function(){return f}}}),_}}),define("ojs/ojknockoutrouteradapter",["knockout","ojs/ojlogger"],function(e,t){"use strict";return class{constructor(n){var r=e.observable();this._observableState=e.pureComputed({read:()=>r(),write:()=>{throw Error('"state" observable cannot be written to')}}),this._observablePath=e.pureComputed({read:()=>r()&&r().path,write:e=>{n.go({path:e||""}).catch(function(e){t.info("KnockoutRouterAdapter router.go() failed with: "+e),r.valueHasMutated()})}}),this._observablePath.equalityComparer=null,this._stateSubscription=n.currentState.subscribe(e=>{r(e.state)})}destroy(){this._stateSubscription.unsubscribe()}get state(){return this._observableState}get path(){return this._observablePath}}}),define("ojs/ojbinddom",["ojs/ojkoshared","ojs/ojcustomelement-utils","knockout","ojs/ojcore-base","ojs/ojlogger","ojs/ojcontext"],function(e,t,n,r,i,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,e.registerPreprocessor("oj-bind-dom",function(e){var n,r="ko _ojBindDom_:",i=function(e){if(null!=e){var n=t.AttributeUtils.getExpressionInfo(e).expr;return null==n&&(n="'"+e+"'"),n}return null}(e.getAttribute("config"));i&&(r+=i);var o=document.createComment(r),s=document.createComment("/ko");n=[o];var a=e.parentNode;for(a.insertBefore(o,e);e.childNodes.length>0;){var l=e.childNodes[0];a.insertBefore(l,e),n.push(l)}return n.push(s),a.replaceChild(s,e),n}),n.bindingHandlers._ojBindDom_={init:function(e,s,a,l,u){var c,d,h;function p(s){d||(d=o.getContext(e.parentNode).getBusyContext().addBusyState({description:"oj-bind-dom is waiting on config Promise resolution"})),function(){if(!h){var n=function(n){var r=e.parentNode;for(;r&&!t.ElementUtils.isValidCustomElementName(r.localName);)r=r.parentNode;r||(r=n?n._nearestCustomParent:null);return r}(u.$current),i=function(t,n){var r=!1,i=n&&Object.prototype.hasOwnProperty.call(n,"_immediate");e.parentNode===t?r=!0:i&&!e.parentNode.parentNode&&(r=n._immediate);return r}(n,u.$current);h=r._KnockoutBindingProvider.getInstance().__RegisterBindingAppliedPromiseForChildren(n,i)}}(),s.then(function(t){if(s===c)try{var r=t?t.view:[],o=t?t.data:null;n.virtualElements.setDomNodeChildren(e,r||[]);var a=u.createChildContext(o,void 0,function(e){e.$parent=null,e.$parentContext=null,e.$parents=null});n.applyBindingsToDescendants(a,e)}catch(e){i.error("An error %o occurred during view insertion and apply bindings for oj-bind-dom.",e)}finally{_(),f()}},function(e){_(),f(),i.error("An error %o occurred during view insertion and apply bindings for oj-bind-dom.",e)})}function f(){h&&(h(),h=null)}function _(){d&&(d(),d=null)}return n.computed(function(){p(c=Promise.resolve(n.utils.unwrapObservable(s())))},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},n.virtualElements.allowedBindings._ojBindDom_=!0}),define("ojs/ojdeferreddataprovider",["ojs/ojcore-base","ojs/ojcomponentcore"],function(e,t){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class n{constructor(e,t){var n;this._dataProvider=e,this._capabilityFunc=t,this._DATAPROVIDER="dataProvider",this.AsyncIterable=(n=class{constructor(e){this._asyncIterator=e,this[Symbol.asyncIterator]=()=>this._asyncIterator}},Symbol.asyncIterator,n),this.AsyncIterator=class{constructor(e){this._asyncIteratorPromise=e}next(){return this._asyncIteratorPromise.then(e=>e.next())}}}fetchFirst(e){const t=this._getDataProvider().then(t=>t.fetchFirst(e)[Symbol.asyncIterator]());return new this.AsyncIterable(new this.AsyncIterator(t))}fetchByKeys(e){return this._getDataProvider().then(t=>t.fetchByKeys(e))}containsKeys(e){return this._getDataProvider().then(t=>t.containsKeys(e))}fetchByOffset(e){return this._getDataProvider().then(t=>t.fetchByOffset(e))}getTotalSize(){return this._getDataProvider().then(e=>e.getTotalSize())}isEmpty(){return this[this._DATAPROVIDER]?this[this._DATAPROVIDER].isEmpty():"unknown"}getCapability(e){return this._capabilityFunc?this._capabilityFunc(e):null}addEventListener(e,t){this._getDataProvider().then(n=>{n.addEventListener(e,t)})}removeEventListener(e,t){this._getDataProvider().then(n=>{n.removeEventListener(e,t)})}dispatchEvent(e){return!!this[this._DATAPROVIDER]&&this[this._DATAPROVIDER].dispatchEvent(e)}_getDataProvider(){return this._dataProvider.then(e=>{if(t.DataProviderFeatureChecker.isDataProvider(e))return this[this._DATAPROVIDER]||(this[this._DATAPROVIDER]=e),e;throw new Error("Invalid data type. DeferredDataProvider takes a Promise<DataProvider>")})}}return e._registerLegacyNamespaceProp("DeferredDataProvider",n),n}),define("ojs/ojtracer",["exports","ojs/ojcustomelement-utils"],function(e,t){"use strict";class n{spanContext(){return{traceId:"",spanId:"",traceFlags:0}}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t,n){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}class r{startSpan(e,t,r){return new n}startActiveSpan(e,t,r,i){let o;if(!(arguments.length<2))return o=2===arguments.length?t:3===arguments.length?r:i,o(new n)}}class i{getTracer(e,t){return new r}}let o;e.getDescriptiveText=function(e){var n;const r=t.CustomElementUtils.getElementState(e);return null!==(n=null==r?void 0:r.getDescriptiveText())&&void 0!==n?n:""},e.getTracerProvider=function(){return o||(o=new i),o},e.setTracerProvider=function(e){o=e},Object.defineProperty(e,"__esModule",{value:!0})}),define("ojs/ojcachediteratorresultsdataprovider",["ojs/ojcore-base","ojs/ojeventtarget","ojs/ojcomponentcore"],function(e,t,n){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class r{constructor(t,n){var i,o;this.dataProvider=t,this.options=n,this.CacheAsyncIterable=(o=class{constructor(e,t,n,r){this._parent=e,this.dataProviderAsyncIterator=t,this.params=n,this.cache=r,this[i]=()=>new this._parent.CacheAsyncIterator(this._parent,this.dataProviderAsyncIterator,this.params,this.cache)}},i=Symbol.asyncIterator,o),this.CacheAsyncIterator=class{constructor(e,t,n,r){var i,o;this._parent=e,this.asyncIterator=t,this.params=n,this.cache=r,this._cachedOffset=0,this._needLocalRowCount="enabled"===(null===(i=e.options)||void 0===i?void 0:i.includeFilteredRowCount)&&"enabled"===(null==n?void 0:n.includeFilteredRowCount)&&"exact"!==(null===(o=e._baseFetchFirstCapability)||void 0===o?void 0:o.totalFilteredRowCount)}next(){const e=this.params,t=(null==e?void 0:e.size)?e.size:-1;return this._needLocalRowCount&&0===this._cachedOffset?this._checkCachedParamsAndIterate(e,-1).then(n=>this._getResult(e,t,this._parent.cache.getSize())):this._getResult(e,t,this._needLocalRowCount?this._parent.cache.getSize():void 0)}_getResult(e,t,n){let r;if(-1===t){if(this.cache.isDone())return r=this.cache.getDataList(e,this._cachedOffset),this._cachedOffset=this._cachedOffset+r.data.length,Promise.resolve(new this._parent.CacheAsyncIteratorReturnResult(r,n))}else{if(this.cache.getSize()>=this._cachedOffset+t||this.cache.isDone())return r=this.cache.getDataList(e,this._cachedOffset),this._cachedOffset=this._cachedOffset+r.data.length,this._cachedOffset<this.cache.getSize()||!this.cache.isDone()?Promise.resolve(new this._parent.CacheAsyncIteratorYieldResult(r,n)):Promise.resolve(new this._parent.CacheAsyncIteratorReturnResult(r,n));if(this._cachedOffset>0)return new Promise((n,r)=>{if(this._parent._getSharedIteratorState().fetchOffset<this._cachedOffset){const r=()=>this._checkCachedParamsAndIterate(e,t).then(e=>{if(!(this._parent._getSharedIteratorState().fetchOffset>=this._cachedOffset||e.done))return r();n()});return r()}n()}).then(()=>this._checkCachedParamsAndIterate(e,t).then(e=>(this._cachedOffset=this._parent._getSharedIteratorState().fetchOffset,e.done?new this._parent.CacheAsyncIteratorReturnResult(e.value,n):new this._parent.CacheAsyncIteratorYieldResult(e.value,n))))}return this._checkCachedParamsAndIterate(e,t).then(e=>(this._cachedOffset=this._parent._getSharedIteratorState().fetchOffset,e.done?new this._parent.CacheAsyncIteratorReturnResult(e.value,n):new this._parent.CacheAsyncIteratorYieldResult(e.value,n)))}_checkCachedParamsAndIterate(e,t){let n,i=this._parent._getSharedIteratorState().cachedFetchParams,o=this._parent._getSharedIteratorState().fetchOffset,s=this._parent._getSharedIteratorState().fetchPromise;return s&&this._cachedOffset===o&&r._compareCachedFetchParameters(e,i)?n=s:(this._parent._getSharedIteratorState().cachedFetchParams=r._createCachedFetchParams(e),this._parent._getSharedIteratorState().fetchPromise=this.asyncIterator.next().then(e=>(this._parent._getSharedIteratorState().fetchOffset=this._parent._getSharedIteratorState().fetchOffset+e.value.data.length,this._parent._getSharedIteratorState().fetchPromise=null,this.cache.addListResult(e),-1===t&&!this.cache.isDone()||t>0&&!this.cache.isDone()&&e.value.data.length<t?this.asyncIterator.next().then(t=>(this.cache.addListResult(t),e)):e)),n=this._parent._getSharedIteratorState().fetchPromise),n}},this.CacheAsyncIteratorYieldResult=class{constructor(e,t){this.value=e,this[r._VALUE]=void 0!==t?Object.assign({totalFilteredRowCount:t},e):e,this[r._DONE]=!1}},this.CacheAsyncIteratorReturnResult=class{constructor(e,t){this.value=e,this[r._VALUE]=void 0!==t?Object.assign({totalFilteredRowCount:t},e):e,this[r._DONE]=!0}},this.cache=new e.DataCache,this._lastFetchParams=null,t.createOptimizedKeyMap&&(this.createOptimizedKeyMap=e=>t.createOptimizedKeyMap(e)),t.createOptimizedKeySet&&(this.createOptimizedKeySet=e=>t.createOptimizedKeySet(e)),t.addEventListener(r._MUTATE,e=>{this.cache.processMutations(e.detail),this.dispatchEvent(e)}),t.addEventListener(r._REFRESH,e=>{this.cache.reset(),this._lastFetchParams=null,this.dispatchEvent(e)}),this._baseFetchFirstCapability=t.getCapability("fetchFirst")}containsKeys(e){const t=new Set,n=new Set,r=this.cache.getDataByKeys(e);if(e.keys.forEach(e=>{r.results.get(e)?t.add(e):n.add(e)}),0===n.size)return Promise.resolve({containsParameters:e,results:t});{const r={attributes:e.attributes,keys:n,scope:e.scope};return this.dataProvider.containsKeys(r).then(n=>(n.results.forEach(e=>{t.add(e)}),{containsParameters:e,results:t}))}}fetchByKeys(e){const t=new Map,n=new Set,r=this.cache.getDataByKeys(e);if(e.keys.forEach(e=>{const i=r.results.get(e);i?t.set(e,i):n.add(e)}),0===n.size)return Promise.resolve({fetchParameters:e,results:t});{const r={attributes:e.attributes,keys:n,scope:e.scope};return this.dataProvider.fetchByKeys(r).then(n=>(n.results.forEach((e,n)=>{t.set(n,e)}),{fetchParameters:e,results:t}))}}fetchByOffset(e){const t=e.size?e.size:r._DEFAULT_SIZE;if(r._compareCachedFetchParameters(e,this._lastFetchParams)&&e.offset+t<=this.cache.getSize()){const n=JSON.parse(JSON.stringify(e,(e,t)=>{if(!e.startsWith("_"))return t}));n.size=t;const r=this.cache.getDataByOffset(n);if(r)return Promise.resolve(r)}return this.dataProvider.fetchByOffset(e)}fetchFirst(e){if(!r._compareCachedFetchParameters(e,this._lastFetchParams)){this.cache.reset(),this._lastFetchParams=r._createCachedFetchParams(e);const t=this.dataProvider.fetchFirst(e)[Symbol.asyncIterator]();this._firstIteratorState={cachedFetchParams:this._lastFetchParams,fetchOffset:0,fetchPromise:null,asyncIterator:t}}return new this.CacheAsyncIterable(this,this._getSharedIteratorState().asyncIterator,e,this.cache)}getCapability(e){const t=this.dataProvider.getCapability(e);return"fetchCapability"===e?{attributeFilter:null==t?void 0:t.attributeFilter,caching:"visitedByCurrentIterator"}:t}getTotalSize(){return null!=this._lastFetchParams&&!this._lastFetchParams.filterDef&&this.cache.isDone()?Promise.resolve(this.cache.getSize()):this.dataProvider.getTotalSize()}isEmpty(){return null!=this._lastFetchParams&&!this._lastFetchParams.filterDef&&this.cache.isDone()?0===this.cache.getSize()?"yes":"no":this.dataProvider.isEmpty()}_getSharedIteratorState(){return this._firstIteratorState}static _compareCachedFetchParameters(t,n){return t=t||{},null!=n&&e.Object.compareValues(n.attributes,t.attributes||null)&&e.Object.compareValues(n.filterDef,r._getFilterDef(t.filterCriterion))&&e.Object.compareValues(n.sortCriteria,t.sortCriteria||null)}static _createCachedFetchParams(e){e=e||{};const t={};return t.size=e.size,t.attributes=e.attributes?JSON.parse(JSON.stringify(e.attributes)):null,t.filterDef=r._getFilterDef(e.filterCriterion),t.sortCriteria=e.sortCriteria?JSON.parse(JSON.stringify(e.sortCriteria)):null,t}static _getFilterDef(e){if(!e)return null;const t={};return Object.keys(e).forEach(n=>{"filter"!==n&&(t[n]=e[n])}),t}}return r._KEY="key",r._KEYS="keys",r._DATA="data",r._STARTINDEX="startIndex",r._SORT="sort",r._SORTCRITERIA="sortCriteria",r._FILTERCRITERION="filterCriterion",r._METADATA="metadata",r._ITEMS="items",r._FROM="from",r._OFFSET="offset",r._REFRESH="refresh",r._MUTATE="mutate",r._SIZE="size",r._FETCHPARAMETERS="fetchParameters",r._VALUE="value",r._DONE="done",r._RESULTS="results",r._CONTAINSPARAMETERS="containsParameters",r._DEFAULT_SIZE=25,r._CONTAINSKEYS="containsKeys",r._FETCHBYKEYS="fetchByKeys",r._FETCHBYOFFSET="fetchByOffset",r._FETCHFIRST="fetchFirst",r._ADDEVENTLISTENER="addEventListener",r._FETCHATTRIBUTES="attributes",t.EventTargetMixin.applyMixin(r),e._registerLegacyNamespaceProp("CachedIteratorResultsDataProvider",r),r}),define("ojs/ojdedupdataprovider",["ojs/ojcore-base","ojs/ojdataprovider","ojs/ojeventtarget","ojs/ojcachediteratorresultsdataprovider"],function(e,t,n,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class i{constructor(n){var o,s;this.dataProvider=n,this.DedupAsyncIterable=(s=class{constructor(e,t,n,r){this._parent=e,this.params=t,this.dataProviderAsyncIterator=n,this.cache=r,this[o]=()=>new this._parent.DedupAsyncIterator(this._parent,this.params,this.dataProviderAsyncIterator,this.cache)}},o=Symbol.asyncIterator,s),this.DedupAsyncIterator=class{constructor(e,t,n,r){this._parent=e,this.params=t,this.asyncIterator=n,this.cache=r,this._cachedOffset=0}next(){const e=new Set;if(this.params.size>0){this._parent.cache.getDataByOffset({offset:0,size:this._cachedOffset}).results.forEach(t=>{e.add(t.metadata.key)})}return this.asyncIterator.next().then(n=>{const o=n[i._VALUE],s=o.metadata.map(e=>e[i._KEY]);this._cachedOffset=this._cachedOffset+s.length;const a=new Set;s.forEach(e=>{a.add(e)});const l=[],u=[],c=[];if(a.forEach((t,n)=>{e.has(t)&&(l.push(t),u.push(o.data[n]),c.push(o.metadata[n]))}),l.length>0){const e=new Set;for(const t of l)e.add(t);const n=new this._parent.DataProviderOperationEventDetail(this._parent,e,c,u,[]),r=new this._parent.DataProviderMutationEventDetail(this._parent,null,n,null);this._parent.dispatchEvent(new t.DataProviderMutationEvent(r))}return this._parent.dataProvider instanceof r||this._parent.cache.addListResult(n),n})}},this.DataProviderMutationEventDetail=class{constructor(e,t,n,r){this._parent=e,this.add=t,this.remove=n,this.update=r,this[i._ADD]=t,this[i._REMOVE]=n,this[i._UPDATE]=r}},this.DataProviderOperationEventDetail=class{constructor(e,t,n,r,o){this._parent=e,this.keys=t,this.metadata=n,this.data=r,this.indexes=o,this[i._KEYS]=t,this[i._METADATA]=n,this[i._DATA]=r,this[i._INDEXES]=o}},this.cache=n instanceof r?n.cache:new e.DataCache,n.createOptimizedKeyMap&&(this.createOptimizedKeyMap=e=>n.createOptimizedKeyMap(e)),n.createOptimizedKeySet&&(this.createOptimizedKeySet=e=>n.createOptimizedKeySet(e)),n.addEventListener(i._MUTATE,e=>{e.detail&&e.detail.add&&this._processAddMutations(e.detail.add),this.dispatchEvent(e)}),n.addEventListener(i._REFRESH,e=>{this.cache.reset(),this.dispatchEvent(e)})}containsKeys(e){return this.dataProvider.containsKeys(e)}fetchByKeys(e){return this.dataProvider.fetchByKeys(e)}fetchByOffset(e){return this.dataProvider.fetchByOffset(e)}fetchFirst(e){const t=this.dataProvider.fetchFirst(e);return new this.DedupAsyncIterable(this,e,t[Symbol.asyncIterator](),this.cache)}getCapability(e){const t=this.dataProvider.getCapability(e);return"dedup"===e?{type:"iterator"}:t}getTotalSize(){return this.dataProvider.getTotalSize()}isEmpty(){return this.dataProvider.isEmpty()}_processAddMutations(e){const n=e[i._KEYS];if(n&&n.size>0){const e=new Set,r=[],i=[];if(this.cache.getDataByKeys({keys:n}).results.forEach((t,n)=>{e.add(n),r.push(t.data),i.push(t.metadata)}),e.size>0){const n=new this.DataProviderOperationEventDetail(this,e,i,r,[]),o=new this.DataProviderMutationEventDetail(this,null,n,null);this.dispatchEvent(new t.DataProviderMutationEvent(o))}}}}return i._KEY="key",i._KEYS="keys",i._DATA="data",i._METADATA="metadata",i._ITEMS="items",i._FROM="from",i._OFFSET="offset",i._REFRESH="refresh",i._MUTATE="mutate",i._SIZE="size",i._FETCHPARAMETERS="fetchParameters",i._VALUE="value",i._DONE="done",i._RESULTS="results",i._ADD="add",i._UPDATE="update",i._REMOVE="remove",i._INDEXES="indexes",n.EventTargetMixin.applyMixin(i),e._registerLegacyNamespaceProp("DedupDataProvider",i),i}),define("ojs/ojmutateeventfilteringdataprovider",["ojs/ojcore-base","ojs/ojcachediteratorresultsdataprovider","ojs/ojdedupdataprovider","ojs/ojcomponentcore","ojs/ojeventtarget","ojs/ojdataprovider"],function(e,t,n,r,i,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;
/**
     * @preserve Copyright 2013 jQuery Foundation and other contributors
     * Released under the MIT license.
     * http://jquery.org/license
     */
class s{constructor(r){var i,o;this.dataProvider=r,this.MutateEventFilteringAsyncIterable=(o=class{constructor(e,t,n,r){this._parent=e,this.params=t,this.dataProviderAsyncIterator=n,this.cache=r,this[i]=()=>new this._parent.MutateEventFilteringAsyncIterator(this._parent,this.params,this.dataProviderAsyncIterator,this.cache)}},i=Symbol.asyncIterator,o),this.MutateEventFilteringAsyncIterator=class{constructor(e,t,n,r){this._parent=e,this.params=t,this.asyncIterator=n,this.cache=r}next(){let e=this;return this.asyncIterator.next().then(r=>(e._parent.dataProvider instanceof t||e._parent.dataProvider instanceof n||e._parent.cache.addListResult(r),r))}},this.DataProviderMutationEventDetail=class{constructor(e,t,n){this.add=e,this.remove=t,this.update=n,this[s._ADD]=e,this[s._REMOVE]=t,this[s._UPDATE]=n}};let a=this;this.cache=r instanceof t||r instanceof n?r.cache:new e.DataCache,r.createOptimizedKeyMap&&(this.createOptimizedKeyMap=e=>r.createOptimizedKeyMap(e)),r.createOptimizedKeySet&&(this.createOptimizedKeySet=e=>r.createOptimizedKeySet(e)),r.addEventListener(s._MUTATE,e=>{if(e.detail){let t=a._processMutations(e.detail.remove),n=a._processMutations(e.detail.update);if(t&&t.keys&&t.keys.size>0||n&&n.keys&&n.keys.size>0||e.detail.add&&e.detail.add.keys&&e.detail.add.keys.size>0){let r=new a.DataProviderMutationEventDetail(e.detail.add,t,n),i=Object.assign({},e);i.detail=r,a.dispatchEvent(i)}}else a.dispatchEvent(e)}),r.addEventListener(s._REFRESH,e=>{a.cache.reset(),a.dispatchEvent(e)})}containsKeys(e){return this.dataProvider.containsKeys(e)}fetchByKeys(e){return this.dataProvider.fetchByKeys(e)}fetchByOffset(e){return this.dataProvider.fetchByOffset(e)}fetchFirst(e){const t=this.dataProvider.fetchFirst(e);return new this.MutateEventFilteringAsyncIterable(this,e,t[Symbol.asyncIterator](),this.cache)}getCapability(e){let t=this.dataProvider.getCapability(e);return"eventFiltering"===e?{type:"iterator"}:t}getTotalSize(){return this.dataProvider.getTotalSize()}isEmpty(){return this.dataProvider.isEmpty()}_processMutations(e){if(e){let t=e[s._KEYS];if(t&&t.size>0){let n=new Set,r=this.cache.getDataByKeys({keys:t});t.forEach(function(e){r.results.has(e)||n.add(e)});let i=Object.assign({},e);return n.forEach(function(e){let t=[];i.keys.forEach(function(e){t.push(e)});let n=t.indexOf(e);i.keys.delete(e),t.splice(n,1),i.data&&i.data.splice(n,1),i.indexes&&i.indexes.splice(n,1),i.metadata&&i.metadata.splice(n,1)}),i}}return e}}return s._KEY="key",s._KEYS="keys",s._DATA="data",s._METADATA="metadata",s._ITEMS="items",s._FROM="from",s._OFFSET="offset",s._REFRESH="refresh",s._MUTATE="mutate",s._SIZE="size",s._FETCHPARAMETERS="fetchParameters",s._VALUE="value",s._DONE="done",s._RESULTS="results",s._ADD="add",s._UPDATE="update",s._REMOVE="remove",s._INDEXES="indexes",i.EventTargetMixin.applyMixin(s),e._registerLegacyNamespaceProp("MutateEventFilteringDataProvider",s),s}),define("ojs/ojdataproviderfactory",["exports","ojs/ojeventtarget","ojs/ojcachediteratorresultsdataprovider","ojs/ojdedupdataprovider","ojs/ojmutateeventfilteringdataprovider"],function(e,t,n,r,i){"use strict";function o(e,t){const o=null==t?void 0:t.fetchFirst,a=null==t?void 0:t.dedup,l=null==t?void 0:t.eventFiltering,u=e.getCapability("fetchFirst")||e.getCapability("fetchCapability"),c=e.getCapability("dedup"),d=e.getCapability("eventFiltering");let h=!1,p=!1,f=!1,_=!1;const m=null==u?void 0:u.caching;"visitedByCurrentIterator"===(null==o?void 0:o.caching)&&"all"!==m&&"visitedByCurrentIterator"!==m&&(h=!0);const g=null==u?void 0:u.totalFilteredRowCount;"exact"===(null==o?void 0:o.totalFilteredRowCount)&&"exact"!==g&&(p=!0);const v=null==c?void 0:c.type;"iterator"===(null==a?void 0:a.type)&&"global"!==v&&"iterator"!==v&&(f=!0);const y=null==d?void 0:d.type;"iterator"===(null==l?void 0:l.type)&&"global"!==y&&"iterator"!==y&&(_=!0);let E=e;return(h||p)&&(E=new n(E,p?{includeFilteredRowCount:"enabled"}:void 0)),f&&(E=new r(E)),_&&(E=new i(E)),e.getChildDataProvider&&(E=new s(e,E,t)),E}n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;class s{constructor(e,t,n){this.treeDataProvider=e,this.enhancedDataProvider=t,this.capabilityConfigurations=n,t.addEventListener(s._MUTATE,e=>{this.updateCache(e),this.dispatchEvent(e)}),t.addEventListener(s._REFRESH,e=>{this.flushCache(),this.dispatchEvent(e)}),t.createOptimizedKeyMap&&(this.createOptimizedKeyMap=e=>t.createOptimizedKeyMap(e)),t.createOptimizedKeySet&&(this.createOptimizedKeySet=e=>t.createOptimizedKeySet(e)),this._mapKeyToChild=new Map}getChildDataProvider(e){const t=this._mapKeyToChild.get(e);return t||this.cacheEnhancedDataProvider(e)}containsKeys(e){return this.enhancedDataProvider.containsKeys(e)}fetchByKeys(e){return this.enhancedDataProvider.fetchByKeys(e)}fetchByOffset(e){return this.enhancedDataProvider.fetchByOffset(e)}fetchFirst(e){return this.enhancedDataProvider.fetchFirst(e)}getCapability(e){return this.enhancedDataProvider.getCapability(e)}getTotalSize(){return this.enhancedDataProvider.getTotalSize()}isEmpty(){return this.enhancedDataProvider.isEmpty()}cacheEnhancedDataProvider(e){const t=this.treeDataProvider.getChildDataProvider(e);if(t){const n=o(t,this.capabilityConfigurations);return this._mapKeyToChild.set(e,n),n}return null}updateCache(e){const t=e.detail.remove,n=e.detail.update;let r;t&&(r=t.keys,r&&r.forEach(e=>{this._mapKeyToChild.delete(e)})),n&&(r=n.keys,r&&r.forEach(e=>{this._mapKeyToChild.delete(e)}))}flushCache(){this._mapKeyToChild.clear()}}s._REFRESH="refresh",s._MUTATE="mutate",t.EventTargetMixin.applyMixin(s),e.getEnhancedDataProvider=o,Object.defineProperty(e,"__esModule",{value:!0})}),define("bundles/ojcorebundle",function(){});
//# sourceMappingURL=ojcorebundle.js.map